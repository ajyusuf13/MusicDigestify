/*! For license information please see main.0a0a1bdb.js.LICENSE.txt */
!function(){var e={4876:function(e,t,n){"use strict";var r=n(3782),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,r.Z)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.Z=a},3782:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},3840:function(e,t){"use strict";t.Z={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},2714:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"}),"PauseCircle");t.Z=o},3154:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.5 16.5v-9l7 4.5-7 4.5z"}),"PlayCircle");t.Z=o},5403:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(2025)},2025:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return u},createChainedFunction:function(){return s},createSvgIcon:function(){return Rr},debounce:function(){return Lr},deprecatedPropType:function(){return Fr},isMuiElement:function(){return Mr},ownerDocument:function(){return Vr},ownerWindow:function(){return Ur},requirePropFactory:function(){return Br},setRef:function(){return qr},unstable_ClassNameGenerator:function(){return si},unstable_useEnhancedEffect:function(){return Wr},unstable_useId:function(){return Zr},unsupportedProp:function(){return $r},useControlled:function(){return Qr},useEventCallback:function(){return Jr},useForkRef:function(){return Xr},useIsFocusVisible:function(){return ui}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var u=o;var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},c=n(7462),l=n(2791),f=n.t(l,2),h=n(3366);function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var p=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r};function v(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=(0,c.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}function m(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,c.Z)({},e):e;return m(e)&&m(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(m(t[i])&&i in e&&m(e[i])?r[i]=y(e[i],t[i],n):r[i]=t[i])})),r}var g=n(4942),k=["values","unit","step"];function b(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=(0,h.Z)(e,k),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,c.Z)({},e,(0,g.Z)({},t.key,t.val))}),{})}(n),l=Object.keys(s);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return(0,c.Z)({keys:l,values:s,up:f,down:d,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?d(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var w={borderRadius:4},x=n(9439),S={xs:0,sm:600,md:900,lg:1200,xl:1536},_={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(S[e],"px)")}};function E(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||_;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||_;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||S).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function I(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function T(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function C(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function A(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:C(e,n)||i,t&&(r=t(r)),r}var N=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=C(e.theme,i)||{};return E(e,n,(function(e){var n=A(u,a,e);return e===n&&"string"===typeof e&&(n=A(u,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:(0,g.Z)({},r,n)}))};return u.propTypes={},u.filterProps=[t],u};var O=function(e,t){return t?y(e,t,{clone:!1}):e};var D={m:"margin",p:"padding"},P={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},R={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},L=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!R[e])return[e];e=R[e]}var t=e.split(""),n=(0,x.Z)(t,2),r=n[0],i=n[1],a=D[r],o=P[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),F=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],M=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],j=[].concat(F,M);function V(e,t,n,r){var i,a=null!=(i=C(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function U(e){return V(e,"spacing",8)}function B(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function z(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=B(t,n),e}),{})}}(L(n),r);return E(e,e[n],i)}function q(e,t){var n=U(e.theme);return Object.keys(e).map((function(r){return z(e,t,r,n)})).reduce(O,{})}function K(e){return q(e,F)}function W(e){return q(e,M)}function H(e){return q(e,j)}K.propTypes={},K.filterProps=F,W.propTypes={},W.filterProps=M,H.propTypes={},H.filterProps=j;var G=H;function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=U({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var $=["breakpoints","palette","spacing","shape"];var Q=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=(0,h.Z)(e,$),l=b(n),f=Z(a),d=y({breakpoints:l,direction:"ltr",components:{},palette:(0,c.Z)({mode:"light"},i),spacing:f,shape:(0,c.Z)({},w,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return d=v.reduce((function(e,t){return y(e,t)}),d)};var J=l.createContext(null);function Y(){return l.useContext(J)}function X(e){return 0===Object.keys(e).length}var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Y();return!t||X(t)?e:t},te=Q();var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return ee(e)};function re(e,t){var n;return(0,c.Z)({toolbar:(n={minHeight:56},(0,g.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,g.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function ae(e){if(e.type)return e;if("#"===e.charAt(0))return ae(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function oe(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function ue(e){var t="hsl"===(e=ae(e)).type?ae(function(e){var t=(e=ae(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),oe({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function se(e,t){if(e=ae(e),t=ie(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return oe(e)}function ce(e,t){if(e=ae(e),t=ie(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return oe(e)}var le={black:"#000",white:"#fff"},fe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},he={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},de={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},pe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ve={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},me={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ye={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ge=["mode","contrastThreshold","tonalOffset"],ke={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:le.white,default:le.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},be={text:{primary:le.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:le.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function we(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=ce(e.main,i):"dark"===t&&(e.dark=se(e.main,a)))}function xe(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,u=void 0===o?.2:o,s=(0,h.Z)(e,ge),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ve[200],light:ve[50],dark:ve[400]}:{main:ve[700],light:ve[400],dark:ve[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:he[200],light:he[50],dark:he[400]}:{main:he[500],light:he[300],dark:he[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:de[500],light:de[300],dark:de[700]}:{main:de[700],light:de[400],dark:de[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:me[400],light:me[300],dark:me[700]}:{main:me[700],light:me[500],dark:me[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ye[400],light:ye[300],dark:ye[700]}:{main:ye[800],light:ye[500],dark:ye[900]}}(n),m=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pe[400],light:pe[300],dark:pe[700]}:{main:"#ed6c02",light:pe[500],dark:pe[900]}}(n);function g(e){var t=function(e,t){var n=ue(e),r=ue(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,be.text.primary)>=i?be.text.primary:ke.text.primary;return t}var k=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=(0,c.Z)({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return we(t,"light",s,u),we(t,"dark",f,u),t.contrastText||(t.contrastText=g(t.main)),t},b={dark:be,light:ke};return y((0,c.Z)({common:(0,c.Z)({},le),mode:n,primary:k({color:l,name:"primary"}),secondary:k({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:k({color:d,name:"error"}),warning:k({color:m,name:"warning"}),info:k({color:p,name:"info"}),success:k({color:v,name:"success"}),grey:fe,contrastThreshold:i,getContrastText:g,augmentColor:k,tonalOffset:u},b[n]),s)}var Se=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var _e={textTransform:"uppercase"},Ee='"Roboto", "Helvetica", "Arial", sans-serif';function Ie(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Ee:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,l=n.fontWeightRegular,f=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=(0,h.Z)(n,Se);var S=o/14,_=w||function(e){return"".concat(e/k*S,"rem")},E=function(e,t,n,r,a){return(0,c.Z)({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===Ee?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},I={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(f,48,1.167,0),h4:E(f,34,1.235,.25),h5:E(f,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(f,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(f,16,1.5,.15),body2:E(f,14,1.43,.15),button:E(p,14,1.75,.4,_e),caption:E(f,12,1.66,.4),overline:E(f,12,2.66,1,_e)};return y((0,c.Z)({htmlFontSize:k,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:m},I),x,{clone:!1})}function Te(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Ce=["none",Te(0,2,1,-1,0,1,1,0,0,1,3,0),Te(0,3,1,-2,0,2,2,0,0,1,5,0),Te(0,3,3,-2,0,3,4,0,0,1,8,0),Te(0,2,4,-1,0,4,5,0,0,1,10,0),Te(0,3,5,-1,0,5,8,0,0,1,14,0),Te(0,3,5,-1,0,6,10,0,0,1,18,0),Te(0,4,5,-2,0,7,10,1,0,2,16,1),Te(0,5,5,-3,0,8,10,1,0,3,14,2),Te(0,5,6,-3,0,9,12,1,0,3,16,2),Te(0,6,6,-3,0,10,14,1,0,4,18,3),Te(0,6,7,-4,0,11,15,1,0,4,20,3),Te(0,7,8,-4,0,12,17,2,0,5,22,4),Te(0,7,8,-4,0,13,19,2,0,5,24,4),Te(0,7,9,-4,0,14,21,2,0,5,26,4),Te(0,8,9,-5,0,15,22,2,0,6,28,5),Te(0,8,10,-5,0,16,24,2,0,6,30,5),Te(0,8,11,-5,0,17,26,2,0,6,32,5),Te(0,9,11,-5,0,18,28,2,0,7,34,6),Te(0,9,12,-6,0,19,29,2,0,7,36,6),Te(0,10,13,-6,0,20,31,3,0,8,38,7),Te(0,10,13,-6,0,21,33,3,0,8,40,7),Te(0,10,14,-6,0,22,35,3,0,8,42,7),Te(0,11,14,-7,0,23,36,3,0,9,44,8),Te(0,11,15,-7,0,24,38,3,0,9,46,8)],Ae=["duration","easing","delay"],Ne={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Oe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function De(e){return"".concat(Math.round(e),"ms")}function Pe(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Re(e){var t=(0,c.Z)({},Ne,e.easing),n=(0,c.Z)({},Oe,e.duration);return(0,c.Z)({getAutoHeightDuration:Pe,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;(0,h.Z)(r,Ae);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:De(a)," ").concat(u," ").concat("string"===typeof c?c:De(c))})).join(",")}},e,{easing:t,duration:n})}var Le={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Fe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,l=(0,h.Z)(e,Fe),f=xe(i),d=Q(e),p=y(d,{mixins:re(d.breakpoints,n),palette:f,shadows:Ce.slice(),typography:Ie(f,s),transitions:Re(o),zIndex:(0,c.Z)({},Le)});p=y(p,l);for(var v=arguments.length,m=new Array(v>1?v-1:0),g=1;g<v;g++)m[g-1]=arguments[g];return p=m.reduce((function(e,t){return y(e,t)}),p)}var je=Me();function Ve(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return v({theme:ne(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:je})}var Ue=n(3433),Be=n(4876);var ze=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),qe=Math.abs,Ke=String.fromCharCode,We=Object.assign;function He(e){return e.trim()}function Ge(e,t,n){return e.replace(t,n)}function Ze(e,t){return e.indexOf(t)}function $e(e,t){return 0|e.charCodeAt(t)}function Qe(e,t,n){return e.slice(t,n)}function Je(e){return e.length}function Ye(e){return e.length}function Xe(e,t){return t.push(e),e}var et=1,tt=1,nt=0,rt=0,it=0,at="";function ot(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:et,column:tt,length:o,return:""}}function ut(e,t){return We(ot("",null,null,"",null,null,0),e,{length:-e.length},t)}function st(){return it=rt>0?$e(at,--rt):0,tt--,10===it&&(tt=1,et--),it}function ct(){return it=rt<nt?$e(at,rt++):0,tt++,10===it&&(tt=1,et++),it}function lt(){return $e(at,rt)}function ft(){return rt}function ht(e,t){return Qe(at,e,t)}function dt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pt(e){return et=tt=1,nt=Je(at=e),rt=0,[]}function vt(e){return at="",e}function mt(e){return He(ht(rt-1,kt(91===e?e+2:40===e?e+1:e)))}function yt(e){for(;(it=lt())&&it<33;)ct();return dt(e)>2||dt(it)>3?"":" "}function gt(e,t){for(;--t&&ct()&&!(it<48||it>102||it>57&&it<65||it>70&&it<97););return ht(e,ft()+(t<6&&32==lt()&&32==ct()))}function kt(e){for(;ct();)switch(it){case e:return rt;case 34:case 39:34!==e&&39!==e&&kt(it);break;case 40:41===e&&kt(e);break;case 92:ct()}return rt}function bt(e,t){for(;ct()&&e+it!==57&&(e+it!==84||47!==lt()););return"/*"+ht(t,rt-1)+"*"+Ke(47===e?e:ct())}function wt(e){for(;!dt(lt());)ct();return ht(e,rt)}var xt="-ms-",St="-moz-",_t="-webkit-",Et="comm",It="rule",Tt="decl",Ct="@keyframes";function At(e,t){for(var n="",r=Ye(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Nt(e,t,n,r){switch(e.type){case"@import":case Tt:return e.return=e.return||e.value;case Et:return"";case Ct:return e.return=e.value+"{"+At(e.children,r)+"}";case It:e.value=e.props.join(",")}return Je(n=At(e.children,r))?e.return=e.value+"{"+n+"}":""}function Ot(e,t){switch(function(e,t){return(((t<<2^$e(e,0))<<2^$e(e,1))<<2^$e(e,2))<<2^$e(e,3)}(e,t)){case 5103:return _t+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _t+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _t+e+St+e+xt+e+e;case 6828:case 4268:return _t+e+xt+e+e;case 6165:return _t+e+xt+"flex-"+e+e;case 5187:return _t+e+Ge(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return _t+e+xt+"flex-item-"+Ge(e,/flex-|-self/,"")+e;case 4675:return _t+e+xt+"flex-line-pack"+Ge(e,/align-content|flex-|-self/,"")+e;case 5548:return _t+e+xt+Ge(e,"shrink","negative")+e;case 5292:return _t+e+xt+Ge(e,"basis","preferred-size")+e;case 6060:return _t+"box-"+Ge(e,"-grow","")+_t+e+xt+Ge(e,"grow","positive")+e;case 4554:return _t+Ge(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Ge(Ge(Ge(e,/(zoom-|grab)/,_t+"$1"),/(image-set)/,_t+"$1"),e,"")+e;case 5495:case 3959:return Ge(e,/(image-set\([^]*)/,_t+"$1$`$1");case 4968:return Ge(Ge(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+_t+e+e;case 4095:case 3583:case 4068:case 2532:return Ge(e,/(.+)-inline(.+)/,_t+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Je(e)-1-t>6)switch($e(e,t+1)){case 109:if(45!==$e(e,t+4))break;case 102:return Ge(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+St+(108==$e(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ze(e,"stretch")?Ot(Ge(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==$e(e,t+1))break;case 6444:switch($e(e,Je(e)-3-(~Ze(e,"!important")&&10))){case 107:return Ge(e,":",":"+_t)+e;case 101:return Ge(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_t+(45===$e(e,14)?"inline-":"")+"box$3$1"+_t+"$2$3$1"+xt+"$2box$3")+e}break;case 5936:switch($e(e,t+11)){case 114:return _t+e+xt+Ge(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _t+e+xt+Ge(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _t+e+xt+Ge(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return _t+e+xt+e+e}return e}function Dt(e){return vt(Pt("",null,null,null,[""],e=pt(e),0,[0],e))}function Pt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,S=k;m;)switch(p=g,g=ct()){case 40:if(108!=p&&58==S.charCodeAt(f-1)){-1!=Ze(S+=Ge(mt(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=mt(g);break;case 9:case 10:case 13:case 32:S+=yt(p);break;case 92:S+=gt(ft()-1,7);continue;case 47:switch(lt()){case 42:case 47:Xe(Lt(bt(ct(),ft()),t,n),s);break;default:S+="/"}break;case 123*v:u[c++]=Je(S)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&Je(S)-f&&Xe(d>32?Ft(S+";",r,n,f-1):Ft(Ge(S," ","")+";",r,n,f-2),s);break;case 59:S+=";";default:if(Xe(x=Rt(S,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)Pt(S,t,x,x,b,a,f,u,w);else switch(h){case 100:case 109:case 115:Pt(e,x,x,r&&Xe(Rt(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:Pt(S,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=S="",f=o;break;case 58:f=1+Je(S),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==st())continue;switch(S+=Ke(g),g*v){case 38:y=l>0?1:(S+="\f",-1);break;case 44:u[c++]=(Je(S)-1)*y,y=1;break;case 64:45===lt()&&(S+=mt(ct())),h=lt(),l=f=Je(k=S+=wt(ft())),g++;break;case 45:45===p&&2==Je(S)&&(v=0)}}return a}function Rt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=Ye(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=Qe(e,f+1,f=qe(v=o[p])),k=e;y<d;++y)(k=He(v>0?h[y]+" "+g:Ge(g,/&\f/g,h[y])))&&(s[m++]=k);return ot(e,t,n,0===i?It:u,s,c,l)}function Lt(e,t,n){return ot(e,t,n,Et,Ke(it),Qe(e,2,-2),0)}function Ft(e,t,n,r){return ot(e,t,n,Tt,Qe(e,0,r),Qe(e,r+1,-1),r)}var Mt=function(e,t,n){for(var r=0,i=0;r=i,i=lt(),38===r&&12===i&&(t[n]=1),!dt(i);)ct();return ht(e,rt)},jt=function(e,t){return vt(function(e,t){var n=-1,r=44;do{switch(dt(r)){case 0:38===r&&12===lt()&&(t[n]=1),e[n]+=Mt(rt-1,t,n);break;case 2:e[n]+=mt(r);break;case 4:if(44===r){e[++n]=58===lt()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ke(r)}}while(r=ct());return e}(pt(e),t))},Vt=new WeakMap,Ut=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Vt.get(n))&&!r){Vt.set(e,!0);for(var i=[],a=jt(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},Bt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},zt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Tt:e.return=Ot(e.value,e.length);break;case Ct:return At([ut(e,{value:Ge(e.value,"@","@"+_t)})],r);case It:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return At([ut(e,{props:[Ge(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return At([ut(e,{props:[Ge(t,/:(plac\w+)/,":-webkit-input-$1")]}),ut(e,{props:[Ge(t,/:(plac\w+)/,":-moz-$1")]}),ut(e,{props:[Ge(t,/:(plac\w+)/,xt+"input-$1")]})],r)}return""}))}}],qt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||zt;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[Nt,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=Ye(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([Ut,Bt].concat(r,l));a=function(e,t,n,r){s=n,At(Dt(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new ze({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Kt=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Wt=n(3840),Ht=n(3782),Gt=/[A-Z]|^ms/g,Zt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$t=function(e){return 45===e.charCodeAt(1)},Qt=function(e){return null!=e&&"boolean"!==typeof e},Jt=(0,Ht.Z)((function(e){return $t(e)?e:e.replace(Gt,"-$&").toLowerCase()})),Yt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Zt,(function(e,t,n){return en={name:t,styles:n,next:en},t}))}return 1===Wt.Z[e]||$t(e)||"number"!==typeof t||0===t?t:t+"px"};function Xt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return en={name:n.name,styles:n.styles,next:en},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)en={name:r.name,styles:r.styles,next:en},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Xt(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Qt(o)&&(r+=Jt(a)+":"+Yt(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Xt(e,t,o);switch(a){case"animation":case"animationName":r+=Jt(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Qt(o[s])&&(r+=Jt(a)+":"+Yt(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=en,a=n(e);return en=i,Xt(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var en,tn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var nn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";en=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Xt(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Xt(n,t,e[o]),r&&(i+=a[o]);tn.lastIndex=0;for(var u,s="";null!==(u=tn.exec(i));)s+="-"+u[1];return{name:Kt(i)+s,styles:i,next:en}},rn=(0,l.createContext)("undefined"!==typeof HTMLElement?qt({key:"css"}):null);rn.Provider;var an=function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(rn);return e(t,r,n)}))},on=(0,l.createContext)({});f.useInsertionEffect&&f.useInsertionEffect;function un(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var sn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},cn=Be.Z,ln=function(e){return"theme"!==e},fn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?cn:ln},hn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},dn=f.useInsertionEffect?f.useInsertionEffect:function(e){e()};var pn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;sn(t,n,r);var i;i=function(){return function(e,t,n){sn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)},dn(i);return null},vn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var u=hn(t,n,a),s=u||fn(o),f=!s("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=an((function(e,t,n){var r=f&&e.as||o,a="",c=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,l.useContext)(on)}"string"===typeof e.className?a=un(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var v=nn(d.concat(c),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=f&&void 0===u?fn(r):s,y={};for(var g in e)f&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=a,y.ref=n,(0,l.createElement)(l.Fragment,null,(0,l.createElement)(pn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),(0,l.createElement)(r,y))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,(0,c.Z)({},n,r,{shouldForwardProp:hn(m,r,!0)})).apply(void 0,d)},m}},mn=vn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){mn[e]=mn(e)}));var yn=mn;function gn(e,t){return yn(e,t)}var kn=["variant"];function bn(e){return 0===e.length}function wn(e){var t=e.variant,n=(0,h.Z)(e,kn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?bn(r)?e[t]:o(e[t]):"".concat(bn(r)?t:o(t)).concat(o(e[t].toString()))})),r}var xn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?O(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Sn(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var _n=N({prop:"border",themeKey:"borders",transform:Sn}),En=N({prop:"borderTop",themeKey:"borders",transform:Sn}),In=N({prop:"borderRight",themeKey:"borders",transform:Sn}),Tn=N({prop:"borderBottom",themeKey:"borders",transform:Sn}),Cn=N({prop:"borderLeft",themeKey:"borders",transform:Sn}),An=N({prop:"borderColor",themeKey:"palette"}),Nn=N({prop:"borderTopColor",themeKey:"palette"}),On=N({prop:"borderRightColor",themeKey:"palette"}),Dn=N({prop:"borderBottomColor",themeKey:"palette"}),Pn=N({prop:"borderLeftColor",themeKey:"palette"}),Rn=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=V(e.theme,"shape.borderRadius",4);return E(e,e.borderRadius,(function(e){return{borderRadius:B(t,e)}}))}return null};Rn.propTypes={},Rn.filterProps=["borderRadius"];var Ln=xn(_n,En,In,Tn,Cn,An,Nn,On,Dn,Pn,Rn),Fn=xn(N({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),N({prop:"display"}),N({prop:"overflow"}),N({prop:"textOverflow"}),N({prop:"visibility"}),N({prop:"whiteSpace"})),Mn=xn(N({prop:"flexBasis"}),N({prop:"flexDirection"}),N({prop:"flexWrap"}),N({prop:"justifyContent"}),N({prop:"alignItems"}),N({prop:"alignContent"}),N({prop:"order"}),N({prop:"flex"}),N({prop:"flexGrow"}),N({prop:"flexShrink"}),N({prop:"alignSelf"}),N({prop:"justifyItems"}),N({prop:"justifySelf"})),jn=function(e){if(void 0!==e.gap&&null!==e.gap){var t=V(e.theme,"spacing",8);return E(e,e.gap,(function(e){return{gap:B(t,e)}}))}return null};jn.propTypes={},jn.filterProps=["gap"];var Vn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=V(e.theme,"spacing",8);return E(e,e.columnGap,(function(e){return{columnGap:B(t,e)}}))}return null};Vn.propTypes={},Vn.filterProps=["columnGap"];var Un=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=V(e.theme,"spacing",8);return E(e,e.rowGap,(function(e){return{rowGap:B(t,e)}}))}return null};Un.propTypes={},Un.filterProps=["rowGap"];var Bn=xn(jn,Vn,Un,N({prop:"gridColumn"}),N({prop:"gridRow"}),N({prop:"gridAutoFlow"}),N({prop:"gridAutoColumns"}),N({prop:"gridAutoRows"}),N({prop:"gridTemplateColumns"}),N({prop:"gridTemplateRows"}),N({prop:"gridTemplateAreas"}),N({prop:"gridArea"})),zn=xn(N({prop:"position"}),N({prop:"zIndex",themeKey:"zIndex"}),N({prop:"top"}),N({prop:"right"}),N({prop:"bottom"}),N({prop:"left"})),qn=xn(N({prop:"color",themeKey:"palette"}),N({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),N({prop:"backgroundColor",themeKey:"palette"})),Kn=N({prop:"boxShadow",themeKey:"shadows"});function Wn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Hn=N({prop:"width",transform:Wn}),Gn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return E(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||S[t]||Wn(t)}}))}return null};Gn.filterProps=["maxWidth"];var Zn=N({prop:"minWidth",transform:Wn}),$n=N({prop:"height",transform:Wn}),Qn=N({prop:"maxHeight",transform:Wn}),Jn=N({prop:"minHeight",transform:Wn}),Yn=(N({prop:"size",cssProperty:"width",transform:Wn}),N({prop:"size",cssProperty:"height",transform:Wn}),xn(Hn,Gn,Zn,$n,Qn,Jn,N({prop:"boxSizing"}))),Xn=N({prop:"fontFamily",themeKey:"typography"}),er=N({prop:"fontSize",themeKey:"typography"}),tr=N({prop:"fontStyle",themeKey:"typography"}),nr=N({prop:"fontWeight",themeKey:"typography"}),rr=N({prop:"letterSpacing"}),ir=N({prop:"textTransform"}),ar=N({prop:"lineHeight"}),or=N({prop:"textAlign"}),ur=xn(N({prop:"typography",cssProperty:!1,themeKey:"typography"}),Xn,er,tr,nr,rr,ar,or,ir),sr={borders:Ln.filterProps,display:Fn.filterProps,flexbox:Mn.filterProps,grid:Bn.filterProps,positions:zn.filterProps,palette:qn.filterProps,shadows:Kn.filterProps,sizing:Yn.filterProps,spacing:G.filterProps,typography:ur.filterProps},cr={borders:Ln,display:Fn,flexbox:Mn,grid:Bn,positions:zn,palette:qn,shadows:Kn,sizing:Yn,spacing:G,typography:ur};Object.keys(sr).reduce((function(e,t){return sr[t].forEach((function(n){e[n]=cr[t]})),e}),{});function lr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function fr(e,t){return"function"===typeof e?e(t):e}var hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,g.Z)(i,e,n),(0,g.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,g.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=I(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=fr(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=O(s,n(e,a,u));else{var o=E({theme:u},a,(function(t){return(0,g.Z)({},e,t)}));lr(o,a)?s[e]=r({sx:a,theme:u}):s=O(s,o)}else s=O(s,n(e,a,u))})),T(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();hr.filterProps=["sx"];var dr=hr,pr=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],vr=["theme"],mr=["theme"];function yr(e){return 0===Object.keys(e).length}var gr=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},kr=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=wn(e.props);r[t]=e.style})),r},br=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[wn(n.props)])})),s};function wr(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var xr=Q();var Sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?xr:t,r=e.rootShouldForwardProp,i=void 0===r?wr:r,a=e.slotShouldForwardProp,o=void 0===a?wr:a,u=e.styleFunctionSx,s=void 0===u?dr:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,l=r.skipVariantsResolver,f=r.skipSx,d=r.overridesResolver,p=(0,h.Z)(r,pr),v=void 0!==l?l:u&&"Root"!==u||!1,m=f||!1;var y=wr;"Root"===u?y=i:u&&(y=o);var g=gn(e,(0,c.Z)({shouldForwardProp:y,label:t},p)),k=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,h.Z)(t,vr);return e((0,c.Z)({theme:yr(r)?n:r},i))}:e})):[],u=e;a&&d&&o.push((function(e){var t=yr(e.theme)?n:e.theme,r=gr(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=(0,x.Z)(n,2),a=r[0],o=r[1];i[a]="function"===typeof o?o((0,c.Z)({},e,{theme:t})):o})),d(e,i)}return null})),a&&!v&&o.push((function(e){var t=yr(e.theme)?n:e.theme;return br(e,kr(a,t),t,a)})),m||o.push((function(e){var t=yr(e.theme)?n:e.theme;return s((0,c.Z)({},e,{theme:t}))}));var l=o.length-r.length;if(Array.isArray(e)&&l>0){var f=new Array(l).fill("");(u=[].concat((0,Ue.Z)(e),(0,Ue.Z)(f))).raw=[].concat((0,Ue.Z)(e.raw),(0,Ue.Z)(f))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=(0,h.Z)(t,mr);return e((0,c.Z)({theme:yr(r)?n:r},i))});var p=g.apply(void 0,[u].concat((0,Ue.Z)(o)));return p};return g.withConfig&&(k.withConfig=g.withConfig),k}}({defaultTheme:je,rootShouldForwardProp:function(e){return wr(e)&&"classes"!==e}}),_r=Sr,Er={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Ir(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=Er[t];return r?"".concat(n,"-").concat(r):"".concat(i.generate(e),"-").concat(t)}function Tr(e){return Ir("MuiSvgIcon",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach((function(t){r[t]=Ir(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Cr=n(184),Ar=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Nr=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(u(t)),"fontSize".concat(u(n))]},Tr,r)},Or=_r("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(u(n.color))],t["fontSize".concat(u(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),Dr=l.forwardRef((function(e,t){var n=Ve({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,l=n.fontSize,f=void 0===l?"medium":l,d=n.htmlColor,v=n.inheritViewBox,m=void 0!==v&&v,y=n.titleAccess,g=n.viewBox,k=void 0===g?"0 0 24 24":g,b=(0,h.Z)(n,Ar),w=(0,c.Z)({},n,{color:o,component:s,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:k}),x={};m||(x.viewBox=k);var S=Nr(w);return(0,Cr.jsxs)(Or,(0,c.Z)({as:s,className:p(S.root,i),ownerState:w,focusable:"false",color:d,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},x,b,{children:[r,y?(0,Cr.jsx)("title",{children:y}):null]}))}));Dr.muiName="SvgIcon";var Pr=Dr;function Rr(e,t){var n=function(n,r){return(0,Cr.jsx)(Pr,(0,c.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=Pr.muiName,l.memo(l.forwardRef(n))}var Lr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};var Fr=function(e,t){return function(){return null}};var Mr=function(e,t){return l.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function jr(e){return e&&e.ownerDocument||document}var Vr=jr;var Ur=function(e){return jr(e).defaultView||window};var Br=function(e,t){return function(){return null}};function zr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var qr=zr,Kr="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,Wr=Kr,Hr=0;var Gr=f.useId;var Zr=function(e){if(void 0!==Gr){var t=Gr();return null!=e?e:t}return function(e){var t=l.useState(e),n=(0,x.Z)(t,2),r=n[0],i=n[1],a=e||r;return l.useEffect((function(){null==r&&i("mui-".concat(Hr+=1))}),[r]),a}(e)};var $r=function(e,t,n,r,i){return null};var Qr=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),a=(0,x.Z)(i,2),o=a[0],u=a[1];return[r?t:o,l.useCallback((function(e){r||u(e)}),[])]};var Jr=function(e){var t=l.useRef(e);return Kr((function(){t.current=e})),l.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var Yr,Xr=function(e,t){return l.useMemo((function(){return null==e&&null==t?null:function(n){zr(e,n),zr(t,n)}}),[e,t])},ei=!0,ti=!1,ni={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ri(e){e.metaKey||e.altKey||e.ctrlKey||(ei=!0)}function ii(){ei=!1}function ai(){"hidden"===this.visibilityState&&ti&&(ei=!0)}function oi(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ei||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!ni[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var ui=function(){var e=l.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",ri,!0),t.addEventListener("mousedown",ii,!0),t.addEventListener("pointerdown",ii,!0),t.addEventListener("touchstart",ii,!0),t.addEventListener("visibilitychange",ai,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!oi(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(ti=!0,window.clearTimeout(Yr),Yr=window.setTimeout((function(){ti=!1}),100),t.current=!1,!0)},ref:e}},si={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),i.configure(e)}}},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),u=n(1804),s=n(9145),c=n(5411),l=n(6789),f=n(4531),h=n(6569),d=n(6261);e.exports=function(e){return new Promise((function(t,n){var p,v=e.data,m=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var k=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var x=u(e.baseURL,e.url);function S(){if(k){var r="getAllResponseHeaders"in k?s(k.getAllResponseHeaders()):null,a={data:y&&"text"!==y&&"json"!==y?k.response:k.responseText,status:k.status,statusText:k.statusText,headers:r,config:e,request:k};i((function(e){t(e),g()}),(function(e){n(e),g()}),a),k=null}}if(k.open(e.method.toUpperCase(),o(x,e.params,e.paramsSerializer),!0),k.timeout=e.timeout,"onloadend"in k?k.onloadend=S:k.onreadystatechange=function(){k&&4===k.readyState&&(0!==k.status||k.responseURL&&0===k.responseURL.indexOf("file:"))&&setTimeout(S)},k.onabort=function(){k&&(n(new f("Request aborted",f.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,k,k)),k=null},k.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,k)),k=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||c(x))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;_&&(m[e.xsrfHeaderName]=_)}"setRequestHeader"in k&&r.forEach(m,(function(e,t){"undefined"===typeof v&&"content-type"===t.toLowerCase()?delete m[t]:k.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(k.withCredentials=!!e.withCredentials),y&&"json"!==y&&(k.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&k.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&k.upload&&k.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){k&&(n(!e||e&&e.type?new h:e),k.abort(),k=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),v||(v=null);var E=d(x);E&&-1===["http","https","file"].indexOf(E)?n(new f("Unsupported protocol "+E+":",f.ERR_BAD_REQUEST,e)):k.send(v)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var u=function e(t){var n=new a(t),u=i(a.prototype.request,n);return r.extend(u,a.prototype,n),r.extend(u,n),u.create=function(n){return e(o(t,n))},u}(n(1709));u.Axios=a,u.CanceledError=n(6569),u.CancelToken=n(6857),u.isCancel=n(5517),u.VERSION=n(7600).version,u.toFormData=n(1397),u.AxiosError=n(4531),u.Cancel=u.CanceledError,u.all=function(e){return Promise.all(e)},u.spread=n(8089),u.isAxiosError=n(9580),e.exports=u,e.exports.default=u},6857:function(e,t,n){"use strict";var r=n(6569);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6569:function(e,t,n){"use strict";var r=n(4531);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(3589).inherits(i,r,{__CANCEL__:!0}),e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),u=n(777),s=n(1804),c=n(7835),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(s),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var h=t;r.length;){var d=r.shift(),p=r.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;s.length;)a=a.then(s.shift(),s.shift());return a},f.prototype.getUri=function(e){e=u(this.defaults,e);var t=s(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(u(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(u(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},4531:function(e,t,n){"use strict";var r=n(3589);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,n,o,u,s){var c=Object.create(a);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,o,u),c.name=e.name,s&&Object.assign(c,s),c},e.exports=i},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(1709),u=n(6569);function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new u}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function u(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function s(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:s};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==s||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(4531);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(1709);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},1709:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(4531),o=n(6789),u=n(1397),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:o,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,a=r.isObject(e),o=t&&t["Content-Type"];if((n=r.isFileList(e))||a&&"multipart/form-data"===o){var s=this.env&&this.env.FormData;return u(n?{"files[]":e}:e,s&&new s)}return a||"application/json"===o?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(u){if(o){if("SyntaxError"===u.name)throw a.from(u,a.ERR_BAD_RESPONSE,this,null,this.response);throw u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(3035)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(s)})),e.exports=l},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.27.2"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(a)&&u.push("domain="+a),!0===o&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3035:function(e){e.exports=null},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},6261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1397:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,o){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==n.indexOf(a))throw Error("Circular reference detected in "+o);n.push(a),r.forEach(a,(function(n,a){if(!r.isUndefined(n)){var u,s=o?o+"."+a:a;if(n&&!o&&"object"===typeof n)if(r.endsWith(a,"{}"))n=JSON.stringify(n);else if(r.endsWith(a,"[]")&&(u=r.toArray(n)))return void u.forEach((function(e){!r.isUndefined(e)&&t.append(s,i(e))}));e(n,s)}})),n.pop()}else t.append(o,i(a))}(e),t}},7835:function(e,t,n){"use strict";var r=n(7600).version,i=n(4531),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,u){if(!1===e)throw new i(a(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,u)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],u=t[o];if(u){var s=e[o],c=void 0===s||u(s,o,e);if(!0!==c)throw new i("option "+o+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:a}},3589:function(e,t,n){"use strict";var r,i=n(4049),a=Object.prototype.toString,o=(r=Object.create(null),function(e){var t=a.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function u(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function s(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var l=u("ArrayBuffer");function f(e){return null!==e&&"object"===typeof e}function h(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=u("Date"),p=u("File"),v=u("Blob"),m=u("FileList");function y(e){return"[object Function]"===a.call(e)}var g=u("URLSearchParams");function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var b,w=(b="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:s,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:f,isPlainObject:h,isUndefined:c,isDate:d,isFile:p,isBlob:v,isFunction:y,isStream:function(e){return f(e)&&y(e.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:k,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):s(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)k(arguments[r],n);return t},extend:function(e,t,n){return k(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,a,o={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=r[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:u,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:m}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4643:function(e,t,n){"use strict";var r=n(8085),i=n(6767),a=n(1621),o="localStorage"in n.g&&n.g.localStorage?n.g.localStorage:r;function u(e,t){return 1===arguments.length?s(e):c(e,t)}function s(e){var t=o.getItem(e);return i(t)}function c(e,t){try{return o.setItem(e,JSON.stringify(t)),!0}catch(n){return!1}}u.set=c,u.get=s,u.remove=function(e){return o.removeItem(e)},u.clear=function(){return o.clear()},u.backend=function(e){return e&&(o=e),o},u.on=a.on,u.off=a.off,e.exports=u},6767:function(e){"use strict";e.exports=function(e){var t=function(e){try{return JSON.parse(e)}catch(t){return e}}(e);return void 0===t?null:t}},8085:function(e){"use strict";var t={};e.exports={getItem:function(e){return e in t?t[e]:null},setItem:function(e,n){return t[e]=n,!0},removeItem:function(e){return!!(e in t)&&delete t[e]},clear:function(){return t={},!0}}},1621:function(e,t,n){"use strict";var r=n(6767),i={};function a(e){e||(e=n.g.event);var t=i[e.key];t&&t.forEach((function(t){t(r(e.newValue),r(e.oldValue),e.url||e.uri)}))}e.exports={on:function(e,t){i[e]?i[e].push(t):i[e]=[t],n.g.addEventListener?n.g.addEventListener("storage",a,!1):n.g.attachEvent?n.g.attachEvent("onstorage",a):n.g.onstorage=a},off:function(e,t){var n=i[e];n.length>1?n.splice(n.indexOf(t),1):i[e]=[]}}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var F,M=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Y(e,t){J(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,_e=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Te(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Se||null!==_e)&&(Ae(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Fe=!1,Me=null,je=!1,Ve=null,Ue={onError:function(e){Fe=!0,Me=e}};function Be(e,t,n,r,i,a,o,u,s){Fe=!1,Me=null,Le.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,_t,Et,It=!1,Tt=[],Ct=null,At=null,Nt=null,Ot=new Map,Dt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Ot.forEach(Vt),Dt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Zt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Ft(Ct,e,t,n,r,i),!0;case"dragenter":return At=Ft(At,e,t,n,r,i),!0;case"mouseover":return Nt=Ft(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Ft(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Ft(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Zt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Zt=null;function $t(e,t,n,r){if(Zt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return _n}var In=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(On),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Fn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Zn(e){jr(e,0)}function $n(e){if(G(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Yn=Xn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Wn(t,Gn,e,we(e)),Oe(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Z(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},_r={};function Er(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Rr=Or[Pr];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Ir,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var l=Me;Fe=!1,Me=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Qt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Ir:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Zr(o,u,s,l,!1),null!==c&&null!==f&&Zr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(Kn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Yt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Xt=Yt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Si=-1;function _i(e){return{current:e}}function Ei(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ii(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ai=_i(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(Ai),Ei(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ii(Ci,e)):Ei(Ai),Ii(Ai,n)}var ji=null,Vi=!1,Ui=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Xe,zi),i}finally{kt=t,Ui=!1}}return null}var qi=[],Ki=0,Wi=null,Hi=0,Gi=[],Zi=0,$i=null,Qi=1,Ji="";function Yi(e,t){qi[Ki++]=Hi,qi[Ki++]=Wi,Wi=e,Hi=t}function Xi(e,t,n){Gi[Zi++]=Qi,Gi[Zi++]=Ji,Gi[Zi++]=$i,$i=e;var r=Qi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Qi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Yi(e,1),Xi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Ki],qi[Ki]=null,Hi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Gi[--Zi],Gi[Zi]=null,Ji=Gi[--Zi],Gi[Zi]=null,Qi=Gi[--Zi],Gi[Zi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Di(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Di(t)?Ni:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Za(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Yi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Yi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Yi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Yi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Yi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Yi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Qa=$a(!0),Ja=$a(!1),Ya={},Xa=_i(Ya),eo=_i(Ya),to=_i(Ya);function no(e){if(e===Ya)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Xa,Ya),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Xa),Ii(Xa,t)}function io(){Ei(Xa),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Xa.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Xa,n))}function oo(e){eo.current===e&&(Ei(Xa),Ei(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Ro.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){Fo(t)&&Mo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function $o(){}function Qo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Xo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Xo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=As.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Qo,useContext:Ea,useEffect:Ko,useImperativeHandle:Zo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Jo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Yo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Qo,useContext:Ea,useEffect:Ko,useImperativeHandle:Zo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Jo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Yo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Qa(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ps,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ps,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ps,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ps,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Di(n)?Ni:Ci.current;return a=Oi(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Fi(t)}else a=!1;if(_a(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Oi(t,c=Di(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Oi(t,s=Di(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Pu,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Qa(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Zi++]=Qi,Gi[Zi++]=Ji,Gi[Zi++]=$i,Qi=e.id,Ji=e.overflow,$i=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Qa(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Di(t.type)&&Pi(),Hu(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Xa.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Q(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":H(r),X(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Q(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),X(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Xa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>zs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Je()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Zu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Xa.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Qu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Yu=null;function Xu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){_c(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Qu||Xu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Qu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Qu&&(Xu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Qu=(r=Qu)||null!==n.memoizedState,hs(e,t,n),Qu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){_c(e,e.return,m)}try{ns(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Xu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Xu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Y(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Je())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Qu=(l=Qu)||f,vs(t,e),Qu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Yu=e,f=e.child;null!==f;){for(h=Yu=f;null!==Yu;){switch(p=(d=Yu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Xu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:Xu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Yu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){_c(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Yu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Yu;){var i=Yu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Qu;u=$u;var c=Qu;if($u=o,(Qu=s)&&!c)for(Yu=i;null!==Yu;)s=(o=Yu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Yu=s):xs(i);for(;null!==a;)Yu=a,ks(a,t,n),a=a.sibling;Yu=i,$u=u,Qu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Yu=a):bs(e)}}function bs(e){for(;null!==Yu;){var t=Yu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Qu||512&t.flags&&is(t)}catch(d){_c(t,t.return,d)}}if(t===e){Yu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yu=n;break}Yu=t.return}}function ws(e){for(;null!==Yu;){var t=Yu;if(t===e){Yu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yu=n;break}Yu=t.return}}function xs(e){for(;null!==Yu;){var t=Yu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{is(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Yu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Yu=u;break}Yu=t.return}}var Ss,_s=Math.ceil,Es=b.ReactCurrentDispatcher,Is=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Ns=null,Os=0,Ds=0,Ps=_i(0),Rs=0,Ls=null,Fs=0,Ms=0,js=0,Vs=null,Us=null,Bs=0,zs=1/0,qs=null,Ks=!1,Ws=null,Hs=null,Gs=!1,Zs=null,$s=0,Qs=0,Js=null,Ys=-1,Xs=0;function ec(){return 0!==(6&Cs)?Je():-1!==Ys?Ys:Ys=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Xs&&(Xs=vt()),Xs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Qs)throw Qs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Ms|=n),4===Rs&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Je()+500,Vi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Os:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ys=-1,Xs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Os===t||(qs=null,zs=Je()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Es.current=o,Cs=i,null!==Ns?t=0:(As=null,Os=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,qs),t);break}wc(e,Us,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,qs),r);break}wc(e,Us,qs);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~js,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,qs),rc(e,Je()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Je()+500,Vi&&zi())}}function lc(e){null!==Zs&&0===Zs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Ds=Ps.current,Ei(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ns=e=Pc(e.current,null),Os=Ds=t,Rs=0,Ls=null,js=Ms=Fs=0,Us=Vs=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Is.current=null,null===n||null===n.return){Rs=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===As||0===(268435455&Fs)&&0===(268435455&Ms)||uc(As,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Os===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Es.current=r,null!==Ns)throw Error(a(261));return As=null,Os=0,Rs}function yc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!$e();)kc(Ns)}function kc(e){var t=Ss(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Is.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ds)))return void(Ns=n)}else{if(null!==(n=Zu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Rs=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Zs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Is.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Yu=t;null!==Yu;)if(e=(t=Yu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yu=e;else for(;null!==Yu;){t=Yu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Yu=e;break}Yu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Qe(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Zs=e,$s=i),0===(o=e.pendingLanes)&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Ws,Ws=null,e;0!==(1&$s)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Js?Qs++:(Qs=0,Js=e):Qs=0,zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Zs){var e=bt($s),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Zs)var r=!1;else{if(e=Zs,Zs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Yu=e.current;null!==Yu;){var o=Yu,u=o.child;if(0!==(16&Yu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Yu=l;null!==Yu;){var f=Yu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Yu=h;else for(;null!==Yu;){var d=(f=Yu).sibling,p=f.return;if(as(f),f===l){Yu=null;break}if(null!==d){d.return=p,Yu=d;break}Yu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Yu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Yu=u;else e:for(;null!==Yu;){if(0!==(2048&(o=Yu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Yu=g;break e}Yu=o.return}}var k=e.current;for(Yu=k;null!==Yu;){var b=(u=Yu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Yu=b;else e:for(u=k;null!==Yu;){if(0!==(2048&(s=Yu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Yu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Yu=w;break e}Yu=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Sc(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Os&n)===n&&(4===Rs||3===Rs&&(130023424&Os)===Os&&500>Je()-Bs?hc(e,0):js|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Lc(n.children,i,o,t);case _:u=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case P:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Fi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ii(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Xi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Sa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Su(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Di(r)?(e=!0,Fi(t)):e=!1,_a(t,n),qa(t,r,i),Wa(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}Qc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Qc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Cs)&&(zs=Je()+500,zi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},_t=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Y(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=b},7441:function(e,t,n){"use strict";e.exports=n(1372)},2198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=(0,i.useState)(e.count),n=r(t,2),a=n[0],o=n[1],u=(0,i.useState)(e.size),s=r(u,2),c=s[0],l=s[1],f=(0,i.useState)(e.char),h=r(f,2),d=h[0],p=h[1],v=(0,i.useState)(e.color),m=r(v,2),y=m[0],g=m[1],k=(0,i.useState)(e.activeColor),b=r(k,2),w=b[0],x=b[1],S=(0,i.useState)(e.isHalf),_=r(S,2),E=_[0],I=_[1],T=(0,i.useState)(e.edit),C=r(T,2),A=C[0],N=C[1],O=(0,i.useState)(e.emptyIcon),D=r(O,2),P=D[0],R=D[1],L=(0,i.useState)(e.halfIcon),F=r(L,2),M=F[0],j=F[1],V=(0,i.useState)(e.filledIcon),U=r(V,2),B=U[0],z=U[1],q=(0,i.useState)(e.a11y),K=r(q,2),W=K[0],H=K[1];return[{count:a,size:c,char:d,color:y,activeColor:w,isHalf:E,edit:A,emptyIcon:P,halfIcon:M,filledIcon:B,a11y:W},function(e){o(e.count),l(e.size),p(e.char),g(e.color),x(e.activeColor),I(e.isHalf),N(e.edit),R(e.emptyIcon),j(e.halfIcon),z(e.filledIcon),H(e.a11y)}]};var i=n(2791)},5112:function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(2791),a=c(i),o=c(n(2007)),u=c(n(2198)),s=c(n(9059));function c(e){return e&&e.__esModule?e:{default:e}}var l={overflow:"hidden",position:"relative"};function f(e,t){return"\n    .react-stars-"+t+":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: "+e+";\n  }"}function h(e){var t=(0,i.useState)(""),n=r(t,2),o=n[0],c=n[1],h=(0,i.useState)(0),d=r(h,2),p=d[0],v=d[1],m=(0,i.useState)([]),y=r(m,2),g=y[0],k=y[1],b=(0,i.useState)(!1),w=r(b,2),x=w[0],S=w[1],_=(0,u.default)(e),E=r(_,2),I=E[0],T=E[1],C=(0,i.useState)(0),A=r(C,2),N=A[0],O=A[1],D=(0,i.useState)(!1),P=r(D,2),R=P[0],L=P[1],F=(0,i.useState)(""),M=r(F,2),j=M[0],V=M[1];function U(e){"undefined"===typeof e&&(e=I.isHalf?Math.floor(p):Math.round(p));for(var t=[],n=0;n<I.count;n++)t.push({active:n<=e-1});return t}function B(e){if(I.edit){var t=Number(e.currentTarget.getAttribute("data-index"));if(I.isHalf){var n=z(e);L(n),n&&(t+=1),O(t)}else t+=1;!function(e){var t=g.filter((function(e){return e.active}));e!==t.length&&k(U(e))}(t)}}function z(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left;return(n=Math.round(Math.abs(n)))>t.width/2}function q(){I.edit&&(K(p),k(U()))}function K(e){I.isHalf&&(L(function(e){return e%1===0}(e)),O(Math.floor(e)))}function W(e){if(I.edit){var t=Number(e.currentTarget.getAttribute("data-index")),n=void 0;if(I.isHalf){var r=z(e);L(r),r&&(t+=1),n=r?t:t+.5,O(t)}else n=t+=1;H(n)}}function H(t){t!==p&&(k(U(t)),v(t),e.onChange(t))}return(0,i.useEffect)((function(){var t,n;!function(){var t="react-stars";V(e.classNames+" "+t)}(),t=e.value,n=e.count,v(t<0||t>n?0:t),k(U(e.value)),T(e),c((Math.random()+"").replace(".","")),S(function(e){return!e.isHalf&&e.emptyIcon&&e.filledIcon||e.isHalf&&e.emptyIcon&&e.halfIcon&&e.filledIcon}(e)),O(Math.floor(e.value)),L(e.isHalf&&e.value%1<.5)}),[]),a.default.createElement("div",{className:"react-stars-wrapper-"+o,style:{display:"flex"}},a.default.createElement("div",{tabIndex:I.a11y&&I.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:function(e){if(I.a11y||I.edit){var t=e.key,n=p,r=Number(t);r?Number.isInteger(r)&&r>0&&r<=I.count&&(n=r):("ArrowUp"===t||"ArrowRight"===t)&&n<I.count?(e.preventDefault(),n+=I.isHalf?.5:1):("ArrowDown"===t||"ArrowLeft"===t)&&n>.5&&(e.preventDefault(),n-=I.isHalf?.5:1),K(n),H(n)}},className:j,style:l},I.isHalf&&function(){return a.default.createElement("style",{dangerouslySetInnerHTML:{__html:x?(e=I.activeColor,"\n          span.react-stars-half > * {\n          color: "+e+";\n      }"):f(I.activeColor,o)}});var e}(),g.map((function(e,t){return a.default.createElement(s.default,{key:t,index:t,active:e.active,config:I,onMouseOver:B,onMouseLeave:q,onClick:W,halfStarHidden:R,halfStarAt:N,isUsingIcons:x,uniqueness:o})})),a.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},p)))}h.propTypes={classNames:o.default.string,edit:o.default.bool,half:o.default.bool,value:o.default.number,count:o.default.number,char:o.default.string,size:o.default.number,color:o.default.string,activeColor:o.default.string,emptyIcon:o.default.element,halfIcon:o.default.element,filledIcon:o.default.element,a11y:o.default.bool},h.defaultProps={edit:!0,half:!1,value:0,count:5,char:"\u2605",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}},t.Z=h},9059:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e.index,n=e.active,i=e.config,a=e.onMouseOver,s=e.onMouseLeave,c=e.onClick,l=e.halfStarHidden,f=e.halfStarAt,h=e.isUsingIcons,d=e.uniqueness,p=i.color,v=i.activeColor,m=i.size,y=i.char,g=i.isHalf,k=i.edit,b=i.halfIcon,w=i.emptyIcon,x=i.filledIcon,S="",_=!1;g&&!l&&f===t&&(S=h?"react-stars-half":"react-stars-"+d,_=!0);var E=r({},u,{color:n?v:p,cursor:k?"pointer":"default",fontSize:m+"px"});return o.default.createElement("span",{className:S,style:E,key:t,"data-index":t,"data-forhalf":x?t:y,onMouseOver:a,onMouseMove:a,onMouseLeave:s,onClick:c},h?n?x:!n&&_?b:w:y)};var i,a=n(2791),o=(i=a)&&i.__esModule?i:{default:i};var u={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"}},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,E=null,I=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?S():(_=!1,E=null)}}else _=!1}if("function"===typeof k)S=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=N,S=function(){D.postMessage(null)}}else S=function(){y(N,0)};function P(e){E=e,_||(_=!0,S())}function R(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},6825:function(e){"use strict";var t=function(){var e="https://api.spotify.com/v1",n=null,r=null,i=function(e,t){return e.abort=t,e},a=function(){var e=Array.prototype.slice.call(arguments),t=e[0],n=e.slice(1);return t=t||{},n.forEach((function(e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})),t},o=function(e,t){var a=new XMLHttpRequest,o=function(r,i){var o=e.type||"GET";if(a.open(o,function(e,t){var n="";for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];n+=encodeURIComponent(r)+"="+encodeURIComponent(i)+"&"}return n.length>0&&(e=e+"?"+(n=n.substring(0,n.length-1))),e}(e.url,e.params)),n&&a.setRequestHeader("Authorization","Bearer "+n),a.onreadystatechange=function(){if(4===a.readyState){var e=null;try{e=a.responseText?JSON.parse(a.responseText):""}catch(n){console.error(n)}a.status>=200&&a.status<300?function(e){r&&r(e),t&&t(null,e)}(e):(i&&i(a),t&&t(a,null))}},"GET"===o)a.send(null);else{var u=null;e.postData&&("image/jpeg"===e.contentType?(u=e.postData,a.setRequestHeader("Content-Type",e.contentType)):(u=JSON.stringify(e.postData),a.setRequestHeader("Content-Type","application/json"))),a.send(u)}};return t?(o(),null):function(e,t){var n;if(null!==r){var a=r.defer();e((function(e){a.resolve(e)}),(function(e){a.reject(e)})),n=a.promise}else window.Promise&&(n=new window.Promise(e));return n?new i(n,t):null}(o,(function(){a.abort()}))},u=function(e,t,n,r){var i={},u=null;return"object"===typeof t?(i=t,u=n):"function"===typeof t&&(u=t),"GET"!==(e.type||"GET")&&e.postData&&!r?e.postData=a(e.postData,i):e.params=a(e.params,i),o(e,u)},s=function(){};return(s.prototype={constructor:t}).getGeneric=function(e,t){return u({url:e},t)},s.prototype.getMe=function(t,n){return u({url:e+"/me"},t,n)},s.prototype.getMySavedTracks=function(t,n){return u({url:e+"/me/tracks"},t,n)},s.prototype.addToMySavedTracks=function(t,n,r){return u({url:e+"/me/tracks",type:"PUT",postData:t},n,r)},s.prototype.removeFromMySavedTracks=function(t,n,r){return u({url:e+"/me/tracks",type:"DELETE",postData:t},n,r)},s.prototype.containsMySavedTracks=function(t,n,r){var i={url:e+"/me/tracks/contains",params:{ids:t.join(",")}};return u(i,n,r)},s.prototype.getMySavedAlbums=function(t,n){return u({url:e+"/me/albums"},t,n)},s.prototype.addToMySavedAlbums=function(t,n,r){return u({url:e+"/me/albums",type:"PUT",postData:t},n,r)},s.prototype.removeFromMySavedAlbums=function(t,n,r){return u({url:e+"/me/albums",type:"DELETE",postData:t},n,r)},s.prototype.containsMySavedAlbums=function(t,n,r){var i={url:e+"/me/albums/contains",params:{ids:t.join(",")}};return u(i,n,r)},s.prototype.getMyTopArtists=function(t,n){return u({url:e+"/me/top/artists"},t,n)},s.prototype.getMyTopTracks=function(t,n){return u({url:e+"/me/top/tracks"},t,n)},s.prototype.getMyRecentlyPlayedTracks=function(t,n){return u({url:e+"/me/player/recently-played"},t,n)},s.prototype.followUsers=function(t,n){var r={url:e+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"user"}};return u(r,n)},s.prototype.followArtists=function(t,n){var r={url:e+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"artist"}};return u(r,n)},s.prototype.followPlaylist=function(t,n,r){return u({url:e+"/playlists/"+t+"/followers",type:"PUT",postData:{}},n,r)},s.prototype.unfollowUsers=function(t,n){var r={url:e+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"user"}};return u(r,n)},s.prototype.unfollowArtists=function(t,n){var r={url:e+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"artist"}};return u(r,n)},s.prototype.unfollowPlaylist=function(t,n){return u({url:e+"/playlists/"+t+"/followers",type:"DELETE"},n)},s.prototype.isFollowingUsers=function(t,n){var r={url:e+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"user"}};return u(r,n)},s.prototype.isFollowingArtists=function(t,n){var r={url:e+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"artist"}};return u(r,n)},s.prototype.areFollowingPlaylist=function(t,n,r){var i={url:e+"/playlists/"+t+"/followers/contains",type:"GET",params:{ids:n.join(",")}};return u(i,r)},s.prototype.getFollowedArtists=function(t,n){return u({url:e+"/me/following",type:"GET",params:{type:"artist"}},t,n)},s.prototype.getUser=function(t,n,r){var i={url:e+"/users/"+encodeURIComponent(t)};return u(i,n,r)},s.prototype.getUserPlaylists=function(t,n,r){var i;return"string"===typeof t?i={url:e+"/users/"+encodeURIComponent(t)+"/playlists"}:(i={url:e+"/me/playlists"},r=n,n=t),u(i,n,r)},s.prototype.getPlaylist=function(t,n,r){return u({url:e+"/playlists/"+t},n,r)},s.prototype.getPlaylistTracks=function(t,n,r){return u({url:e+"/playlists/"+t+"/tracks"},n,r)},s.prototype.getPlaylistCoverImage=function(t,n){return u({url:e+"/playlists/"+t+"/images"},n)},s.prototype.createPlaylist=function(t,n,r){var i={url:e+"/users/"+encodeURIComponent(t)+"/playlists",type:"POST",postData:n};return u(i,n,r)},s.prototype.changePlaylistDetails=function(t,n,r){return u({url:e+"/playlists/"+t,type:"PUT",postData:n},n,r)},s.prototype.addTracksToPlaylist=function(t,n,r,i){return u({url:e+"/playlists/"+t+"/tracks",type:"POST",postData:{uris:n}},r,i,!0)},s.prototype.replaceTracksInPlaylist=function(t,n,r){return u({url:e+"/playlists/"+t+"/tracks",type:"PUT",postData:{uris:n}},{},r)},s.prototype.reorderTracksInPlaylist=function(t,n,r,i,a){return u({url:e+"/playlists/"+t+"/tracks",type:"PUT",postData:{range_start:n,insert_before:r}},i,a)},s.prototype.removeTracksFromPlaylist=function(t,n,r){var i=n.map((function(e){return"string"===typeof e?{uri:e}:e}));return u({url:e+"/playlists/"+t+"/tracks",type:"DELETE",postData:{tracks:i}},{},r)},s.prototype.removeTracksFromPlaylistWithSnapshotId=function(t,n,r,i){var a=n.map((function(e){return"string"===typeof e?{uri:e}:e}));return u({url:e+"/playlists/"+t+"/tracks",type:"DELETE",postData:{tracks:a,snapshot_id:r}},{},i)},s.prototype.removeTracksFromPlaylistInPositions=function(t,n,r,i){return u({url:e+"/playlists/"+t+"/tracks",type:"DELETE",postData:{positions:n,snapshot_id:r}},{},i)},s.prototype.uploadCustomPlaylistCoverImage=function(t,n,r){var i={url:e+"/playlists/"+t+"/images",type:"PUT",postData:n.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return u(i,{},r)},s.prototype.getAlbum=function(t,n,r){return u({url:e+"/albums/"+t},n,r)},s.prototype.getAlbumTracks=function(t,n,r){return u({url:e+"/albums/"+t+"/tracks"},n,r)},s.prototype.getAlbums=function(t,n,r){var i={url:e+"/albums/",params:{ids:t.join(",")}};return u(i,n,r)},s.prototype.getTrack=function(t,n,r){var i={};return i.url=e+"/tracks/"+t,u(i,n,r)},s.prototype.getTracks=function(t,n,r){var i={url:e+"/tracks/",params:{ids:t.join(",")}};return u(i,n,r)},s.prototype.getArtist=function(t,n,r){return u({url:e+"/artists/"+t},n,r)},s.prototype.getArtists=function(t,n,r){var i={url:e+"/artists/",params:{ids:t.join(",")}};return u(i,n,r)},s.prototype.getArtistAlbums=function(t,n,r){return u({url:e+"/artists/"+t+"/albums"},n,r)},s.prototype.getArtistTopTracks=function(t,n,r,i){return u({url:e+"/artists/"+t+"/top-tracks",params:{country:n}},r,i)},s.prototype.getArtistRelatedArtists=function(t,n,r){return u({url:e+"/artists/"+t+"/related-artists"},n,r)},s.prototype.getFeaturedPlaylists=function(t,n){return u({url:e+"/browse/featured-playlists"},t,n)},s.prototype.getNewReleases=function(t,n){return u({url:e+"/browse/new-releases"},t,n)},s.prototype.getCategories=function(t,n){return u({url:e+"/browse/categories"},t,n)},s.prototype.getCategory=function(t,n,r){return u({url:e+"/browse/categories/"+t},n,r)},s.prototype.getCategoryPlaylists=function(t,n,r){return u({url:e+"/browse/categories/"+t+"/playlists"},n,r)},s.prototype.search=function(t,n,r,i){var a={url:e+"/search/",params:{q:t,type:n.join(",")}};return u(a,r,i)},s.prototype.searchAlbums=function(e,t,n){return this.search(e,["album"],t,n)},s.prototype.searchArtists=function(e,t,n){return this.search(e,["artist"],t,n)},s.prototype.searchTracks=function(e,t,n){return this.search(e,["track"],t,n)},s.prototype.searchPlaylists=function(e,t,n){return this.search(e,["playlist"],t,n)},s.prototype.searchShows=function(e,t,n){return this.search(e,["show"],t,n)},s.prototype.searchEpisodes=function(e,t,n){return this.search(e,["episode"],t,n)},s.prototype.getAudioFeaturesForTrack=function(t,n){var r={};return r.url=e+"/audio-features/"+t,u(r,{},n)},s.prototype.getAudioFeaturesForTracks=function(t,n){return u({url:e+"/audio-features",params:{ids:t}},{},n)},s.prototype.getAudioAnalysisForTrack=function(t,n){var r={};return r.url=e+"/audio-analysis/"+t,u(r,{},n)},s.prototype.getRecommendations=function(t,n){return u({url:e+"/recommendations"},t,n)},s.prototype.getAvailableGenreSeeds=function(t){return u({url:e+"/recommendations/available-genre-seeds"},{},t)},s.prototype.getMyDevices=function(t){return u({url:e+"/me/player/devices"},{},t)},s.prototype.getMyCurrentPlaybackState=function(t,n){return u({url:e+"/me/player"},t,n)},s.prototype.getMyCurrentPlayingTrack=function(t,n){return u({url:e+"/me/player/currently-playing"},t,n)},s.prototype.transferMyPlayback=function(t,n,r){var i=n||{};return i.device_ids=t,u({type:"PUT",url:e+"/me/player",postData:i},n,r)},s.prototype.play=function(t,n){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null,i={};return["context_uri","uris","offset","position_ms"].forEach((function(e){e in t&&(i[e]=t[e])})),u({type:"PUT",url:e+"/me/player/play",params:r,postData:i},"function"===typeof t?t:{},n)},s.prototype.queue=function(t,n,r){var i="device_id"in(n=n||{})?{uri:t,device_id:n.device_id}:{uri:t};return u({type:"POST",url:e+"/me/player/queue",params:i},n,r)},s.prototype.pause=function(t,n){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null;return u({type:"PUT",url:e+"/me/player/pause",params:r},t,n)},s.prototype.skipToNext=function(t,n){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null;return u({type:"POST",url:e+"/me/player/next",params:r},t,n)},s.prototype.skipToPrevious=function(t,n){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null;return u({type:"POST",url:e+"/me/player/previous",params:r},t,n)},s.prototype.seek=function(t,n,r){var i={position_ms:t};return"device_id"in(n=n||{})&&(i.device_id=n.device_id),u({type:"PUT",url:e+"/me/player/seek",params:i},n,r)},s.prototype.setRepeat=function(t,n,r){var i={state:t};return"device_id"in(n=n||{})&&(i.device_id=n.device_id),u({type:"PUT",url:e+"/me/player/repeat",params:i},n,r)},s.prototype.setVolume=function(t,n,r){var i={volume_percent:t};return"device_id"in(n=n||{})&&(i.device_id=n.device_id),u({type:"PUT",url:e+"/me/player/volume",params:i},n,r)},s.prototype.setShuffle=function(t,n,r){var i={state:t};return"device_id"in(n=n||{})&&(i.device_id=n.device_id),u({type:"PUT",url:e+"/me/player/shuffle",params:i},n,r)},s.prototype.getShow=function(t,n,r){var i={};return i.url=e+"/shows/"+t,u(i,n,r)},s.prototype.getShows=function(t,n,r){var i={url:e+"/shows/",params:{ids:t.join(",")}};return u(i,n,r)},s.prototype.getMySavedShows=function(t,n){return u({url:e+"/me/shows"},t,n)},s.prototype.addToMySavedShows=function(t,n,r){return u({url:e+"/me/shows",type:"PUT",postData:t},n,r)},s.prototype.removeFromMySavedShows=function(t,n,r){return u({url:e+"/me/shows",type:"DELETE",postData:t},n,r)},s.prototype.containsMySavedShows=function(t,n,r){var i={url:e+"/me/shows/contains",params:{ids:t.join(",")}};return u(i,n,r)},s.prototype.getShowEpisodes=function(t,n,r){return u({url:e+"/shows/"+t+"/episodes"},n,r)},s.prototype.getEpisode=function(t,n,r){var i={};return i.url=e+"/episodes/"+t,u(i,n,r)},s.prototype.getEpisodes=function(t,n,r){var i={url:e+"/episodes/",params:{ids:t.join(",")}};return u(i,n,r)},s.prototype.getAccessToken=function(){return n},s.prototype.setAccessToken=function(e){n=e},s.prototype.setPromiseImplementation=function(e){var t=!1;try{var n=new e((function(e){e()}));"function"===typeof n.then&&"function"===typeof n.catch&&(t=!0)}catch(i){console.error(i)}if(!t)throw new Error("Unsupported implementation of Promises/A+");r=e},s}();"object"===typeof e.exports&&(e.exports=t)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return hn},SDK_VERSION:function(){return Er},_DEFAULT_ENTRY_NAME:function(){return hr},_addComponent:function(){return mr},_addOrOverwriteComponent:function(){return yr},_apps:function(){return pr},_clearComponents:function(){return wr},_components:function(){return vr},_getProvider:function(){return kr},_registerComponent:function(){return gr},_removeServiceInstance:function(){return br},deleteApp:function(){return Ar},getApp:function(){return Tr},getApps:function(){return Cr},initializeApp:function(){return Ir},onLog:function(){return Dr},registerVersion:function(){return Or},setLogLevel:function(){return Pr}});var t,r=n(2791),i=n(1250),a=n(9439),o=n(7462);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var u=function(e){return e};var s="beforeunload",c="popstate";function l(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function p(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var v=(0,r.createContext)(null);var m=(0,r.createContext)(null);var y=(0,r.createContext)({outlet:null,matches:[]});function g(e,t){if(!e)throw new Error(t)}function k(e,t,n){void 0===n&&(n="/");var r=T(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;var i=b(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=_(i[o],r);return a}function b(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||g(!1),a.relativePath=a.relativePath.slice(r.length));var o=C([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&g(!1),b(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:S(o,e.index),routesMeta:u})})),t}var w=/^:\w+$/,x=function(e){return"*"===e};function S(e,t){var n=e.split("/"),r=n.length;return n.some(x)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!x(e)})).reduce((function(e,t){return e+(w.test(t)?3:""===t?1:10)}),r)}function _(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=E({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:C([i,l.pathname]),pathnameBase:A(C([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=C([i,l.pathnameBase]))}return a}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,a.Z)(n,2),i=r[0],o=r[1],u=t.match(i);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function I(e,t,n){var r,i="string"===typeof e?p(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?p(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:N(a),hash:O(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var C=function(e){return e.join("/").replace(/\/\/+/g,"/")},A=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},N=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},O=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function D(e){P()||g(!1);var t=(0,r.useContext)(v),n=t.basename,i=t.navigator,a=M(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):C([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function P(){return null!=(0,r.useContext)(m)}function R(){return P()||g(!1),(0,r.useContext)(m).location}function L(){P()||g(!1);var e=(0,r.useContext)(v),t=e.basename,n=e.navigator,i=(0,r.useContext)(y).matches,a=R().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=I(e,JSON.parse(o),a);"/"!==t&&(i.pathname=C([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function F(){var e=(0,r.useContext)(y).matches,t=e[e.length-1];return t?t.params:{}}function M(e){var t=(0,r.useContext)(y).matches,n=R().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return I(e,JSON.parse(i),n)}),[e,i,n])}function j(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(y.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function V(e){g(!1)}function U(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;P()&&g(!1);var d=A(i),y=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=p(u));var k=u,b=k.pathname,w=void 0===b?"/":b,x=k.search,S=void 0===x?"":x,_=k.hash,E=void 0===_?"":_,I=k.state,C=void 0===I?null:I,N=k.key,O=void 0===N?"default":N,D=(0,r.useMemo)((function(){var e=T(w,d);return null==e?null:{pathname:e,search:S,hash:E,state:C,key:O}}),[d,w,S,E,C,O]);return null==D?null:(0,r.createElement)(v.Provider,{value:y},(0,r.createElement)(m.Provider,{children:o,value:{location:D,navigationType:c}}))}function B(e){var t=e.children,n=e.location;return function(e,t){P()||g(!1);var n,i=(0,r.useContext)(y).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,R());if(t){var c,l="string"===typeof t?p(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||g(!1),n=l}else n=s;var f=n.pathname||"/",h=k(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return j(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:C([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:C([u,e.pathnameBase])})})),i)}(z(t),n)}function z(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==V&&g(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=z(e.props.children)),t.push(n)}else t.push.apply(t,z(e.props.children))})),t}function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var W=["onClick","reloadDocument","replace","state","target","to"],H=["aria-current","caseSensitive","className","end","style","to","children"];function G(e){var n=e.basename,i=e.children,v=e.window,m=(0,r.useRef)();null==m.current&&(m.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,u({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var v=null;r.addEventListener(c,(function(){if(v)w.call(v),v=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var o=g-r;o&&(v={action:e,location:i,retry:function(){T(-1*o)}},T(o))}}else I(e)}}));var m=t.Pop,y=a(),g=y[0],k=y[1],b=f(),w=f();function x(e){return"string"===typeof e?e:d(e)}function S(e,t){return void 0===t&&(t=null),u((0,o.Z)({pathname:k.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:h()}))}function _(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function E(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function I(e){m=e;var t=a();g=t[0],k=t[1],b.call({action:m,location:k})}function T(e){i.go(e)}null==g&&(g=0,i.replaceState((0,o.Z)({},i.state,{idx:g}),""));var C={get action(){return m},get location(){return k},createHref:x,push:function e(n,a){var o=t.Push,u=S(n,a);if(E(o,u,(function(){e(n,a)}))){var s=_(u,g+1),c=s[0],l=s[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}I(o)}},replace:function e(n,r){var a=t.Replace,o=S(n,r);if(E(a,o,(function(){e(n,r)}))){var u=_(o,g),s=u[0],c=u[1];i.replaceState(s,"",c),I(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(s,l),function(){t(),w.length||r.removeEventListener(s,l)}}};return C}({window:v}));var y=m.current,g=(0,r.useState)({action:y.action,location:y.location}),k=(0,a.Z)(g,2),b=k[0],w=k[1];return(0,r.useLayoutEffect)((function(){return y.listen(w)}),[y]),(0,r.createElement)(U,{basename:n,children:i,location:b.location,navigationType:b.action,navigator:y})}var Z=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=K(e,W),f=D(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=L(),s=R(),c=M(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||d(s)===d(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",q({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));var $=(0,r.forwardRef)((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=K(e,H),v=R(),m=M(h),y=v.pathname,g=m.pathname;o||(y=y.toLowerCase(),g=g.toLowerCase());var k,b=y===g||!l&&y.startsWith(g)&&"/"===y.charAt(g.length),w=b?i:void 0;k="function"===typeof s?s({isActive:b}):[s,b?"active":null].filter(Boolean).join(" ");var x="function"===typeof f?f({isActive:b}):f;return(0,r.createElement)(Z,q({},p,{"aria-current":w,className:k,ref:t,style:x,to:h}),"function"===typeof d?d({isActive:b}):d)}));function Q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var J=n(7441),Y=n(9613),X=n.n(Y);var ee=function(e){function t(e,r,s,c,h){for(var d,p,v,m,b,x=0,S=0,_=0,E=0,I=0,D=0,R=v=d=0,F=0,M=0,j=0,V=0,U=s.length,B=U-1,z="",q="",K="",W="";F<U;){if(p=s.charCodeAt(F),F===B&&0!==S+E+_+x&&(0!==S&&(p=47===S?10:47),E=_=x=0,U++,B++),0===S+E+_+x){if(F===B&&(0<M&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(F)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,V=++F;F<U;){switch(p=s.charCodeAt(F)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(F+1)){case 42:case 47:e:{for(R=F+1;R<B;++R)switch(s.charCodeAt(R)){case 47:if(42===p&&42===s.charCodeAt(R-1)&&F+2!==R){F=R+1;break e}break;case 10:if(47===p){F=R+1;break e}}F=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;F++<B&&s.charCodeAt(F)!==p;);}if(0===v)break;F++}if(v=s.substring(V,F),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<M&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:M=r;break;default:M=O}if(V=(v=t(r,M,v,p,h+1)).length,0<P&&(b=u(3,v,M=n(O,z,j),r,C,T,V,p,h,c),z=M.join(""),void 0!==b&&0===(V=(v=b.trim()).length)&&(p=0,v="")),0<V)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,j),v,c,h+1);K+=v,v=j=M=R=d=0,z="",p=s.charCodeAt(++F);break;case 125:case 59:if(1<(V=(z=(0<M?z.replace(f,""):z).trim()).length))switch(0===R&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(V=(z=z.replace(" ",":")).length),0<P&&void 0!==(b=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(V=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=z+s.charAt(F);break}default:58!==z.charCodeAt(V-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}j=M=R=d=0,z="",p=s.charCodeAt(++F)}}switch(p){case 13:case 10:47===S?S=0:0===1+d&&107!==c&&0<z.length&&(M=1,z+="\0"),0<P*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===S+E+_+x){T++;break}default:switch(T++,m=s.charAt(F),p){case 9:case 32:if(0===E+x+S)switch(I){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===E+S+x&&(M=j=1,m="\f"+m);break;case 108:if(0===E+S+x+A&&0<R)switch(F-R){case 2:112===I&&58===s.charCodeAt(F-3)&&(A=I);case 8:111===D&&(A=D)}break;case 58:0===E+S+x&&(R=F);break;case 44:0===S+_+E+x&&(M=1,m+="\r");break;case 34:case 39:0===S&&(E=E===p?0:0===E?p:E);break;case 91:0===E+S+_&&x++;break;case 93:0===E+S+_&&x--;break;case 41:0===E+S+x&&_--;break;case 40:if(0===E+S+x){if(0===d)if(2*I+3*D===533);else d=1;_++}break;case 64:0===S+_+E+x+R+v&&(v=1);break;case 42:case 47:if(!(0<E+x+_))switch(S){case 0:switch(2*p+3*s.charCodeAt(F+1)){case 235:S=47;break;case 220:V=F,S=42}break;case 42:47===p&&42===I&&V+2!==F&&(33===s.charCodeAt(V+2)&&(q+=s.substring(V,F+1)),m="",S=0)}}0===S&&(z+=m)}D=I,I=p,F++}if(0<(V=q.length)){if(M=r,0<P&&(void 0!==(b=u(2,q,M,e,C,T,V,c,h,c))&&0===(q=b).length))return W+q+K;if(q=M.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return W+q+K}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(I,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(_,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<P;++h)switch(f=D[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?N=1:(N=2,R=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(O,r,n,0,0);return 0<P&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,S=/-self|flex-/g,_=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,O=[],D=[],P=0,R=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:P=D.length=0;break;default:if("function"===typeof t)D[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},te=n(3840),ne=n(4876),re=n(2110),ie=n.n(re);function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var oe=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},ue=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,J.typeOf)(e)},se=Object.freeze([]),ce=Object.freeze({});function le(e){return"function"==typeof e}function fe(e){return e.displayName||e.name||"Component"}function he(e){return e&&"string"==typeof e.styledComponentId}var de="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",pe="undefined"!=typeof window&&"HTMLElement"in window,ve=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var ye=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&me(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),ge=new Map,ke=new Map,be=1,we=function(e){if(ge.has(e))return ge.get(e);for(;ke.has(be);)be++;var t=be++;return ge.set(e,t),ke.set(t,e),t},xe=function(e){return ke.get(e)},Se=function(e,t){t>=be&&(be=t+1),ge.set(e,t),ke.set(t,e)},_e="style["+de+'][data-styled-version="5.3.5"]',Ee=new RegExp("^"+de+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ie=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Te=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(Ee);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(Se(c,s),Ie(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},Ce=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Ae=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(de))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(de,"active"),r.setAttribute("data-styled-version","5.3.5");var o=Ce();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Ne=function(){function e(e){var t=this.element=Ae(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}me(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Oe=function(){function e(e){var t=this.element=Ae(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),De=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Pe=pe,Re={isServer:!pe,useCSSOMInjection:!ve},Le=function(){function e(e,t,n){void 0===e&&(e=ce),void 0===t&&(t={}),this.options=ae({},Re,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&pe&&Pe&&(Pe=!1,function(e){for(var t=document.querySelectorAll(_e),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(de)&&(Te(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return we(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ae({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new De(i):r?new Ne(i):new Oe(i),new ye(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(we(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(we(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(we(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=xe(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=de+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Fe=/(a)(d)/gi,Me=function(e){return String.fromCharCode(e+(e>25?39:97))};function je(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Me(t%52)+n;return(Me(t%52)+n).replace(Fe,"$1-$2")}var Ve=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Ue=function(e){return Ve(5381,e)};function Be(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(le(n)&&!he(n))return!1}return!0}var ze=Ue("5.3.5"),qe=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Be(e),this.componentId=t,this.baseHash=Ve(ze,t),this.baseStyle=n,Le.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=ut(this.rules,e,t,n).join(""),o=je(Ve(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=Ve(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=ut(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Ve(c,p+f),l+=p}}if(l){var v=je(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Ke=/^\s*\/\/.*$/gm,We=[":","[",".","#"];function He(e){var t,n,r,i,a=void 0===e?ce:e,o=a.options,u=void 0===o?ce:o,s=a.plugins,c=void 0===s?se:s,l=new ee(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==We.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(Ke,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||me(15),Ve(e,t.name)}),5381).toString():"",p}var Ge=r.createContext(),Ze=(Ge.Consumer,r.createContext()),$e=(Ze.Consumer,new Le),Qe=He();function Je(){return(0,r.useContext)(Ge)||$e}function Ye(){return(0,r.useContext)(Ze)||Qe}function Xe(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=Je(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,r.useMemo)((function(){return He({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){X()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(Ge.Provider,{value:o},r.createElement(Ze.Provider,{value:u},e.children))}var et=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Qe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return me(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Qe),this.name+e.hash},e}(),tt=/([A-Z])/,nt=/([A-Z])/g,rt=/^ms-/,it=function(e){return"-"+e.toLowerCase()};function at(e){return tt.test(e)?e.replace(nt,it).replace(rt,"-ms-"):e}var ot=function(e){return null==e||!1===e||""===e};function ut(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=ut(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return ot(e)?"":he(e)?"."+e.styledComponentId:le(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:ut(e(t),t,n,r):e instanceof et?n?(e.inject(n,r),e.getName(r)):e:ue(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!ot(t[o])&&(Array.isArray(t[o])&&t[o].isCss||le(t[o])?a.push(at(o)+":",t[o],";"):ue(t[o])?a.push.apply(a,e(t[o],o)):a.push(at(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in te.Z?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var st=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ct(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return le(e)||ue(e)?st(ut(oe(se,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:st(ut(oe(e,n)))}new Set;var lt=function(e,t,n){return void 0===n&&(n=ce),e.theme!==n.theme&&e.theme||t||n.theme},ft=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ht=/(^-|-$)/g;function dt(e){return e.replace(ft,"-").replace(ht,"")}var pt=function(e){return je(Ue(e)>>>0)};function vt(e){return"string"==typeof e&&!0}var mt=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},yt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function gt(e,t,n){var r=e[n];mt(t)&&mt(r)?kt(r,t):e[n]=t}function kt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(mt(o))for(var u in o)yt(u)&&gt(e,o[u],u)}return e}var bt=r.createContext();bt.Consumer;var wt={};function xt(e,t,n){var i=he(e),a=!vt(e),o=t.attrs,u=void 0===o?se:o,s=t.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":dt(e);wt[n]=(wt[n]||0)+1;var r=n+"-"+pt("5.3.5"+n+wt[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):s,l=t.displayName,f=void 0===l?function(e){return vt(e)?"styled."+e:"Styled("+fe(e)+")"}(e):l,h=t.displayName&&t.componentId?dt(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new qe(n,h,i?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=ce);var r=ae({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in le(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(lt(t,(0,r.useContext)(bt),u)||ce,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=Je(),a=Ye();return t?e.generateAndInjectStyles(ce,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=vt(y),k=p!==t?ae({},t,{},p):t,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,ne.Z,y):!g||(0,ne.Z)(w))&&(b[w]=k[w]));return t.style&&p.style!==t.style&&(b.style=ae({},t.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,r.createElement)(y,b)}(v,e,t,y)};return g.displayName=f,(v=r.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):se,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(vt(e)?e:dt(fe(e)));return xt(e,ae({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?kt({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&ie()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var St=function(e){return function e(t,n,r){if(void 0===r&&(r=ce),!(0,J.isValidElementType)(n))return me(1,String(n));var i=function(){return t(n,r,ct.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,ae({},r,{},i))},i.attrs=function(i){return e(t,n,ae({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(xt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){St[e]=St(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Be(e),Le.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(ut(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Le.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Ce();return"<style "+[n&&'nonce="'+n+'"',de+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?me(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return me(2);var n=((t={})[de]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=Ce();return i&&(n.nonce=i),[r.createElement("style",ae({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Le({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?me(2):r.createElement(Xe,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return me(3)}}();var _t=St,Et=n(4569),It=n.n(Et),Tt=n(184),Ct=n(4643),At=(0,r.createContext)({}),Nt=function(e){var t=e.children,n=(0,r.useState)(Ct.get("access_token")),i=(0,a.Z)(n,2),o=i[0],u=i[1],s=(0,r.useState)(Ct.get("refresh_token")),c=(0,a.Z)(s,2),l=c[0],f=c[1],h=(0,r.useState)(Ct.get("spotify_id")),d=(0,a.Z)(h,2),p=d[0],v=d[1],m={accessToken:o,setAccessToken:function(e){u(e),Ct.set("access_token",e)},refreshToken:l,setRefreshToken:function(e){f(e),Ct.set("refresh_token",e)},spotifyId:p,setSpotifyId:function(e){v(e),Ct.set("spotify_id",e)}};return(0,Tt.jsx)(At.Provider,{value:m,children:t})},Ot=function(){return(0,r.useContext)(At)},Dt=n(6825),Pt=n.n(Dt),Rt=n.p+"static/media/Spotify_Logo.8eef091b1fba251ca310.png",Lt=n(4942);function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t,n){return t&&Mt(e.prototype,t),n&&Mt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Vt=n(181);function Ut(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Vt.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e,t){return zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zt(e,t)}function qt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zt(e,t)}function Kt(e){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kt(e)}function Wt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Gt(e,t){if(t&&("object"===Ht(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bt(e)}function Zt(e){var t=Wt();return function(){var n,r=Kt(e);if(t){var i=Kt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gt(this,n)}}function $t(e,t,n){return $t=Wt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&zt(i,n.prototype),i},$t.apply(null,arguments)}function Qt(e){var t="function"===typeof Map?new Map:void 0;return Qt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return $t(e,arguments,Kt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),zt(n,e)},Qt(e)}var Jt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Yt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Xt=function(e){return function(e){var t=Jt(e);return Yt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},en=function(e){try{return Yt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function tn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=tn(e[n],t[n]));return e}var nn=function(){function e(){var t=this;Ft(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return jt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function rn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xt(JSON.stringify({alg:"none",type:"JWT"})),Xt(JSON.stringify(a)),""].join(".")}function an(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function on(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function un(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function sn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function cn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ln(){var e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function fn(){return"object"===typeof indexedDB}var hn=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){var a;return Ft(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Bt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Bt(a),dn.prototype.create),a}return jt(n)}(Qt(Error)),dn=function(){function e(t,n,r){Ft(this,e),this.service=t,this.serviceName=n,this.errors=r}return jt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?pn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new hn(n,a,t);return o}}]),e}();function pn(e,t){return e.replace(vn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var vn=/\{\$([^}]+)}/g;function mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function yn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(gn(u)&&gn(s)){if(!yn(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function gn(e){return null!==e&&"object"===typeof e}function kn(e){for(var t=[],n=function(){var e=(0,a.Z)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function bn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,a.Z)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}})),t}function wn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function xn(e,t){var n=new Sn(e,t);return n.subscribe.bind(n)}var Sn=function(){function e(t,n){var r=this;Ft(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return jt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ut(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=_n),void 0===r.error&&(r.error=_n),void 0===r.complete&&(r.complete=_n);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function _n(){}function En(e){return e&&e._delegate?e._delegate:e}function In(){In=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Ht(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Tn=n(3433);function Cn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function An(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Cn(a,r,i,o,u,"next",e)}function u(e){Cn(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Nn=function(){function e(t,n,r){Ft(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return jt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),On="[DEFAULT]",Dn=function(){function e(t,n){Ft(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return jt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new nn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:On})}catch(c){}var t,n=Ut(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,a.Z)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,Tn.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,Tn.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=Ut(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=(0,a.Z)(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(UE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===On?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(UE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On;return this.component?this.component.multipleInstances?e:On:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Pn,Rn,Ln=function(){function e(t){Ft(this,e),this.name=t,this.providers=new Map}return jt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Dn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Fn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Rn||(Rn={}));var Mn={debug:Rn.DEBUG,verbose:Rn.VERBOSE,info:Rn.INFO,warn:Rn.WARN,error:Rn.ERROR,silent:Rn.SILENT},jn=Rn.INFO,Vn=(Pn={},(0,Lt.Z)(Pn,Rn.DEBUG,"log"),(0,Lt.Z)(Pn,Rn.VERBOSE,"log"),(0,Lt.Z)(Pn,Rn.INFO,"info"),(0,Lt.Z)(Pn,Rn.WARN,"warn"),(0,Lt.Z)(Pn,Rn.ERROR,"error"),Pn),Un=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Vn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Bn=function(){function e(t){Ft(this,e),this.name=t,this._logLevel=jn,this._logHandler=Un,this._userLogHandler=null,Fn.push(this)}return jt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Rn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Mn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Rn.DEBUG].concat(t)),this._logHandler.apply(this,[this,Rn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Rn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Rn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Rn.INFO].concat(t)),this._logHandler.apply(this,[this,Rn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Rn.WARN].concat(t)),this._logHandler.apply(this,[this,Rn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Rn.ERROR].concat(t)),this._logHandler.apply(this,[this,Rn.ERROR].concat(t))}}]),e}();function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){(0,Lt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kn,Wn;var Hn=new WeakMap,Gn=new WeakMap,Zn=new WeakMap,$n=new WeakMap,Qn=new WeakMap;var Jn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Zn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return er(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Yn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wn||(Wn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(tr(this),n),er(Hn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return er(e.apply(tr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[tr(this),t].concat(r));return Zn.set(a,t.sort?t.sort():[t]),er(a)}}function Xn(e){return"function"===typeof e?Yn(e):(e instanceof IDBTransaction&&function(e){if(!Gn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Gn.set(e,t)}}(e),t=e,(Kn||(Kn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Jn):e);var t}function er(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(er(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Hn.set(t,e)})).catch((function(){})),Qn.set(t,e),t}(e);if($n.has(e))return $n.get(e);var t=Xn(e);return t!==e&&($n.set(e,t),Qn.set(t,e)),t}var tr=function(e){return Qn.get(e)};var nr,rr,ir=["get","getKey","getAll","getAllKeys","count"],ar=["put","add","delete","clear"],or=new Map;function ur(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(or.get(t))return or.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ar.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ir.includes(n))){var a=function(){var e=An(In().mark((function e(t){var a,o,u,s,c,l,f=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return or.set(t,a),a}}}Jn=function(e){return qn(qn({},e),{},{get:function(t,n,r){return ur(t,n)||e.get(t,n,r)},has:function(t,n){return!!ur(t,n)||e.has(t,n)}})}(Jn);var sr=function(){function e(t){Ft(this,e),this.container=t}return jt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var cr="@firebase/app",lr="0.7.28",fr=new Bn("@firebase/app"),hr="[DEFAULT]",dr=(nr={},(0,Lt.Z)(nr,cr,"fire-core"),(0,Lt.Z)(nr,"@firebase/app-compat","fire-core-compat"),(0,Lt.Z)(nr,"@firebase/analytics","fire-analytics"),(0,Lt.Z)(nr,"@firebase/analytics-compat","fire-analytics-compat"),(0,Lt.Z)(nr,"@firebase/app-check","fire-app-check"),(0,Lt.Z)(nr,"@firebase/app-check-compat","fire-app-check-compat"),(0,Lt.Z)(nr,"@firebase/auth","fire-auth"),(0,Lt.Z)(nr,"@firebase/auth-compat","fire-auth-compat"),(0,Lt.Z)(nr,"@firebase/database","fire-rtdb"),(0,Lt.Z)(nr,"@firebase/database-compat","fire-rtdb-compat"),(0,Lt.Z)(nr,"@firebase/functions","fire-fn"),(0,Lt.Z)(nr,"@firebase/functions-compat","fire-fn-compat"),(0,Lt.Z)(nr,"@firebase/installations","fire-iid"),(0,Lt.Z)(nr,"@firebase/installations-compat","fire-iid-compat"),(0,Lt.Z)(nr,"@firebase/messaging","fire-fcm"),(0,Lt.Z)(nr,"@firebase/messaging-compat","fire-fcm-compat"),(0,Lt.Z)(nr,"@firebase/performance","fire-perf"),(0,Lt.Z)(nr,"@firebase/performance-compat","fire-perf-compat"),(0,Lt.Z)(nr,"@firebase/remote-config","fire-rc"),(0,Lt.Z)(nr,"@firebase/remote-config-compat","fire-rc-compat"),(0,Lt.Z)(nr,"@firebase/storage","fire-gcs"),(0,Lt.Z)(nr,"@firebase/storage-compat","fire-gcs-compat"),(0,Lt.Z)(nr,"@firebase/firestore","fire-fst"),(0,Lt.Z)(nr,"@firebase/firestore-compat","fire-fst-compat"),(0,Lt.Z)(nr,"fire-js","fire-js"),(0,Lt.Z)(nr,"firebase","fire-js-all"),nr),pr=new Map,vr=new Map;function mr(e,t){try{e.container.addComponent(t)}catch(n){fr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function yr(e,t){e.container.addOrOverwriteComponent(t)}function gr(e){var t=e.name;if(vr.has(t))return fr.debug("There were multiple attempts to register component ".concat(t,".")),!1;vr.set(t,e);var n,r=Ut(pr.values());try{for(r.s();!(n=r.n()).done;){mr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function kr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function br(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hr;kr(e,t).clearInstance(n)}function wr(){vr.clear()}var xr=(rr={},(0,Lt.Z)(rr,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Lt.Z)(rr,"bad-app-name","Illegal App name: '{$appName}"),(0,Lt.Z)(rr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,Lt.Z)(rr,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,Lt.Z)(rr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,Lt.Z)(rr,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,Lt.Z)(rr,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,Lt.Z)(rr,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,Lt.Z)(rr,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,Lt.Z)(rr,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),rr),Sr=new dn("app","Firebase",xr),_r=function(){function e(t,n,r){var i=this;Ft(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nn("app",(function(){return i}),"PUBLIC"))}return jt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}]),e}(),Er="9.9.0";function Ir(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:hr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Sr.create("bad-app-name",{appName:String(i)});var a=pr.get(i);if(a){if(yn(e,a.options)&&yn(r,a.config))return a;throw Sr.create("duplicate-app",{appName:i})}var o,u=new Ln(i),s=Ut(vr.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new _r(e,r,u);return pr.set(i,l),l}function Tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr,t=pr.get(e);if(!t)throw Sr.create("no-app",{appName:e});return t}function Cr(){return Array.from(pr.values())}function Ar(e){return Nr.apply(this,arguments)}function Nr(){return(Nr=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!pr.has(n)){e.next=6;break}return pr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Or(e,t,n){var r,i=null!==(r=dr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fr.warn(u.join(" "))}gr(new Nn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Dr(e,t){if(null!==e&&"function"!==typeof e)throw Sr.create("invalid-log-argument");!function(e,t){var n,r=Ut(Fn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Mn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Rn[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Pr(e){var t;t=e,Fn.forEach((function(e){e.setLogLevel(t)}))}var Rr="firebase-heartbeat-store",Lr=null;function Fr(){return Lr||(Lr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=er(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(er(u.result),e.oldVersion,e.newVersion,er(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Rr)}}).catch((function(e){throw Sr.create("storage-open",{originalErrorMessage:e.message})}))),Lr}function Mr(e){return jr.apply(this,arguments)}function jr(){return jr=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fr();case 3:return r=e.sent,e.abrupt("return",r.transaction(Rr).objectStore(Rr).get(Br(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Sr.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),jr.apply(this,arguments)}function Vr(e,t){return Ur.apply(this,arguments)}function Ur(){return Ur=An(In().mark((function e(t,n){var r,i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fr();case 3:return i=e.sent,a=i.transaction(Rr,"readwrite"),o=a.objectStore(Rr),e.next=8,o.put(n,Br(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),Sr.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ur.apply(this,arguments)}function Br(e){return"".concat(e.name,"!").concat(e.options.appId)}var zr=function(){function e(t){var n=this;Ft(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Gr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return jt(e,[{key:"triggerHeartbeat",value:function(){var e=An(In().mark((function e(){var t,n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=qr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=An(In().mark((function e(){var t,n,r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=qr(),n=Kr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Xt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function qr(){return(new Date).toISOString().substring(0,10)}function Kr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ut(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Zr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Zr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Wr,Hr,Gr=function(){function e(t){Ft(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return jt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Mr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Vr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Vr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,Tn.Z)(r.heartbeats),(0,Tn.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Zr(e){return Xt(JSON.stringify({version:2,heartbeats:e})).length}Wr="",gr(new Nn("platform-logger",(function(e){return new sr(e)}),"PRIVATE")),gr(new Nn("heartbeat",(function(e){return new zr(e)}),"PRIVATE")),Or(cr,lr,Wr),Or(cr,lr,"esm2017"),Or("fire-js","");var $r=function(){function e(t,n){var r=this;Ft(this,e),this._delegate=t,this.firebase=n,mr(t,new Nn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return jt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ar(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){mr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){yr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Qr=(Hr={},(0,Lt.Z)(Hr,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Lt.Z)(Hr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Hr),Jr=new dn("app-compat","Firebase",Qr);var Yr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ir(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(mn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Or,setLogLevel:Pr,onLog:Dr,apps:null,SDK_VERSION:Er,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(gr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Jr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&tn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!mn(n,e=e||hr))throw Jr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}($r);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){tn(n,e)},createSubscribe:xn,ErrorFactory:dn,deepExtend:tn}),n}(),Xr=new Bn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Xr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ei=self.firebase.SDK_VERSION;ei&&ei.indexOf("LITE")>=0&&Xr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ti=Yr;!function(e){Or("@firebase/app-compat","0.1.29",e)}();ti.registerVersion("firebase","9.9.0","app-compat");var ni=n(3878),ri=n(9199),ii=n(5267);function ai(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kt(e)););return e}function oi(){return oi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ai(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},oi.apply(this,arguments)}function ui(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var si;Object.create;var ci="facebook.com",li="github.com",fi="google.com",hi="password",di="twitter.com",pi="EMAIL_SIGNIN",vi="PASSWORD_RESET",mi="RECOVER_EMAIL",yi="REVERT_SECOND_FACTOR_ADDITION",gi="VERIFY_AND_CHANGE_EMAIL",ki="VERIFY_EMAIL";function bi(){return(0,Lt.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var wi=function(){var e;return e={},(0,Lt.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,Lt.Z)(e,"argument-error",""),(0,Lt.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,Lt.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,Lt.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,Lt.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,Lt.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,Lt.Z)(e,"cors-unsupported","This browser is not supported."),(0,Lt.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,Lt.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,Lt.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,Lt.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,Lt.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,Lt.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,Lt.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,Lt.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,Lt.Z)(e,"expired-action-code","The action code has expired."),(0,Lt.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,Lt.Z)(e,"internal-error","An internal AuthError has occurred."),(0,Lt.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,Lt.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,Lt.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,Lt.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,Lt.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,Lt.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,Lt.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,Lt.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,Lt.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,Lt.Z)(e,"invalid-email","The email address is badly formatted."),(0,Lt.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,Lt.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,Lt.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,Lt.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,Lt.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Lt.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,Lt.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,Lt.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,Lt.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,Lt.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,Lt.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,Lt.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,Lt.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,Lt.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,Lt.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,Lt.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Lt.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,Lt.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,Lt.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,Lt.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,Lt.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,Lt.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,Lt.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,Lt.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,Lt.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,Lt.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,Lt.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,Lt.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,Lt.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,Lt.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,Lt.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,Lt.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,Lt.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,Lt.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,Lt.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,Lt.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,Lt.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,Lt.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,Lt.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,Lt.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,Lt.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,Lt.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,Lt.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,Lt.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,Lt.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,Lt.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,Lt.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,Lt.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,Lt.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,Lt.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,Lt.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,Lt.Z)(e,"timeout","The operation has timed out."),(0,Lt.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,Lt.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,Lt.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,Lt.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,Lt.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,Lt.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,Lt.Z)(e,"unverified-email","The operation requires a verified email."),(0,Lt.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,Lt.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,Lt.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,Lt.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,Lt.Z)(e,"user-signed-out",""),(0,Lt.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,Lt.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,Lt.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},xi=bi,Si=new dn("auth","Firebase",bi()),_i=new Bn("@firebase/auth");function Ei(e){if(_i.logLevel<=Rn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_i.error.apply(_i,["Auth (".concat(Er,"): ").concat(e)].concat(n))}}function Ii(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ni.apply(void 0,[e].concat(n))}function Ti(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ni.apply(void 0,[e].concat(n))}function Ci(e,t,n){var r=Object.assign(Object.assign({},xi()),(0,Lt.Z)({},t,n));return new dn("auth","Firebase",r).create(t,{appName:e.name})}function Ai(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ii(e,"argument-error"),Ci(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ni(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,Tn.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,Tn.Z)(o)))}return Si.create.apply(Si,[e].concat(n))}function Oi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ni.apply(void 0,[t].concat(r))}}function Di(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ei(t),new Error(t)}function Pi(e,t){e||Di(t)}var Ri=new Map;function Li(e){Pi(e instanceof Function,"Expected a class definition");var t=Ri.get(e);return t?(Pi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ri.set(e,t),t)}function Fi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mi(){return"http:"===ji()||"https:"===ji()}function ji(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Vi=function(){function e(t,n){Ft(this,e),this.shortDelay=t,this.longDelay=n,Pi(n>t,"Short delay should be less than long delay!"),this.isMobile=on()||cn()}return jt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mi()||sn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ui(e,t){Pi(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Bi=function(){function e(){Ft(this,e)}return jt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),zi=(si={},(0,Lt.Z)(si,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,Lt.Z)(si,"MISSING_CUSTOM_TOKEN","internal-error"),(0,Lt.Z)(si,"INVALID_IDENTIFIER","invalid-email"),(0,Lt.Z)(si,"MISSING_CONTINUE_URI","internal-error"),(0,Lt.Z)(si,"INVALID_PASSWORD","wrong-password"),(0,Lt.Z)(si,"MISSING_PASSWORD","internal-error"),(0,Lt.Z)(si,"EMAIL_EXISTS","email-already-in-use"),(0,Lt.Z)(si,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,Lt.Z)(si,"INVALID_IDP_RESPONSE","invalid-credential"),(0,Lt.Z)(si,"INVALID_PENDING_TOKEN","invalid-credential"),(0,Lt.Z)(si,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,Lt.Z)(si,"MISSING_REQ_TYPE","internal-error"),(0,Lt.Z)(si,"EMAIL_NOT_FOUND","user-not-found"),(0,Lt.Z)(si,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,Lt.Z)(si,"EXPIRED_OOB_CODE","expired-action-code"),(0,Lt.Z)(si,"INVALID_OOB_CODE","invalid-action-code"),(0,Lt.Z)(si,"MISSING_OOB_CODE","internal-error"),(0,Lt.Z)(si,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,Lt.Z)(si,"INVALID_ID_TOKEN","invalid-user-token"),(0,Lt.Z)(si,"TOKEN_EXPIRED","user-token-expired"),(0,Lt.Z)(si,"USER_NOT_FOUND","user-token-expired"),(0,Lt.Z)(si,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,Lt.Z)(si,"INVALID_CODE","invalid-verification-code"),(0,Lt.Z)(si,"INVALID_SESSION_INFO","invalid-verification-id"),(0,Lt.Z)(si,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,Lt.Z)(si,"MISSING_SESSION_INFO","missing-verification-id"),(0,Lt.Z)(si,"SESSION_EXPIRED","code-expired"),(0,Lt.Z)(si,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,Lt.Z)(si,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,Lt.Z)(si,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,Lt.Z)(si,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,Lt.Z)(si,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,Lt.Z)(si,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,Lt.Z)(si,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,Lt.Z)(si,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,Lt.Z)(si,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,Lt.Z)(si,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,Lt.Z)(si,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),si),qi=new Vi(3e4,6e4);function Ki(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Wi(e,t,n,r){return Hi.apply(this,arguments)}function Hi(){return Hi=An(In().mark((function e(t,n,r,i){var a,o=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Gi(t,a,An(In().mark((function e(){var a,o,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=kn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Bi.fetch()(Ji(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Gi(e,t,n){return Zi.apply(this,arguments)}function Zi(){return(Zi=An(In().mark((function e(t,n,r){var i,o,u,s,c,l,f,h,d,p;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},zi),n),e.prev=2,o=new Yi(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Xi(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,a.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Xi(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Xi(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Xi(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Ci(t,p,d);case 34:Ii(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof hn)){e.next=41;break}throw e.t0;case 41:Ii(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function $i(e,t,n,r){return Qi.apply(this,arguments)}function Qi(){return Qi=An(In().mark((function e(t,n,r,i){var a,o,u=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Wi(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ii(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Ji(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ui(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Yi=function(){function e(t){var n=this;Ft(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ti(n.auth,"network-request-failed"))}),qi.get())}))}return jt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Xi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ti(e,t,r);return i.customData._tokenResponse=n,i}function ea(e,t){return ta.apply(this,arguments)}function ta(){return(ta=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(e,t){return aa.apply(this,arguments)}function aa(){return(aa=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ua(){return ua=An(In().mark((function e(t){var n,r,i,a,o,u,s=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=En(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Oi((a=ca(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:oa(sa(a.auth_time)),issuedAtTime:oa(sa(a.iat)),expirationTime:oa(sa(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function sa(e){return 1e3*Number(e)}function ca(e){var t,n=e.split("."),r=(0,a.Z)(n,3),i=r[0],o=r[1],u=r[2];if(void 0===i||void 0===o||void 0===u)return Ei("JWT malformed, contained fewer than 3 sections"),null;try{var s=en(o);return s?JSON.parse(s):(Ei("Failed to decode base64 JWT payload"),null)}catch(c){return Ei("Caught error parsing JWT payload as JSON",null===(t=c)||void 0===t?void 0:t.toString()),null}}function la(e,t){return fa.apply(this,arguments)}function fa(){return fa=An(In().mark((function e(t,n){var r=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof hn&&ha(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),fa.apply(this,arguments)}function ha(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var da=function(){function e(t){Ft(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return jt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(An(In().mark((function t(){return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),pa=function(){function e(t,n){Ft(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return jt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=oa(this.lastLoginAt),this.creationTime=oa(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function va(e){return ma.apply(this,arguments)}function ma(){return ma=An(In().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,la(t,ia(r,{idToken:i}));case 6:Oi(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ka(o.providerUserInfo):[],s=ga(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new pa(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}function ya(){return(ya=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=En(t),e.next=3,va(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ga(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,Tn.Z)(n),(0,Tn.Z)(t))}function ka(e){return e.map((function(e){var t=e.providerId,n=ui(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ba(e,t){return wa.apply(this,arguments)}function wa(){return(wa=An(In().mark((function e(t,n){var r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gi(t,{},An(In().mark((function e(){var r,i,a,o,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ji(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Bi.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xa=function(){function e(){Ft(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return jt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Oi(e.idToken,"internal-error"),Oi("undefined"!==typeof e.idToken,"internal-error"),Oi("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ca(e);return Oi(t,"internal-error"),Oi("undefined"!==typeof t.exp,"internal-error"),Oi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=An(In().mark((function e(t){var n,r=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Oi(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=An(In().mark((function e(t,n){var r,i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Di("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Oi("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Oi("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Oi("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Sa(e,t){Oi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var _a=function(){function e(t){Ft(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ui(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new da(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,Tn.Z)(a.providerData):[],this.metadata=new pa(a.createdAt||void 0,a.lastLoginAt||void 0)}return jt(e,[{key:"getIdToken",value:function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,la(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Oi(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ua.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ya.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Oi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Oi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=An(In().mark((function e(t){var n,r,i=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,va(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,la(this,ea(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;Oi(k&&S,t,"internal-error");var _=xa.fromJSON(this.name,S);Oi("string"===typeof k,t,"internal-error"),Sa(f,t.name),Sa(h,t.name),Oi("boolean"===typeof b,t,"internal-error"),Oi("boolean"===typeof w,t,"internal-error"),Sa(d,t.name),Sa(p,t.name),Sa(v,t.name),Sa(m,t.name),Sa(y,t.name),Sa(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=An(In().mark((function t(n,r){var i,a,o,u=arguments;return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new xa).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,va(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ea=function(){function e(){Ft(this,e),this.type="NONE",this.storage={}}return jt(e,[{key:"_isAvailable",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ea.type="NONE";var Ia=Ea;function Ta(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ca=function(){function e(t,n,r){Ft(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ta(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ta("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return jt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?_a._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=An(In().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Li(Ia),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Li(Ia),u=Ta(i,n.config.apiKey,n.name),s=null,c=Ut(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=_a._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Aa(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pa(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Na(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(La(t))return"Blackberry";if(Fa(t))return"Webos";if(Oa(t))return"Safari";if((t.includes("chrome/")||Da(t))&&!t.includes("edge/"))return"Chrome";if(Ra(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/firefox\//i.test(e)}function Oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/crios\//i.test(e)}function Pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/iemobile/i.test(e)}function Ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/android/i.test(e)}function La(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/blackberry/i.test(e)}function Fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/webos/i.test(e)}function Ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ja(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return Ma(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Va(){return ln()&&10===document.documentMode}function Ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return Ma(e)||Ra(e)||Fa(e)||La(e)||/windows phone/i.test(e)||Pa(e)}function Ba(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Aa(an());break;case"Worker":t="".concat(Aa(an()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Er,"/").concat(r)}var za=function(){function e(t){Ft(this,e),this.auth=t,this.queue=[]}return jt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=An(In().mark((function e(t){var n,r,i,a,o,u,s,c;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Ut(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Ut(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(fe){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qa=function(){function e(t,n,r){Ft(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wa(this),this.idTokenSubscription=new Wa(this),this.beforeStateQueue=new za(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Si,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return jt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Li(t)),this._initializationPromise=this.queue(An(In().mark((function r(){var i,a;return In().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ca.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=An(In().mark((function e(t){var n,r,i,a,o,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Oi(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,va(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?En(t):null)&&Oi(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=An(In().mark((function e(t){var n,r=this,i=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Oi(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(An(In().mark((function n(){return In().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Li(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new dn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=An(In().mark((function e(t,n){var r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Oi(n=t&&Li(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ca.create(this,[Li(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=An(In().mark((function e(t){var n=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Oi(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Oi(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ba(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=An(In().mark((function e(){var t,n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Lt.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ka(e){return En(e)}var Wa=function(){function e(t){var n=this;Ft(this,e),this.auth=t,this.observer=null,this.addObserver=xn((function(e){return n.observer=e}))}return jt(e,[{key:"next",get:function(){return Oi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ha(e,t,n){var r=Ka(e);Oi(r._canInitEmulator,r,"emulator-config-failed"),Oi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ga(t),u=function(e){var t=Ga(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:Za(r.substr(o.length+1))}}var u=r.split(":"),s=(0,a.Z)(u,2);return{host:s[0],port:Za(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ga(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Za(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var $a=function(){function e(t,n){Ft(this,e),this.providerId=t,this.signInMethod=n}return jt(e,[{key:"toJSON",value:function(){return Di("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Di("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Di("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Di("not implemented")}}]),e}();function Qa(e,t){return Ja.apply(this,arguments)}function Ja(){return(Ja=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t,"POST","/v1/accounts:resetPassword",Ki(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e,t){return Xa.apply(this,arguments)}function Xa(){return(Xa=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(e,t){return to.apply(this,arguments)}function to(){return(to=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t,"POST","/v1/accounts:update",Ki(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return(ro=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithPassword",Ki(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(e,t){return ao.apply(this,arguments)}function ao(){return(ao=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t,"POST","/v1/accounts:sendOobCode",Ki(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(e,t){return uo.apply(this,arguments)}function uo(){return(uo=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function so(e,t){return co.apply(this,arguments)}function co(){return(co=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(e,t){return fo.apply(this,arguments)}function fo(){return(fo=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ho(e,t){return po.apply(this,arguments)}function po(){return(po=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(e,t){return mo.apply(this,arguments)}function mo(){return(mo=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(e,t){return go.apply(this,arguments)}function go(){return(go=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ko=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ft(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return jt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",no(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",vo(t,{email:this._email,oobCode:this._password}));case 5:Ii(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ya(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",yo(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ii(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}($a);function bo(e,t){return wo.apply(this,arguments)}function wo(){return(wo=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithIdp",Ki(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xo=function(e){qt(n,e);var t=Zt(n);function n(){var e;return Ft(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return jt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return bo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ii("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ui(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}($a);function So(e,t){return _o.apply(this,arguments)}function _o(){return(_o=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t,"POST","/v1/accounts:sendVerificationCode",Ki(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eo(){return(Eo=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithPhoneNumber",Ki(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(){return(Io=An(In().mark((function e(t,n){var r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(t,"POST","/v1/accounts:signInWithPhoneNumber",Ki(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Xi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var To=(0,Lt.Z)({},"USER_NOT_FOUND","user-not-found");function Co(){return(Co=An(In().mark((function e(t,n){var r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithPhoneNumber",Ki(t,r),To));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ao=function(e){qt(n,e);var t=Zt(n);function n(e){var r;return Ft(this,n),(r=t.call(this,"phone","phone")).params=e,r}return jt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Eo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Io.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Co.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}($a);var No=function(){function e(t){var n,r,i,a,o,u;Ft(this,e);var s=bn(wn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Oi(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return jt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=bn(wn(e)).link,n=t?bn(wn(t)).deep_link_id:null,r=bn(wn(e)).deep_link_id;return(r?bn(wn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(UE){return null}}}]),e}();var Oo=function(){function e(){Ft(this,e),this.providerId=e.PROVIDER_ID}return jt(e,null,[{key:"credential",value:function(e,t){return ko._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=No.parseLink(t);return Oi(n,"argument-error"),ko._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Oo.PROVIDER_ID="password",Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Do=function(){function e(t){Ft(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return jt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Po=function(e){qt(n,e);var t=Zt(n);function n(){var e;return Ft(this,n),(e=t.apply(this,arguments)).scopes=[],e}return jt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,Tn.Z)(this.scopes)}}]),n}(Do),Ro=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.apply(this,arguments)}return jt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Oi(e.idToken||e.accessToken,"argument-error"),xo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Oi("providerId"in t&&"signInMethod"in t,"argument-error"),xo._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Po),Lo=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.call(this,"facebook.com")}return jt(n,null,[{key:"credential",value:function(e){return xo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(UE){return null}}}]),n}(Po);Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com",Lo.PROVIDER_ID="facebook.com";var Fo=function(e){qt(n,e);var t=Zt(n);function n(){var e;return Ft(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return jt(n,null,[{key:"credential",value:function(e,t){return xo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(UE){return null}}}]),n}(Po);Fo.GOOGLE_SIGN_IN_METHOD="google.com",Fo.PROVIDER_ID="google.com";var Mo=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.call(this,"github.com")}return jt(n,null,[{key:"credential",value:function(e){return xo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(UE){return null}}}]),n}(Po);Mo.GITHUB_SIGN_IN_METHOD="github.com",Mo.PROVIDER_ID="github.com";var jo=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return jt(n,[{key:"_getIdTokenResponse",value:function(e){return bo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}($a),Vo=function(e){qt(n,e);var t=Zt(n);function n(e){return Ft(this,n),Oi(e.startsWith("saml."),"argument-error"),t.call(this,e)}return jt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=jo.fromJSON(e);return Oi(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return jo._create(r,n)}catch(i){return null}}}]),n}(Do),Uo=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.call(this,"twitter.com")}return jt(n,null,[{key:"credential",value:function(e,t){return xo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(UE){return null}}}]),n}(Po);function Bo(e,t){return zo.apply(this,arguments)}function zo(){return(zo=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signUp",Ki(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Uo.TWITTER_SIGN_IN_METHOD="twitter.com",Uo.PROVIDER_ID="twitter.com";var qo=function(){function e(t){Ft(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return jt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=An(In().mark((function t(n,r,i){var a,o,u,s,c=arguments;return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,_a._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ko(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=An(In().mark((function t(n,r,i){var a;return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ko(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ko(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Wo(){return Wo=An(In().mark((function e(t){var n,r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ka(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new qo({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Bo(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,qo._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}var Ho=function(e){qt(n,e);var t=Zt(n);function n(e,r,i,a){var o,u;return Ft(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Bt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return jt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(hn);function Go(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ho._fromErrorAndOperation(e,n,t,r);throw n}))}function Zo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function $o(e,t){return Qo.apply(this,arguments)}function Qo(){return Qo=An(In().mark((function e(t,n){var r,i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=En(t),e.next=3,Xo(!0,r,n);case 3:return e.t0=na,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Zo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function Jo(e,t){return Yo.apply(this,arguments)}function Yo(){return Yo=An(In().mark((function e(t,n){var r,i,a=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=la,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",qo._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Yo.apply(this,arguments)}function Xo(e,t,n){return eu.apply(this,arguments)}function eu(){return(eu=An(In().mark((function e(t,n,r){var i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va(n);case 2:i=Zo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Oi(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=An(In().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,la(t,Go(a,o,n,t),r);case 6:return Oi((u=e.sent).idToken,a,"internal-error"),Oi(s=ca(u.idToken),a,"internal-error"),c=s.sub,Oi(t.uid===c,a,"user-mismatch"),e.abrupt("return",qo._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Ii(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),nu.apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=An(In().mark((function e(t,n){var r,i,a,o,u=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Go(t,i,n);case 4:return a=e.sent,e.next=7,qo._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e,t){return ou.apply(this,arguments)}function ou(){return(ou=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(Ka(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uu(e,t){return su.apply(this,arguments)}function su(){return(su=An(In().mark((function e(t,n){var r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=En(t),e.next=3,Xo(!1,r,n.providerId);case 3:return e.abrupt("return",Jo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(e,t){return lu.apply(this,arguments)}function lu(){return(lu=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tu(En(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return(hu=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithCustomToken",Ki(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function du(){return(du=An(In().mark((function e(t,n){var r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ka(t),e.next=3,fu(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,qo._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pu=function(){function e(t,n){Ft(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return jt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?vu._fromServerResponse(e,t):Ii(e,"internal-error")}}]),e}(),vu=function(e){qt(n,e);var t=Zt(n);function n(e){var r;return Ft(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return jt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(pu);function mu(e,t,n){var r;Oi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Oi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Oi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Oi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function yu(){return(yu=An(In().mark((function e(t,n,r){var i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=En(t),a={requestType:"PASSWORD_RESET",email:n},r&&mu(i,a,r),e.next=5,so(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(){return(gu=An(In().mark((function e(t,n,r){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa(En(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(){return(ku=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eo(En(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t){return wu.apply(this,arguments)}function wu(){return(wu=An(In().mark((function e(t,n){var r,i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=En(t),e.next=3,Qa(r,{oobCode:n});case 3:i=e.sent,Oi(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Oi(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Oi(i.mfaInfo,r,"internal-error");case 13:Oi(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=pu._fromServerResponse(Ka(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(){return(xu=An(In().mark((function e(t,n){var r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bu(En(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t,n){return _u.apply(this,arguments)}function _u(){return(_u=An(In().mark((function e(t,n,r){var i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ka(t),e.next=3,Bo(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,qo._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(){return(Eu=An(In().mark((function e(t,n,r){var i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=En(t),a={requestType:"EMAIL_SIGNIN",email:n},Oi(r.handleCodeInApp,i,"argument-error"),r&&mu(i,a,r),e.next=6,lo(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iu(){return(Iu=An(In().mark((function e(t,n,r){var i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=En(t),Oi((a=Oo.credentialWithLink(n,r||Fi()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",au(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tu(e,t){return Cu.apply(this,arguments)}function Cu(){return(Cu=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t,"POST","/v1/accounts:createAuthUri",Ki(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Au(){return(Au=An(In().mark((function e(t,n){var r,i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mi()?Fi():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Tu(En(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(){return(Nu=An(In().mark((function e(t,n){var r,i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=En(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&mu(r.auth,a,n),e.next=8,oo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(){return(Ou=An(In().mark((function e(t,n,r){var i,a,o,u;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=En(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&mu(i.auth,o,r),e.next=8,ho(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t){return Pu.apply(this,arguments)}function Pu(){return(Pu=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ru(){return(Ru=An(In().mark((function e(t,n){var r,i,a,o,u,s,c;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=En(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,la(a,Du(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t,n){return Fu.apply(this,arguments)}function Fu(){return(Fu=An(In().mark((function e(t,n,r){var i,a,o,u;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,la(t,Ya(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mu=jt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ft(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ju=function(e){qt(n,e);var t=Zt(n);function n(e,r,i,a){var o;return Ft(this,n),(o=t.call(this,e,r,i)).username=a,o}return jt(n)}(Mu),Vu=function(e){qt(n,e);var t=Zt(n);function n(e,r){return Ft(this,n),t.call(this,e,"facebook.com",r)}return jt(n)}(Mu),Uu=function(e){qt(n,e);var t=Zt(n);function n(e,r){return Ft(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return jt(n)}(ju),Bu=function(e){qt(n,e);var t=Zt(n);function n(e,r){return Ft(this,n),t.call(this,e,"google.com",r)}return jt(n)}(Mu),zu=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){return Ft(this,n),t.call(this,e,"twitter.com",r,i)}return jt(n)}(ju);function qu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ca(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Mu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Vu(a,i);case"github.com":return new Uu(a,i);case"google.com":return new Bu(a,i);case"twitter.com":return new zu(a,i,e.screenName||null);case"custom":case"anonymous":return new Mu(a,null);default:return new Mu(a,r,i)}}(n)}var Ku=function(){function e(t,n){Ft(this,e),this.type=t,this.credential=n}return jt(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,Lt.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Wu=function(){function e(t,n,r){Ft(this,e),this.session=t,this.hints=n,this.signInResolver=r}return jt(e,[{key:"resolveSignIn",value:function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ka(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return pu._fromServerResponse(r,e)}));Oi(i.mfaPendingCredential,r,"internal-error");var o=Ku._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=An(In().mark((function e(t){var a,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,qo._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Oi(n.user,r,"internal-error"),e.abrupt("return",qo._forOperation(n.user,n.operationType,u));case 17:Ii(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Hu(e,t){return Wi(e,"POST","/v2/accounts/mfaEnrollment:start",Ki(e,t))}var Gu=function(){function e(t){var n=this;Ft(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return pu._fromServerResponse(t.auth,e)})))}))}return jt(e,[{key:"getSession",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ku,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=An(In().mark((function e(t,n){var r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,la(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=An(In().mark((function e(t){var n,r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,la(this.user,Wi(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Ki(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Zu=new WeakMap;var $u="__sak",Qu=function(){function e(t,n){Ft(this,e),this.storageRetriever=t,this.type=n}return jt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem($u,"1"),this.storage.removeItem($u),Promise.resolve(!0)):Promise.resolve(!1)}catch(UE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ju=function(e){qt(n,e);var t=Zt(n);function n(){var e;return Ft(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=an();return Oa(e)||Ma(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ua(),e._shouldAllowMigration=!0,e}return jt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Va()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=An(In().mark((function e(t,r){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(Kt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=An(In().mark((function e(t){var r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(Kt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(Kt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Qu);Ju.type="LOCAL";var Yu=Ju,Xu=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return jt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Qu);Xu.type="SESSION";var es=Xu;function ts(e){return Promise.all(e.map(function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ns=function(){function e(t){Ft(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return jt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=An(In().mark((function e(t){var n,r,i,a,o,u,s,c;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ts(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function rs(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ns.receivers=[];var is=function(){function e(t){Ft(this,e),this.target=t,this.handlers=new Set}return jt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=An(In().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=rs("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function as(){return window}function os(){return"undefined"!==typeof as().WorkerGlobalScope&&"function"===typeof as().importScripts}function us(){return ss.apply(this,arguments)}function ss(){return(ss=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function cs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ls="firebaseLocalStorageDb",fs="firebaseLocalStorage",hs="fbase_key",ds=function(){function e(t){Ft(this,e),this.request=t}return jt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ps(e,t){return e.transaction([fs],t?"readwrite":"readonly").objectStore(fs)}function vs(){var e=indexedDB.deleteDatabase(ls);return new ds(e).toPromise()}function ms(){var e=indexedDB.open(ls,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(fs,{keyPath:hs})}catch(r){n(r)}})),e.addEventListener("success",An(In().mark((function n(){var r;return In().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(fs)){n.next=12;break}return r.close(),n.next=5,vs();case 5:return n.t0=t,n.next=8,ms();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ys(e,t,n){return gs.apply(this,arguments)}function gs(){return gs=An(In().mark((function e(t,n,r){var i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ps(t,!0).put((i={},(0,Lt.Z)(i,hs,n),(0,Lt.Z)(i,"value",r),i)),e.abrupt("return",new ds(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function ks(e,t){return bs.apply(this,arguments)}function bs(){return bs=An(In().mark((function e(t,n){var r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ps(t,!1).get(n),e.next=3,new ds(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(e,t){var n=ps(e,!0).delete(t);return new ds(n).toPromise()}var xs=function(){function e(){Ft(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return jt(e,[{key:"_openDb",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ms();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",os()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=An(In().mark((function e(){var t=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ns._getInstance(os()?self:null),this.receiver._subscribe("keyChanged",function(){var e=An(In().mark((function e(n,r){var i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=An(In().mark((function e(){var t,n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,us();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new is(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&cs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ms();case 5:return t=e.sent,e.next=8,ys(t,$u,"1");case 8:return e.next=10,ws(t,$u);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=An(In().mark((function e(t,n){var r=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ys(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ks(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=An(In().mark((function e(t){var n=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ws(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=An(In().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ps(e,!1).getAll();return new ds(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ut(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(An(In().mark((function t(){return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();xs.type="LOCAL";var Ss=xs;function _s(e,t){return Wi(e,"POST","/v2/accounts/mfaSignIn:start",Ki(e,t))}function Es(e){return Is.apply(this,arguments)}function Is(){return(Is=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wi(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ts(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ti("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Cs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var As=1e12,Ns=function(){function e(t){Ft(this,e),this.auth=t,this.counter=As,this._widgets=new Map}return jt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Os(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||As;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||As;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||As,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Os=function(){function e(t,n,r){var i=this;Ft(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Oi(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return jt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ds=Cs("rcb"),Ps=new Vi(3e4,6e4),Rs="https://www.google.com/recaptcha/api.js?",Ls=function(){function e(){var t;Ft(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=as().grecaptcha)||void 0===t?void 0:t.render)}return jt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Oi(Fs(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(as().grecaptcha):new Promise((function(r,i){var a=as().setTimeout((function(){i(Ti(e,"network-request-failed"))}),Ps.get());as()[Ds]=function(){as().clearTimeout(a),delete as()[Ds];var o=as().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ti(e,"internal-error"))},Ts("".concat(Rs,"?").concat(kn({onload:Ds,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ti(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=as().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Fs(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ms=function(){function e(){Ft(this,e)}return jt(e,[{key:"load",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ns(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),js="recaptcha",Vs={theme:"light",type:"image"},Us=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Vs),r=arguments.length>2?arguments[2]:void 0;Ft(this,e),this.parameters=n,this.type=js,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ka(r),this.isInvisible="invisible"===this.parameters.size,Oi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Oi(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ms:new Ls,this.validateStartingState()}return jt(e,[{key:"verify",value:function(){var e=An(In().mark((function e(){var t,n,r,i=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Oi(!this.parameters.sitekey,this.auth,"argument-error"),Oi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=as()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Oi(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=An(In().mark((function e(){var t,n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oi(Mi()&&!os(),this.auth,"internal-error"),e.next=3,Bs();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Es(this.auth);case 8:Oi(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Oi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Bs(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var zs=function(){function e(t,n){Ft(this,e),this.verificationId=t,this.onConfirmation=n}return jt(e,[{key:"confirm",value:function(e){var t=Ao._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function qs(){return(qs=An(In().mark((function e(t,n,r){var i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ka(t),e.next=3,Gs(i,n,En(r));case 3:return a=e.sent,e.abrupt("return",new zs(a,(function(e){return au(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ks(e,t,n){return Ws.apply(this,arguments)}function Ws(){return(Ws=An(In().mark((function e(t,n,r){var i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=En(t),e.next=3,Xo(!1,i,"phone");case 3:return e.next=5,Gs(i.auth,n,En(r));case 5:return a=e.sent,e.abrupt("return",new zs(a,(function(e){return uu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(){return(Hs=An(In().mark((function e(t,n,r){var i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=En(t),e.next=3,Gs(i.auth,n,En(r));case 3:return a=e.sent,e.abrupt("return",new zs(a,(function(e){return cu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e,t,n){return Zs.apply(this,arguments)}function Zs(){return Zs=An(In().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Oi("string"===typeof a,t,"argument-error"),Oi(r.type===js,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Oi("enroll"===u.type,t,"internal-error"),e.next=13,Hu(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Oi("signin"===u.type,t,"internal-error"),Oi(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,_s(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,So(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Zs.apply(this,arguments)}function $s(){return($s=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jo(En(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qs=function(){function e(t){Ft(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ka(t)}return jt(e,[{key:"verifyPhoneNumber",value:function(e,t){return Gs(this.auth,e,En(t))}}],[{key:"credential",value:function(e,t){return Ao._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ao._fromTokenResponse(n,r):null}}]),e}();function Js(e,t){return t?Li(t):(Oi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Qs.PROVIDER_ID="phone",Qs.PHONE_SIGN_IN_METHOD="phone";var Ys=function(e){qt(n,e);var t=Zt(n);function n(e){var r;return Ft(this,n),(r=t.call(this,"custom","custom")).params=e,r}return jt(n,[{key:"_getIdTokenResponse",value:function(e){return bo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return bo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return bo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}($a);function Xs(e){return ru(e.auth,new Ys(e),e.bypassAuthState)}function ec(e){var t=e.auth,n=e.user;return Oi(n,t,"internal-error"),tu(n,new Ys(e),e.bypassAuthState)}function tc(e){return nc.apply(this,arguments)}function nc(){return(nc=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Oi(r=t.user,n,"internal-error"),e.abrupt("return",Jo(r,new Ys(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ft(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return jt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=An(In().mark((function t(n,r){return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=An(In().mark((function e(t){var n,r,i,a,o,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xs;case"linkViaPopup":case"linkViaRedirect":return tc;case"reauthViaPopup":case"reauthViaRedirect":return ec;default:Ii(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ic=new Vi(2e3,1e4);function ac(e,t,n){return oc.apply(this,arguments)}function oc(){return(oc=An(In().mark((function e(t,n,r){var i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ka(t),Ai(t,n,Do),a=Js(i,r),o=new lc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uc(){return(uc=An(In().mark((function e(t,n,r){var i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ai((i=En(t)).auth,n,Do),a=Js(i.auth,r),o=new lc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sc(e,t,n){return cc.apply(this,arguments)}function cc(){return(cc=An(In().mark((function e(t,n,r){var i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ai((i=En(t)).auth,n,Do),a=Js(i.auth,r),o=new lc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lc=function(e){qt(n,e);var t=Zt(n);function n(e,r,i,a,o){var u;return Ft(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Bt(u),u}return jt(n,[{key:"executeNotNull",value:function(){var e=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Oi(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=An(In().mark((function e(){var t,n=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pi(1===this.filter.length,"Popup operations only handle one event"),t=rs(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ti(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ti(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ti(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ic.get())}()}}]),n}(rc);lc.currentPopupAction=null;var fc=new Map,hc=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ft(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return jt(n,[{key:"execute",value:function(){var e=An(In().mark((function e(){var t,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=fc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,dc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,oi(Kt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:fc.set(this.auth._key(),t);case 21:return this.bypassAuthState||fc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=An(In().mark((function e(t){var r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",oi(Kt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",oi(Kt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(rc);function dc(e,t){return pc.apply(this,arguments)}function pc(){return(pc=An(In().mark((function e(t,n){var r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kc(n),i=gc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vc(e,t){return mc.apply(this,arguments)}function mc(){return(mc=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gc(t)._set(kc(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yc(e,t){fc.set(e._key(),t)}function gc(e){return Li(e._redirectPersistence)}function kc(e){return Ta("pendingRedirect",e.config.apiKey,e.name)}function bc(e,t,n){return function(e,t,n){return wc.apply(this,arguments)}(e,t,n)}function wc(){return(wc=An(In().mark((function e(t,n,r){var i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ka(t),Ai(t,n,Do),a=Js(i,r),e.next=5,vc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(e,t,n){return function(e,t,n){return Sc.apply(this,arguments)}(e,t,n)}function Sc(){return(Sc=An(In().mark((function e(t,n,r){var i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ai((i=En(t)).auth,n,Do),a=Js(i.auth,r),e.next=5,vc(a,i.auth);case 5:return e.next=7,Nc(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(e,t,n){return function(e,t,n){return Ec.apply(this,arguments)}(e,t,n)}function Ec(){return(Ec=An(In().mark((function e(t,n,r){var i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ai((i=En(t)).auth,n,Do),a=Js(i.auth,r),e.next=5,Xo(!1,i,n.providerId);case 5:return e.next=7,vc(a,i.auth);case 7:return e.next=9,Nc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ic(e,t){return Tc.apply(this,arguments)}function Tc(){return(Tc=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ka(t)._initializationPromise;case 2:return e.abrupt("return",Cc(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cc(e,t){return Ac.apply(this,arguments)}function Ac(){return Ac=An(In().mark((function e(t,n){var r,i,a,o,u,s=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ka(t),a=Js(i,n),o=new hc(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Nc(e){return Oc.apply(this,arguments)}function Oc(){return(Oc=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rs("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dc=function(){function e(t){Ft(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return jt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Rc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ti(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Pc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Pc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Rc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Lc(e){return Fc.apply(this,arguments)}function Fc(){return Fc=An(In().mark((function e(t){var n,r=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Wi(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}var Mc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jc=/^https?/;function Vc(){return(Vc=An(In().mark((function e(t){var n,r,i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Lc(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ut(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Uc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ii(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Uc(e){var t=Fi(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!jc.test(r))return!1;if(Mc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Bc=new Vi(3e4,6e4);function zc(){var e=as().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,Tn.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var qc=null;function Kc(e){return qc=qc||function(e){return new Promise((function(t,n){var r,i,a;function o(){zc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){zc(),n(Ti(e,"network-request-failed"))},timeout:Bc.get()})}if(null===(i=null===(r=as().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=as().gapi)||void 0===a?void 0:a.load)){var u=Cs("iframefcb");return as()[u]=function(){gapi.load?o():n(Ti(e,"network-request-failed"))},Ts("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw qc=null,e}))}(e),qc}var Wc=new Vi(5e3,15e3),Hc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zc(e){var t=e.config;Oi(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ui(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Er},i=Gc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(kn(r).slice(1))}function $c(e){return Qc.apply(this,arguments)}function Qc(){return Qc=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kc(t);case 2:return n=e.sent,Oi(r=as().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Zc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hc,dontclear:!0},(function(e){return new Promise(function(){var n=An(In().mark((function n(r,i){var a,o,u;return In().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){as().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ti(t,"network-request-failed"),o=as().setTimeout((function(){i(a)}),Wc.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}var Jc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yc="_blank",Xc="http://localhost",el=function(){function e(t){Ft(this,e),this.window=t,this.associatedEvent=null}return jt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function tl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Jc),{width:r.toString(),height:i.toString(),top:o,left:u}),l=an().toLowerCase();n&&(s=Da(l)?Yc:n),Na(l)&&(t=t||Xc,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ja(l)&&"_self"!==s)return nl(t||"",s),new el(null);var h=window.open(t||"",s,f);Oi(h,e,"popup-blocked");try{h.focus()}catch(d){}return new el(h)}function nl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var rl="__/auth/handler",il="emulator/auth/handler";function al(e,t,n,r,i,o){Oi(e.config.authDomain,e,"auth-domain-config-required"),Oi(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Er,eventId:i};if(t instanceof Do){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(o||{});s<c.length;s++){var l=(0,a.Z)(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof Po){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(rl);return Ui(t,il)}(e),"?").concat(kn(p).slice(1))}var ol="webStorageSupport",ul=function(){function e(){Ft(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=es,this._completeRedirectFn=Cc,this._overrideRedirectResult=yc}return jt(e,[{key:"_openPopup",value:function(){var e=An(In().mark((function e(t,n,r,i){var a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pi(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=al(t,n,r,Fi(),i),e.abrupt("return",tl(t,o,rs()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=An(In().mark((function e(t,n,r,i){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=al(t,n,r,Fi(),i),as().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Pi(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$c(t);case 2:return n=e.sent,r=new Dc(t),n.register("authEvent",(function(e){return Oi(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ol,{type:ol},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ii(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Vc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ua()||Oa()||Ma()}}]),e}(),sl=ul,cl=function(e){qt(n,e);var t=Zt(n);function n(e){var r;return Ft(this,n),(r=t.call(this,"phone")).credential=e,r}return jt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Wi(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ki(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Wi(e,"POST","/v2/accounts/mfaSignIn:finalize",Ki(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Ft(this,e),this.factorId=t}return jt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Di("unexpected MultiFactorSessionType")}}}]),e}()),ll=function(){function e(){Ft(this,e)}return jt(e,null,[{key:"assertion",value:function(e){return cl._fromCredential(e)}}]),e}();ll.FACTOR_ID="phone";var fl,hl="@firebase/auth",dl="0.20.5",pl=function(){function e(t){Ft(this,e),this.auth=t,this.internalListeners=new Map}return jt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Oi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function vl(){return window}fl="Browser",gr(new Nn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Oi(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Oi(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:fl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ba(fl)},i=new qa(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Li);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),gr(new Nn("auth-internal",(function(e){return function(e){return new pl(e)}(Ka(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Or(hl,dl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(fl)),Or(hl,dl,"esm2017");function ml(e,t,n){return yl.apply(this,arguments)}function yl(){return yl=An(In().mark((function e(t,n,r){var i,a,o,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vl(),o=a.BuildInfo,Pi(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Sl(n.sessionId);case 4:return u=e.sent,s={},Ma()?s.ibi=o.packageName:Ra()?s.apn=o.packageName:Ii(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",al(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}function gl(){return(gl=An(In().mark((function e(t){var n,r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vl(),r=n.BuildInfo,i={},Ma()?i.iosBundleId=r.packageName:Ra()?i.androidPackageName=r.packageName:Ii(t,"operation-not-supported-in-this-environment"),e.next=5,Lc(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kl(e){var t=vl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function bl(e,t,n){return wl.apply(this,arguments)}function wl(){return wl=An(In().mark((function e(t,n,r){var i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ti(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ra()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),wl.apply(this,arguments)}function xl(e){var t,n,r,i,a,o,u,s,c,l,f=vl();Oi("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oi("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oi("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oi("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oi("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Sl(e){return _l.apply(this,arguments)}function _l(){return(_l=An(In().mark((function e(t){var n,r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=El(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function El(e){if(Pi(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Il=function(e){qt(n,e);var t=Zt(n);function n(){var e;return Ft(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return jt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),oi(Kt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Dc);function Tl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Dl(),postBody:null,tenantId:e.tenantId,error:Ti(e,"no-auth-event")}}function Cl(e,t){return Pl()._set(Rl(e),t)}function Al(e){return Nl.apply(this,arguments)}function Nl(){return(Nl=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pl()._get(Rl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Pl()._remove(Rl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ol(e,t){var n,r,i=function(e){var t=Ll(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ll(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ll(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Ll(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ti(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Dl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Pl(){return Li(Yu)}function Rl(e){return Ta("authEvent",e.config.apiKey,e.name)}function Ll(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,ni.Z)(t)||(0,ri.Z)(t)||(0,Vt.Z)(t)||(0,ii.Z)());r[0];return bn(r.slice(1).join("?"))}var Fl=function(){function e(){Ft(this,e),this._redirectPersistence=es,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cc,this._overrideRedirectResult=yc}return jt(e,[{key:"_initialize",value:function(){var e=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Il(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ii(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=An(In().mark((function e(t,n,r,i){var a,o,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),fc.clear(),e.next=10,this._originValidation(t);case 10:return o=Tl(t,r,i),e.next=13,Cl(t,o);case 13:return e.next=15,ml(t,o,n);case 15:return u=e.sent,e.next=18,kl(u);case 18:return s=e.sent,e.abrupt("return",bl(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return gl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=vl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(An(In().mark((function n(){return In().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Al(e);case 2:t.onEvent(jl());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=An(In().mark((function n(r){var i,a;return In().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Al(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Ol(i,r.url)),t.onEvent(a||jl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");vl().handleOpenURL=function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ml=Fl;function jl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ti("no-auth-event")}}function Vl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ul(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return!("file:"!==Vl()&&"ionic:"!==Vl()&&"capacitor:"!==Vl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bl(){return ln()&&11===(null===document||void 0===document?void 0:document.documentMode)}function zl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return/Edge\/\d+/.test(e)}function ql(){try{var e=self.localStorage,t=rs();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an();return Bl()||zl(e)}()||fn()}catch(n){return Kl()&&fn()}return!1}function Kl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Wl(){return("http:"===Vl()||"https:"===Vl()||sn()||Ul())&&!(cn()||un())&&ql()&&!Kl()}function Hl(){return Ul()&&"undefined"!==typeof document}function Gl(){return Zl.apply(this,arguments)}function Zl(){return(Zl=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $l={LOCAL:"local",NONE:"none",SESSION:"session"},Ql=Oi,Jl="persistence";function Yl(e,t){Ql(Object.values($l).includes(t),e,"invalid-persistence-type"),cn()?Ql(t!==$l.SESSION,e,"unsupported-persistence-type"):un()?Ql(t===$l.NONE,e,"unsupported-persistence-type"):Kl()?Ql(t===$l.NONE||t===$l.LOCAL&&fn(),e,"unsupported-persistence-type"):Ql(t===$l.NONE||ql(),e,"unsupported-persistence-type")}function Xl(e){return ef.apply(this,arguments)}function ef(){return(ef=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=tf(),r=Ta(Jl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var nf=Oi,rf=function(){function e(){Ft(this,e),this.browserResolver=Li(sl),this.cordovaResolver=Li(Ml),this.underlyingResolver=null,this._redirectPersistence=es,this._completeRedirectFn=Cc,this._overrideRedirectResult=yc}return jt(e,[{key:"_initialize",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=An(In().mark((function e(t,n,r,i){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=An(In().mark((function e(t,n,r,i){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Hl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return nf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Gl();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function af(e){return e.unwrap()}function of(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new ff(e,function(e,t){var n,r=En(e),i=t;return Oi(t.customData.operationType,r,"argument-error"),Oi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Wu._fromError(r,i)}(e,t));else if(i){var a=uf(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function uf(e){var t=(e instanceof hn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof hn)&&"temporaryProof"in t&&"phoneNumber"in t)return Qs.credentialFromResult(e);var n,r=t.providerId;if(!r||r===hi)return null;switch(r){case fi:n=Fo;break;case ci:n=Lo;break;case li:n=Mo;break;case di:n=Uo;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?jo._create(r,u):xo._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Ro(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof hn?n.credentialFromError(e):n.credentialFromResult(e)}function sf(e,t){return t.catch((function(t){throw t instanceof hn&&of(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,uf(t)),additionalUserInfo:qu(e),user:hf.getOrCreate(r)}}))}function cf(e,t){return lf.apply(this,arguments)}function lf(){return(lf=An(In().mark((function e(t,n){var r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return sf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ff=function(){function e(t,n){Ft(this,e),this.resolver=n,this.auth=t.wrapped()}return jt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return sf(af(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),hf=function(){function e(t){Ft(this,e),this._delegate=t,this.multiFactor=function(e){var t=En(e);return Zu.has(t)||Zu.set(t,Gu._fromUser(t)),Zu.get(t)}(t)}return jt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sf(this.auth,uu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cf(this.auth,Ks(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sf(this.auth,sc(this._delegate,t,rf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl(Ka(this.auth));case 2:return e.abrupt("return",_c(this._delegate,t,rf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sf(this.auth,cu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return cf(this.auth,function(e,t,n){return Hs.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return sf(this.auth,function(e,t,n){return uc.apply(this,arguments)}(this._delegate,e,rf))}},{key:"reauthenticateWithRedirect",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl(Ka(this.auth));case 2:return e.abrupt("return",xc(this._delegate,t,rf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Nu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Lu(En(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Lu(En(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return $s.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ru.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ou.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();hf.USER_MAP=new WeakMap;var df=Oi,pf=function(){function e(t,n){if(Ft(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;df(r,"invalid-api-key",{appName:t.name}),df(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?rf:void 0;this._delegate=n.initialize({options:{persistence:mf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(wi),this.linkUnderlyingAuth()}return jt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?hf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ha(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ku.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return bu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return gu.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sf(this._delegate,Su(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Au.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=No.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return df(Wl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ic(this._delegate,rf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",sf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ka(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=vf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=vf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Eu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return yu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yl(this._delegate,t),e.t0=t,e.next=e.t0===$l.SESSION?4:e.t0===$l.LOCAL?6:e.t0===$l.NONE?11:13;break;case 4:return n=es,e.abrupt("break",14);case 6:return e.next=8,Li(Ss)._isAvailable();case 8:return r=e.sent,n=r?Ss:Yu,e.abrupt("break",14);case 11:return n=Ia,e.abrupt("break",14);case 13:return e.abrupt("return",Ii("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return sf(this._delegate,function(e){return Wo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return sf(this._delegate,au(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return sf(this._delegate,function(e,t){return du.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return sf(this._delegate,function(e,t,n){return au(En(e),Oo.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return sf(this._delegate,function(e,t,n){return Iu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return cf(this._delegate,function(e,t,n){return qs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return df(Wl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",sf(this._delegate,ac(this._delegate,t,rf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return df(Wl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Xl(this._delegate);case 3:return e.abrupt("return",bc(this._delegate,t,rf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return xu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function vf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&hf.getOrCreate(e))},error:t,complete:n}}function mf(e,t){var n=function(e,t){var n=tf();if(!n)return[];var r=Ta(Jl,e,t);switch(n.getItem(r)){case $l.NONE:return[Ia];case $l.LOCAL:return[Ss,es];case $l.SESSION:return[es];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ss)||n.push(Ss),"undefined"!==typeof window)for(var r=0,i=[Yu,es];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ia)||n.push(Ia),n}pf.Persistence=$l;var yf=function(){function e(){Ft(this,e),this.providerId="phone",this._delegate=new Qs(af(ti.auth()))}return jt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Qs.credential(e,t)}}]),e}();yf.PHONE_SIGN_IN_METHOD=Qs.PHONE_SIGN_IN_METHOD,yf.PROVIDER_ID=Qs.PROVIDER_ID;var gf,kf=Oi,bf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ti.app();Ft(this,e),kf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Us(t,n,i.auth()),this.type=this._delegate.type}return jt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(gf=ti).INTERNAL.registerComponent(new Nn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new pf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pi,PASSWORD_RESET:vi,RECOVER_EMAIL:mi,REVERT_SECOND_FACTOR_ADDITION:yi,VERIFY_AND_CHANGE_EMAIL:gi,VERIFY_EMAIL:ki}},EmailAuthProvider:Oo,FacebookAuthProvider:Lo,GithubAuthProvider:Mo,GoogleAuthProvider:Fo,OAuthProvider:Ro,SAMLAuthProvider:Vo,PhoneAuthProvider:yf,PhoneMultiFactorGenerator:ll,RecaptchaVerifier:bf,TwitterAuthProvider:Uo,Auth:pf,AuthCredential:$a,Error:hn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),gf.registerVersion("@firebase/auth-compat","0.2.18");var wf,xf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Sf={},_f=_f||{},Ef=xf||self;function If(){}function Tf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Cf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Af="closure_uid_"+(1e9*Math.random()>>>0),Nf=0;function Of(e,t,n){return e.call.apply(e.bind,arguments)}function Df(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pf(e,t,n){return(Pf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Of:Df).apply(null,arguments)}function Rf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Lf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ff(){this.s=this.s,this.o=this.o}var Mf={};Ff.prototype.s=!1,Ff.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Af)&&e[Af]||(e[Af]=++Nf)}(this);delete Mf[e]}},Ff.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Vf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Uf(e){return Array.prototype.concat.apply([],arguments)}function Bf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function zf(e){return/^[\s\xa0]*$/.test(e)}var qf,Kf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Wf(e,t){return-1!=e.indexOf(t)}function Hf(e,t){return e<t?-1:e>t?1:0}e:{var Gf=Ef.navigator;if(Gf){var Zf=Gf.userAgent;if(Zf){qf=Zf;break e}}qf=""}function $f(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Qf(e){var t={};for(var n in e)t[n]=e[n];return t}var Jf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Jf.length;a++)n=Jf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xf(e){return Xf[" "](e),e}Xf[" "]=If;var eh,th=Wf(qf,"Opera"),nh=Wf(qf,"Trident")||Wf(qf,"MSIE"),rh=Wf(qf,"Edge"),ih=rh||nh,ah=Wf(qf,"Gecko")&&!(Wf(qf.toLowerCase(),"webkit")&&!Wf(qf,"Edge"))&&!(Wf(qf,"Trident")||Wf(qf,"MSIE"))&&!Wf(qf,"Edge"),oh=Wf(qf.toLowerCase(),"webkit")&&!Wf(qf,"Edge");function uh(){var e=Ef.document;return e?e.documentMode:void 0}e:{var sh="",ch=function(){var e=qf;return ah?/rv:([^\);]+)(\)|;)/.exec(e):rh?/Edge\/([\d\.]+)/.exec(e):nh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):oh?/WebKit\/(\S+)/.exec(e):th?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ch&&(sh=ch?ch[1]:""),nh){var lh=uh();if(null!=lh&&lh>parseFloat(sh)){eh=String(lh);break e}}eh=sh}var fh,hh={};function dh(){return function(e){var t=hh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Kf(String(eh)).split("."),n=Kf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Hf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Hf(0==a[2].length,0==o[2].length)||Hf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ef.document&&nh){var ph=uh();fh=ph||(parseInt(eh,10)||void 0)}else fh=void 0;var vh=fh,mh=function(){if(!Ef.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ef.addEventListener("test",If,t),Ef.removeEventListener("test",If,t)}catch(n){}return e}();function yh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function gh(e,t){if(yh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ah){e:{try{Xf(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:kh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&gh.Z.h.call(this)}}yh.prototype.h=function(){this.defaultPrevented=!0},Lf(gh,yh);var kh={2:"touch",3:"pen",4:"mouse"};gh.prototype.h=function(){gh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var bh="closure_listenable_"+(1e6*Math.random()|0),wh=0;function xh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++wh,this.ca=this.fa=!1}function Sh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function _h(e){this.src=e,this.g={},this.h=0}function Eh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=jf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Sh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ih(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}_h.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ih(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new xh(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Th="closure_lm_"+(1e6*Math.random()|0),Ch={};function Ah(e,t,n,r,i){if(r&&r.once)return Oh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ah(e,t[a],n,r,i);return null}return n=jh(n),e&&e[bh]?e.N(t,n,Cf(r)?!!r.capture:!!r,i):Nh(e,t,n,!1,r,i)}function Nh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Cf(i)?!!i.capture:!!i,u=Fh(e);if(u||(e[Th]=u=new _h(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Lh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)mh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Rh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Oh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Oh(e,t[a],n,r,i);return null}return n=jh(n),e&&e[bh]?e.O(t,n,Cf(r)?!!r.capture:!!r,i):Nh(e,t,n,!0,r,i)}function Dh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Dh(e,t[a],n,r,i);else r=Cf(r)?!!r.capture:!!r,n=jh(n),e&&e[bh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ih(a=e.g[t],n,r,i))&&(Sh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Fh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ih(t,n,r,i)),(n=-1<e?t[e]:null)&&Ph(n))}function Ph(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[bh])Eh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Rh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Fh(t))?(Eh(n,e),0==n.h&&(n.src=null,t[Th]=null)):Sh(e)}}}function Rh(e){return e in Ch?Ch[e]:Ch[e]="on"+e}function Lh(e,t){if(e.ca)e=!0;else{t=new gh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ph(e),e=n.call(r,t)}return e}function Fh(e){return(e=e[Th])instanceof _h?e:null}var Mh="__closure_events_fn_"+(1e9*Math.random()>>>0);function jh(e){return"function"===typeof e?e:(e[Mh]||(e[Mh]=function(t){return e.handleEvent(t)}),e[Mh])}function Vh(){Ff.call(this),this.i=new _h(this),this.P=this,this.I=null}function Uh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new yh(t,e);else if(t instanceof yh)t.target=t.target||e;else{var i=t;Yf(t=new yh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Bh(o,r,!0,t)&&i}if(i=Bh(o=t.g=e,r,!0,t)&&i,i=Bh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Bh(o=t.g=n[a],r,!1,t)&&i}function Bh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Eh(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Lf(Vh,Ff),Vh.prototype[bh]=!0,Vh.prototype.removeEventListener=function(e,t,n,r){Dh(this,e,t,n,r)},Vh.prototype.M=function(){if(Vh.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sh(n[r]);delete t.g[e],t.h--}}this.I=null},Vh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Vh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var zh=Ef.JSON.stringify;function qh(){var e=Jh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Kh,Wh=function(){function e(){Ft(this,e),this.h=this.g=null}return jt(e,[{key:"add",value:function(e,t){var n=Hh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Hh=new(function(){function e(t,n){Ft(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return jt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Gh}),(function(e){return e.reset()})),Gh=function(){function e(){Ft(this,e),this.next=this.g=this.h=null}return jt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Zh(e){Ef.setTimeout((function(){throw e}),0)}function $h(e,t){Kh||function(){var e=Ef.Promise.resolve(void 0);Kh=function(){e.then(Yh)}}(),Qh||(Kh(),Qh=!0),Jh.add(e,t)}var Qh=!1,Jh=new Wh;function Yh(){for(var e;e=qh();){try{e.h.call(e.g)}catch(n){Zh(n)}var t=Hh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qh=!1}function Xh(e,t){Vh.call(this),this.h=e||1,this.g=t||Ef,this.j=Pf(this.kb,this),this.l=Date.now()}function ed(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function td(e,t,n){if("function"===typeof e)n&&(e=Pf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ef.setTimeout(e,t||0)}function nd(e){e.g=td((function(){e.g=null,e.i&&(e.i=!1,nd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Lf(Xh,Vh),(wf=Xh.prototype).da=!1,wf.S=null,wf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Uh(this,"tick"),this.da&&(ed(this),this.start()))}},wf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wf.M=function(){Xh.Z.M.call(this),ed(this),delete this.g};var rd=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return jt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:nd(this)}},{key:"M",value:function(){oi(Kt(n.prototype),"M",this).call(this),this.g&&(Ef.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ff);function id(e){Ff.call(this),this.h=e,this.g={}}Lf(id,Ff);var ad=[];function od(e,t,n,r){Array.isArray(n)||(n&&(ad[0]=n.toString()),n=ad);for(var i=0;i<n.length;i++){var a=Ah(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ud(e){$f(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ph(e)}),e),e.g={}}function sd(){this.g=!0}function cd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return zh(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}id.prototype.M=function(){id.Z.M.call(this),ud(this)},id.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sd.prototype.Aa=function(){this.g=!1},sd.prototype.info=function(){};var ld={},fd=null;function hd(){return fd=fd||new Vh}function dd(e){yh.call(this,ld.Ma,e)}function pd(e){var t=hd();Uh(t,new dd(t,e))}function vd(e,t){yh.call(this,ld.STAT_EVENT,e),this.stat=t}function md(e){var t=hd();Uh(t,new vd(t,e))}function yd(e,t){yh.call(this,ld.Na,e),this.size=t}function gd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ef.setTimeout((function(){e()}),t)}ld.Ma="serverreachability",Lf(dd,yh),ld.STAT_EVENT="statevent",Lf(vd,yh),ld.Na="timingevent",Lf(yd,yh);var kd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},bd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function wd(){}function xd(e){return e.h||(e.h=e.i())}function Sd(){}wd.prototype.h=null;var _d,Ed={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Id(){yh.call(this,"d")}function Td(){yh.call(this,"c")}function Cd(){}function Ad(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new id(this),this.P=Od,e=ih?125:void 0,this.W=new Xh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Nd}function Nd(){this.i=null,this.g="",this.h=!1}Lf(Id,yh),Lf(Td,yh),Lf(Cd,wd),Cd.prototype.g=function(){return new XMLHttpRequest},Cd.prototype.i=function(){return{}},_d=new Cd;var Od=45e3,Dd={},Pd={};function Rd(e,t,n){e.K=1,e.v=rp(Jd(t)),e.s=n,e.U=!0,Ld(e,null)}function Ld(e,t){e.F=Date.now(),Vd(e),e.A=Jd(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),mp(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Nd,e.g=gv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new rd(Pf(e.Ia,e,e.g),e.O)),od(e.V,e.g,"readystatechange",e.gb),t=e.H?Qf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),pd(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Fd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Md(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=jd(e,n))==Pd){4==t&&(e.o=4,md(14),i=!1),cd(e.j,e.m,null,"[Incomplete Response]");break}if(r==Dd){e.o=4,md(15),cd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}cd(e.j,e.m,r,null),Kd(e,r)}Fd(e)&&r!=Pd&&r!=Dd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,md(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),lv(t),t.L=!0,md(11))):(cd(e.j,e.m,n,"[Invalid Chunked Response]"),qd(e),zd(e))}function jd(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pd:(n=Number(t.substring(n,r)),isNaN(n)?Dd:(r+=1)+n>t.length?Pd:(t=t.substr(r,n),e.C=r+n,t))}function Vd(e){e.Y=Date.now()+e.P,Ud(e,e.P)}function Ud(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=gd(Pf(e.eb,e),t)}function Bd(e){e.B&&(Ef.clearTimeout(e.B),e.B=null)}function zd(e){0==e.l.G||e.I||dv(e.l,e)}function qd(e){Bd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ed(e.W),ud(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Kd(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||_p(n.i,e)))if(n.I=e.N,!e.J&&_p(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;hv(n),tv(n)}cv(n),md(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=gd(Pf(n.ab,n),6e3));if(1>=Sp(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else vv(n,11)}else if((e.J||n.g==e)&&hv(n),!zf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Wf(l,"spdy")||Wf(l,"quic")||Wf(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ep(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,np(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=yv(r,r.H?r.la:null,r.W),d.J){Ip(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Bd(p),Vd(p)),r.g=d}else sv(r);0<n.l.length&&iv(n)}else"stop"!=a[0]&&"close"!=a[0]||vv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?vv(n,7):ev(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}pd(4)}catch(a){}}function Wd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Tf(e)||"string"===typeof e)Vf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Tf(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Tf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Hd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Hd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Gd(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Zd(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Zd(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Zd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(wf=Ad.prototype).setTimeout=function(e){this.P=e},wf.gb=function(e){e=e.target;var t=this.L;t&&3==$p(e)?t.l():this.Ia(e)},wf.Ia=function(e){try{if(e==this.g)e:{var t=$p(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ih||this.g&&(this.h.h||this.g.ga()||Qp(this.g)))){this.I||4!=t||7==n||pd(8==n||0>=r?3:2),Bd(this);var i=this.g.ba();this.N=i;t:if(Fd(this)){var a=Qp(this.g);e="";var o=a.length,u=4==$p(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){qd(this),zd(this);var s="";break t}this.h.i=new Ef.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zf(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,md(12),qd(this),zd(this);break e}cd(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Kd(this,i)}this.U?(Md(this,t,s),ih&&this.i&&3==t&&(od(this.V,this.W,"tick",this.fb),this.W.start())):(cd(this.j,this.m,s,null),Kd(this,s)),4==t&&qd(this),this.i&&!this.I&&(4==t?dv(this.l,this):(this.i=!1,Vd(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,md(12)):(this.o=0,md(13)),qd(this),zd(this)}}}catch(t){}},wf.fb=function(){if(this.g){var e=$p(this.g),t=this.g.ga();this.C<t.length&&(Bd(this),Md(this,e,t),this.i&&4!=e&&Vd(this))}},wf.cancel=function(){this.I=!0,qd(this)},wf.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(pd(3),md(17)),qd(this),this.o=2,zd(this)):Ud(this,this.Y-e)},(wf=Hd.prototype).R=function(){Gd(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},wf.T=function(){return Gd(this),this.g.concat()},wf.get=function(e,t){return Zd(this.h,e)?this.h[e]:t},wf.set=function(e,t){Zd(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},wf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var $d=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Qd){this.g=void 0!==t?t:e.g,Yd(this,e.j),this.s=e.s,Xd(this,e.i),ep(this,e.m),this.l=e.l,t=e.h;var n=new hp;n.i=t.i,t.g&&(n.g=new Hd(t.g),n.h=t.h),tp(this,n),this.o=e.o}else e&&(n=String(e).match($d))?(this.g=!!t,Yd(this,n[1]||"",!0),this.s=ip(n[2]||""),Xd(this,n[3]||"",!0),ep(this,n[4]),this.l=ip(n[5]||"",!0),tp(this,n[6]||"",!0),this.o=ip(n[7]||"")):(this.g=!!t,this.h=new hp(null,this.g))}function Jd(e){return new Qd(e)}function Yd(e,t,n){e.j=n?ip(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xd(e,t,n){e.i=n?ip(t,!0):t}function ep(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tp(e,t,n){t instanceof hp?(e.h=t,function(e,t){t&&!e.j&&(dp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(pp(this,t),mp(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ap(t,lp)),e.h=new hp(t,e.g))}function np(e,t,n){e.h.set(t,n)}function rp(e){return np(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ip(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ap(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,op),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function op(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Qd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ap(t,up,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ap(t,up,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ap(n,"/"==n.charAt(0)?cp:sp,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ap(n,fp)),e.join("")};var up=/[#\/\?@]/g,sp=/[#\?:]/g,cp=/[#\?]/g,lp=/[#\?@]/g,fp=/#/g;function hp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function dp(e){e.g||(e.g=new Hd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function pp(e,t){dp(e),t=yp(e,t),Zd(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Zd((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Gd(e)))}function vp(e,t){return dp(e),t=yp(e,t),Zd(e.g.h,t)}function mp(e,t,n){pp(e,t),0<n.length&&(e.i=null,e.g.set(yp(e,t),Bf(n)),e.h+=n.length)}function yp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(wf=hp.prototype).add=function(e,t){dp(this),this.i=null,e=yp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},wf.forEach=function(e,t){dp(this),this.g.forEach((function(n,r){Vf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},wf.T=function(){dp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},wf.R=function(e){dp(this);var t=[];if("string"===typeof e)vp(this,e)&&(t=Uf(t,this.g.get(yp(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Uf(t,e[n])}return t},wf.set=function(e,t){return dp(this),this.i=null,vp(this,e=yp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},wf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},wf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var gp=jt((function e(t,n){Ft(this,e),this.h=t,this.g=n}));function kp(e){this.l=e||wp,Ef.PerformanceNavigationTiming?e=0<(e=Ef.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ef.g&&Ef.g.Ea&&Ef.g.Ea()&&Ef.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bp,wp=10;function xp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Sp(e){return e.h?1:e.g?e.g.size:0}function _p(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ep(e,t){e.g?e.g.add(t):e.h=t}function Ip(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Tp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ut(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Bf(e.i)}function Cp(){}function Ap(){this.g=new Cp}function Np(e,t,n){var r=n||"";try{Wd(e,(function(e,n){var i=e;Cf(e)&&(i=zh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Op(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Dp(e){this.l=e.$b||null,this.j=e.ib||!1}function Pp(e,t){Vh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Rp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kp.prototype.cancel=function(){if(this.i=Tp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ut(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Cp.prototype.stringify=function(e){return Ef.JSON.stringify(e,void 0)},Cp.prototype.parse=function(e){return Ef.JSON.parse(e,void 0)},Lf(Dp,wd),Dp.prototype.g=function(){return new Pp(this.l,this.j)},Dp.prototype.i=(bp={},function(){return bp}),Lf(Pp,Vh);var Rp=0;function Lp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Fp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Mp(e)}function Mp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(wf=Pp.prototype).open=function(e,t){if(this.readyState!=Rp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Mp(this)},wf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ef).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},wf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fp(this)),this.readyState=Rp},wf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mp(this)),this.g&&(this.readyState=3,Mp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ef.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},wf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Fp(this):Mp(this),3==this.readyState&&Lp(this)}},wf.Ua=function(e){this.g&&(this.response=this.responseText=e,Fp(this))},wf.Ta=function(e){this.g&&(this.response=e,Fp(this))},wf.ha=function(){this.g&&Fp(this)},wf.setRequestHeader=function(e,t){this.v.append(e,t)},wf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},wf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var jp=Ef.JSON.parse;function Vp(e){Vh.call(this),this.headers=new Hd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Up,this.K=this.L=!1}Lf(Vp,Vh);var Up="",Bp=/^https?$/i,zp=["POST","PUT"];function qp(e){return"content-type"==e.toLowerCase()}function Kp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wp(e),Gp(e)}function Wp(e){e.D||(e.D=!0,Uh(e,"complete"),Uh(e,"error"))}function Hp(e){if(e.h&&"undefined"!=typeof _f&&(!e.C[1]||4!=$p(e)||2!=e.ba()))if(e.v&&4==$p(e))td(e.Fa,0,e);else if(Uh(e,"readystatechange"),4==$p(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match($d)[1]||null;if(!a&&Ef.self&&Ef.self.location){var o=Ef.self.location.protocol;a=o.substr(0,o.length-1)}i=!Bp.test(a?a.toLowerCase():"")}t=i}if(t)Uh(e,"complete"),Uh(e,"success");else{e.m=6;try{var u=2<$p(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Wp(e)}}finally{Gp(e)}}}function Gp(e,t){if(e.g){Zp(e);var n=e.g,r=e.C[0]?If:null;e.g=null,e.C=null,t||Uh(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Zp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ef.clearTimeout(e.A),e.A=null)}function $p(e){return e.g?e.g.readyState:0}function Qp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Up:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(le){return null}}function Jp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return $f(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):np(e,t,n))}function Yp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Xp(e){this.za=0,this.l=[],this.h=new sd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yp("baseRetryDelayMs",5e3,e),this.$a=Yp("retryDelaySeedMs",1e4,e),this.Ya=Yp("forwardChannelMaxRetries",2,e),this.ra=Yp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new kp(e&&e.concurrentRequestLimit),this.Ca=new Ap,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ev(e){if(nv(e),3==e.G){var t=e.V++,n=Jd(e.F);np(n,"SID",e.J),np(n,"RID",t),np(n,"TYPE","terminate"),ov(e,n),(t=new Ad(e,e.h,t,void 0)).K=2,t.v=rp(Jd(n)),n=!1,Ef.navigator&&Ef.navigator.sendBeacon&&(n=Ef.navigator.sendBeacon(t.v.toString(),"")),!n&&Ef.Image&&((new Image).src=t.v,n=!0),n||(t.g=gv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Vd(t)}mv(e)}function tv(e){e.g&&(lv(e),e.g.cancel(),e.g=null)}function nv(e){tv(e),e.u&&(Ef.clearTimeout(e.u),e.u=null),hv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ef.clearTimeout(e.m),e.m=null)}function rv(e,t){e.l.push(new gp(e.Za++,t)),3==e.G&&iv(e)}function iv(e){xp(e.i)||e.m||(e.m=!0,$h(e.Ha,e),e.C=0)}function av(e,t){var n;n=t?t.m:e.V++;var r=Jd(e.F);np(r,"SID",e.J),np(r,"RID",n),np(r,"AID",e.U),ov(e,r),e.o&&e.s&&Jp(r,e.o,e.s),n=new Ad(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=uv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ep(e.i,n),Rd(n,r,t)}function ov(e,t){e.j&&Wd({},(function(e,n){np(t,n,e)}))}function uv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Pf(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Np(l,o,"req"+c+"_")}catch(_e){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function sv(e){e.g||e.u||(e.Y=1,$h(e.Ga,e),e.A=0)}function cv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=gd(Pf(e.Ga,e),pv(e,e.A)),e.A++,!0)}function lv(e){null!=e.B&&(Ef.clearTimeout(e.B),e.B=null)}function fv(e){e.g=new Ad(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Jd(e.oa);np(t,"RID","rpc"),np(t,"SID",e.J),np(t,"CI",e.N?"0":"1"),np(t,"AID",e.U),ov(e,t),np(t,"TYPE","xmlhttp"),e.o&&e.s&&Jp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=rp(Jd(t)),n.s=null,n.U=!0,Ld(n,e)}function hv(e){null!=e.v&&(Ef.clearTimeout(e.v),e.v=null)}function dv(e,t){var n=null;if(e.g==t){hv(e),lv(e),e.g=null;var r=2}else{if(!_p(e.i,t))return;n=t.D,Ip(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Uh(r=hd(),new yd(r,n,t,i)),iv(e)}else sv(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Sp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=gd(Pf(e.Ha,e,t),pv(e,e.C)),e.C++,!0))}(e,t)||2==r&&cv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:vv(e,5);break;case 4:vv(e,10);break;case 3:vv(e,6);break;default:vv(e,2)}}function pv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function vv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Pf(e.jb,e);n||(n=new Qd("//www.google.com/images/cleardot.gif"),Ef.location&&"http"==Ef.location.protocol||Yd(n,"https"),rp(n)),function(e,t){var n=new sd;if(Ef.Image){var r=new Image;r.onload=Rf(Op,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Rf(Op,n,r,"TestLoadImage: error",!1,t),r.onabort=Rf(Op,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Rf(Op,n,r,"TestLoadImage: timeout",!1,t),Ef.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else md(2);e.G=0,e.j&&e.j.va(t),mv(e),nv(e)}function mv(e){e.G=0,e.I=-1,e.j&&(0==Tp(e.i).length&&0==e.l.length||(e.i.i.length=0,Bf(e.l),e.l.length=0),e.j.ua())}function yv(e,t,n){var r=function(e){return e instanceof Qd?Jd(e):new Qd(e,void 0)}(n);if(""!=r.i)t&&Xd(r,t+"."+r.i),ep(r,r.m);else{var i=Ef.location;r=function(e,t,n,r){var i=new Qd(null,void 0);return e&&Yd(i,e),t&&Xd(i,t),n&&ep(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&$f(e.aa,(function(e,t){np(r,t,e)})),t=e.D,n=e.sa,t&&n&&np(r,t,n),np(r,"VER",e.ma),ov(e,r),r}function gv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Vp(new Dp({ib:!0})):new Vp(e.qa)).L=e.H,t}function kv(){}function bv(){if(nh&&!(10<=Number(vh)))throw Error("Environmental error: no available transport.")}function wv(e,t){Vh.call(this),this.g=new Xp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!zf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _v(this)}function xv(e){Id.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sv(){Td.call(this),this.status=1}function _v(e){this.g=e}(wf=Vp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_d.g(),this.C=this.u?xd(this.u):xd(_d),this.g.onreadystatechange=Pf(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Kp(this,a)}e=n||"";var i=new Hd(this.headers);r&&Wd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=qp,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ef.FormData&&e instanceof Ef.FormData,!(0<=jf(zp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zp(this),0<this.B&&((this.K=function(e){return nh&&dh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pf(this.pa,this)):this.A=td(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Kp(this,a)}},wf.pa=function(){"undefined"!=typeof _f&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Uh(this,"timeout"),this.abort(8))},wf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Uh(this,"complete"),Uh(this,"abort"),Gp(this))},wf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gp(this,!0)),Vp.Z.M.call(this)},wf.Fa=function(){this.s||(this.F||this.v||this.l?Hp(this):this.cb())},wf.cb=function(){Hp(this)},wf.ba=function(){try{return 2<$p(this)?this.g.status:-1}catch(bp){return-1}},wf.ga=function(){try{return this.g?this.g.responseText:""}catch(bp){return""}},wf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),jp(t)}},wf.Da=function(){return this.m},wf.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(wf=Xp.prototype).ma=8,wf.G=1,wf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(le){}},wf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ad(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Yf(n=Qf(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=uv(this,t,r),np(i=Jd(this.F),"RID",e),np(i,"CVER",22),this.D&&np(i,"X-HTTP-Session-Id",this.D),ov(this,i),this.o&&n&&Jp(i,this.o,n),Ep(this.i,t),this.Ra&&np(i,"TYPE","init"),this.ja?(np(i,"$req",r),np(i,"SID","null"),t.$=!0,Rd(t,i,null)):Rd(t,i,r),this.G=2}}else 3==this.G&&(e?av(this,e):0==this.l.length||xp(this.i)||av(this))},wf.Ga=function(){if(this.u=null,fv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=gd(Pf(this.bb,this),e)}},wf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,md(10),tv(this),fv(this))},wf.ab=function(){null!=this.v&&(this.v=null,tv(this),cv(this),md(19))},wf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),md(2)):(this.h.info("Failed to ping google.com"),md(1))},(wf=kv.prototype).xa=function(){},wf.wa=function(){},wf.va=function(){},wf.ua=function(){},wf.Oa=function(){},bv.prototype.g=function(e,t){return new wv(e,t)},Lf(wv,Vh),wv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),$h(Pf(e.hb,e,t))),md(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=yv(e,null,e.W),iv(e)},wv.prototype.close=function(){ev(this.g)},wv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,rv(this.g,t)}else this.v?((t={}).__data__=zh(e),rv(this.g,t)):rv(this.g,e)},wv.prototype.M=function(){this.g.j=null,delete this.j,ev(this.g),delete this.g,wv.Z.M.call(this)},Lf(xv,Id),Lf(Sv,Td),Lf(_v,kv),_v.prototype.xa=function(){Uh(this.g,"a")},_v.prototype.wa=function(e){Uh(this.g,new xv(e))},_v.prototype.va=function(e){Uh(this.g,new Sv(e))},_v.prototype.ua=function(){Uh(this.g,"b")},bv.prototype.createWebChannel=bv.prototype.g,wv.prototype.send=wv.prototype.u,wv.prototype.open=wv.prototype.m,wv.prototype.close=wv.prototype.close,kd.NO_ERROR=0,kd.TIMEOUT=8,kd.HTTP_ERROR=6,bd.COMPLETE="complete",Sd.EventType=Ed,Ed.OPEN="a",Ed.CLOSE="b",Ed.ERROR="c",Ed.MESSAGE="d",Vh.prototype.listen=Vh.prototype.N,Vp.prototype.listenOnce=Vp.prototype.O,Vp.prototype.getLastError=Vp.prototype.La,Vp.prototype.getLastErrorCode=Vp.prototype.Da,Vp.prototype.getStatus=Vp.prototype.ba,Vp.prototype.getResponseJson=Vp.prototype.Qa,Vp.prototype.getResponseText=Vp.prototype.ga,Vp.prototype.send=Vp.prototype.ea;var Ev=Sf.createWebChannelTransport=function(){return new bv},Iv=Sf.getStatEventTarget=function(){return hd()},Tv=Sf.ErrorCode=kd,Cv=Sf.EventType=bd,Av=Sf.Event=ld,Nv=Sf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ov=Sf.FetchXmlHttpFactory=Dp,Dv=Sf.WebChannel=Sd,Pv=Sf.XhrIo=Vp,Rv="@firebase/firestore",Lv=function(){function e(t){Ft(this,e),this.uid=t}return jt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Lv.UNAUTHENTICATED=new Lv(null),Lv.GOOGLE_CREDENTIALS=new Lv("google-credentials-uid"),Lv.FIRST_PARTY=new Lv("first-party-uid"),Lv.MOCK_USER=new Lv("mock-user");var Fv="9.9.0",Mv=new Bn("@firebase/firestore");function jv(){return Mv.logLevel}function Vv(e){if(Mv.logLevel<=Rn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zv);Mv.debug.apply(Mv,["Firestore (".concat(Fv,"): ").concat(e)].concat((0,Tn.Z)(i)))}}function Uv(e){if(Mv.logLevel<=Rn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zv);Mv.error.apply(Mv,["Firestore (".concat(Fv,"): ").concat(e)].concat((0,Tn.Z)(i)))}}function Bv(e){if(Mv.logLevel<=Rn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zv);Mv.warn.apply(Mv,["Firestore (".concat(Fv,"): ").concat(e)].concat((0,Tn.Z)(i)))}}function zv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function qv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Fv,") INTERNAL ASSERTION FAILED: ")+e;throw Uv(t),new Error(t)}function Kv(e,t){e||qv()}function Wv(e,t){return e}var Hv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gv=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return jt(n)}(hn),Zv=jt((function e(){var t=this;Ft(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),$v=jt((function e(t,n){Ft(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Qv=function(){function e(){Ft(this,e)}return jt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Lv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Jv=function(){function e(t){Ft(this,e),this.token=t,this.changeListener=null}return jt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Yv=function(){function e(t){Ft(this,e),this.t=t,this.currentUser=Lv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return jt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Zv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Zv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Vv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Vv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Vv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Kv("string"==typeof n.accessToken),new $v(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Kv(null===e||"string"==typeof e),new Lv(e)}}]),e}(),Xv=jt((function e(t,n,r){Ft(this,e),this.type="FirstParty",this.user=Lv.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),em=function(){function e(t,n,r){Ft(this,e),this.h=t,this.l=n,this.m=r}return jt(e,[{key:"getToken",value:function(){return Promise.resolve(new Xv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Lv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),tm=jt((function e(t){Ft(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),nm=function(){function e(t){Ft(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return jt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Vv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Vv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Vv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Vv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Kv("string"==typeof t.token),e.p=t.token,new tm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function rm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var im=function(){function e(){Ft(this,e)}return jt(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=rm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function am(e,t){return e<t?-1:e>t?1:0}function om(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function um(e){return e+"\0"}var sm=function(){function e(t,n){if(Ft(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Gv(Hv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Gv(Hv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Gv(Hv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gv(Hv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return jt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?am(this.nanoseconds,e.nanoseconds):am(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),cm=function(){function e(t){Ft(this,e),this.timestamp=t}return jt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new sm(0,0))}},{key:"max",value:function(){return new e(new sm(253402300799,999999999))}}]),e}(),lm=function(){function e(t,n,r){Ft(this,e),void 0===n?n=0:n>t.length&&qv(),void 0===r?r=t.length-n:r>t.length-n&&qv(),this.segments=t,this.offset=n,this.len=r}return jt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),fm=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.apply(this,arguments)}return jt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Gv(Hv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,Tn.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(lm),hm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dm=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.apply(this,arguments)}return jt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return hm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Gv(Hv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Gv(Hv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Gv(Hv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Gv(Hv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(lm),pm=function(){function e(t){Ft(this,e),this.path=t}return jt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===fm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(fm.fromString(t))}},{key:"fromName",value:function(t){return new e(fm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(fm.emptyPath())}},{key:"comparator",value:function(e,t){return fm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new fm(t.slice()))}}]),e}(),vm=jt((function e(t,n,r,i){Ft(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function mm(e){return e.fields.find((function(e){return 2===e.kind}))}function ym(e){return e.fields.filter((function(e){return 2!==e.kind}))}vm.UNKNOWN_ID=-1;var gm=jt((function e(t,n){Ft(this,e),this.fieldPath=t,this.kind=n})),km=function(){function e(t,n){Ft(this,e),this.sequenceNumber=t,this.offset=n}return jt(e,null,[{key:"empty",value:function(){return new e(0,xm.min())}}]),e}();function bm(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=cm.fromTimestamp(1e9===r?new sm(n+1,0):new sm(n,r));return new xm(i,pm.empty(),t)}function wm(e){return new xm(e.readTime,e.key,-1)}var xm=function(){function e(t,n,r){Ft(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return jt(e,null,[{key:"min",value:function(){return new e(cm.min(),pm.empty(),-1)}},{key:"max",value:function(){return new e(cm.max(),pm.empty(),-1)}}]),e}();function Sm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=pm.comparator(e.documentKey,t.documentKey))?n:am(e.largestBatchId,t.largestBatchId)}var _m="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Em=function(){function e(){Ft(this,e),this.onCommittedListeners=[]}return jt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Im(e){return Tm.apply(this,arguments)}function Tm(){return Tm=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Hv.FAILED_PRECONDITION&&t.message===_m){e.next=2;break}throw t;case 2:Vv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Tm.apply(this,arguments)}var Cm=function(){function e(t){var n=this;Ft(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return jt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&qv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ut(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Am=function(){function e(t,n){var r=this;Ft(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new Zv,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new Dm(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Mm(e.target.error);r.T.reject(new Dm(t,n))}}return jt(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(Vv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Rm(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Dm(n,t)}}}]),e}(),Nm=function(){function e(t,n,r){Ft(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(an())&&Uv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return jt(e,[{key:"k",value:function(){var e=An(In().mark((function e(t){var n=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Vv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Dm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Gv(Hv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Gv(Hv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Dm(t,n))},i.onupgradeneeded=function(e){Vv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){Vv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=An(In().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(In().mark((function e(){var n,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=Am.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),Cm.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Vv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Vv("SimpleDb","Removing database:",e),Lm(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!fn())return!1;if(e.S())return!0;var t=an(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Om=function(){function e(t){Ft(this,e),this.$=t,this.B=!1,this.L=null}return jt(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return Lm(this.$.delete())}}]),e}(),Dm=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this,Hv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return jt(n)}(Gv);function Pm(e){return"IndexedDbTransactionError"===e.name}var Rm=function(){function e(t){Ft(this,e),this.store=t}return jt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Vv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Vv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Lm(n)}},{key:"add",value:function(e){return Vv("SimpleDb","ADD",this.store.name,e,e),Lm(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Lm(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Vv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Vv("SimpleDb","DELETE",this.store.name,e),Lm(this.store.delete(e))}},{key:"count",value:function(){return Vv("SimpleDb","COUNT",this.store.name),Lm(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Cm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Cm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){Vv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new Cm((function(n,r){t.onerror=function(e){var t=Mm(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Cm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Om(i),o=t(i.primaryKey,i.value,a);if(o instanceof Cm){var u=o.catch((function(e){return a.done(),Cm.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Cm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Lm(e){return new Cm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Mm(e.target.error);n(t)}}))}var Fm=!1;function Mm(e){var t=Nm.v(an());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Gv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Fm||(Fm=!0,setTimeout((function(){throw r}),0)),r}}return e}var jm=function(){function e(t,n){Ft(this,e),this.asyncQueue=t,this.X=n,this.task=null}return jt(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;Vv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Vv,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Pm(e.t4)){e.next=17;break}Vv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Im(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Vm=function(){function e(t,n){Ft(this,e),this.localStore=t,this.persistence=n}return jt(e,[{key:"tt",value:function(){var e=An(In().mark((function e(){var t,n=this,r=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Cm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Vv("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return Vv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=wm(t);Sm(r,n)>0&&(n=r)})),new xm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Um=function(){function e(t,n){var r=this;Ft(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return jt(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Bm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Um.ot=-1;var Km=function(){function e(t,n){Ft(this,e),this.comparator=t,this.root=n||Hm.EMPTY}return jt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Hm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Hm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Wm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Wm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Wm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Wm(this.root,e,this.comparator,!0)}}]),e}(),Wm=function(){function e(t,n,r,i){Ft(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return jt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Hm=function(){function e(t,n,r,i,a){Ft(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return jt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw qv();if(this.right.isRed())throw qv();var e=this.left.check();if(e!==this.right.check())throw qv();return e+(this.isRed()?0:1)}}]),e}();Hm.EMPTY=null,Hm.RED=!0,Hm.BLACK=!1,Hm.EMPTY=new(function(){function e(){Ft(this,e),this.size=0}return jt(e,[{key:"key",get:function(){throw qv()}},{key:"value",get:function(){throw qv()}},{key:"color",get:function(){throw qv()}},{key:"left",get:function(){throw qv()}},{key:"right",get:function(){throw qv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Hm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Gm=function(){function e(t){Ft(this,e),this.comparator=t,this.data=new Km(this.comparator)}return jt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Zm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Zm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Zm=function(){function e(t){Ft(this,e),this.iter=t}return jt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function $m(e){return e.hasNext()?e.getNext():void 0}var Qm=function(){function e(t){Ft(this,e),this.fields=t,t.sort(dm.comparator)}return jt(e,[{key:"unionWith",value:function(t){var n,r=new Gm(dm.comparator),i=Ut(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Ut(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ut(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return om(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Jm=function(e){function t(e){Ft(this,t),this.binaryString=e}return jt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return am(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Jm.EMPTY_BYTE_STRING=new Jm("");var Ym=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xm(e){if(Kv(!!e),"string"==typeof e){var t=0,n=Ym.exec(e);if(Kv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ey(e.seconds),nanos:ey(e.nanos)}}function ey(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ty(e){return"string"==typeof e?Jm.fromBase64String(e):Jm.fromUint8Array(e)}function ny(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ry(e){var t=e.mapValue.fields.__previous_value__;return ny(t)?ry(t):t}function iy(e){var t=Xm(e.mapValue.fields.__local_write_time__.timestampValue);return new sm(t.seconds,t.nanos)}var ay=jt((function e(t,n,r,i,a,o,u,s){Ft(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),oy=function(){function e(t,n){Ft(this,e),this.projectId=t,this.database=n||"(default)"}return jt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function uy(e){return null==e}function sy(e){return 0===e&&1/e==-1/0}function cy(e){return"number"==typeof e&&Number.isInteger(e)&&!sy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ly={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fy={nullValue:"NULL_VALUE"};function hy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ny(e)?4:Iy(e)?9007199254740991:10:qv()}function dy(e,t){if(e===t)return!0;var n=hy(e);if(n!==hy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return iy(e).isEqual(iy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Xm(e.timestampValue),r=Xm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ty(e.bytesValue).isEqual(ty(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ey(e.geoPointValue.latitude)===ey(t.geoPointValue.latitude)&&ey(e.geoPointValue.longitude)===ey(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ey(e.integerValue)===ey(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ey(e.doubleValue),r=ey(t.doubleValue);return n===r?sy(n)===sy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return om(e.arrayValue.values||[],t.arrayValue.values||[],dy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bm(n)!==Bm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dy(n[i],r[i])))return!1;return!0}(e,t);default:return qv()}}function py(e,t){return void 0!==(e.values||[]).find((function(e){return dy(e,t)}))}function vy(e,t){if(e===t)return 0;var n=hy(e),r=hy(t);if(n!==r)return am(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return am(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ey(e.integerValue||e.doubleValue),r=ey(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return my(e.timestampValue,t.timestampValue);case 4:return my(iy(e),iy(t));case 5:return am(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ty(e),r=ty(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=am(n[i],r[i]);if(0!==a)return a}return am(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=am(ey(e.latitude),ey(t.latitude));return 0!==n?n:am(ey(e.longitude),ey(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=vy(n[i],r[i]);if(a)return a}return am(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ly.mapValue&&t===ly.mapValue)return 0;if(e===ly.mapValue)return 1;if(t===ly.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=am(r[o],a[o]);if(0!==u)return u;var s=vy(n[r[o]],i[a[o]]);if(0!==s)return s}return am(r.length,a.length)}(e.mapValue,t.mapValue);default:throw qv()}}function my(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return am(e,t);var n=Xm(e),r=Xm(t),i=am(n.seconds,r.seconds);return 0!==i?i:am(n.nanos,r.nanos)}function yy(e){return gy(e)}function gy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Xm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ty(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ut(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=gy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ut(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(gy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):qv();var t,n}function ky(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function by(e){return!!e&&"integerValue"in e}function wy(e){return!!e&&"arrayValue"in e}function xy(e){return!!e&&"nullValue"in e}function Sy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _y(e){return!!e&&"mapValue"in e}function Ey(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return zm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ey(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ey(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Iy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ty(e){return"nullValue"in e?fy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ky(oy.empty(),pm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:qv()}function Cy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ky(oy.empty(),pm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ly:qv()}function Ay(e,t){var n=vy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ny(e,t){var n=vy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Oy=function(){function e(t){Ft(this,e),this.value=t}return jt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!_y(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ey(t)}},{key:"setAll",value:function(e){var t=this,n=dm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ey(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());_y(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return dy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];_y(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){zm(t,(function(t,n){return e[t]=n}));var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ey(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Dy(e){var t=[];return zm(e.fields,(function(e,n){var r=new dm([e]);if(_y(n)){var i=Dy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ut(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Qm(t)}var Py=function(){function e(t,n,r,i,a,o){Ft(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return jt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Oy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Oy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=cm.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,cm.min(),cm.min(),Oy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,cm.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,cm.min(),Oy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,cm.min(),Oy.empty(),2)}}]),e}(),Ry=jt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ft(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function Ly(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ry(e,t,n,r,i,a,o)}function Fy(e){var t=Wv(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+yy(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),uy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return yy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return yy(e)})).join(",")),t.ut=n}return t.ut}function My(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Xy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!dy(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tg(e.startAt,t.startAt)&&tg(e.endAt,t.endAt)}function jy(e){return pm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Vy(e,t){return e.filters.filter((function(e){return e instanceof zy&&e.field.isEqual(t)}))}function Uy(e,t,n){var r,i=fy,a=!0,o=Ut(Vy(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=fy,c=!0;switch(u.op){case"<":case"<=":s=Ty(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=fy}Ay({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ay({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function By(e,t,n){var r,i=ly,a=!0,o=Ut(Vy(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ly,c=!0;switch(u.op){case">=":case">":s=Cy(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=ly}Ny({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ny({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var zy=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){var a;return Ft(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return jt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(vy(t,this.value)):null!==t&&hy(this.value)===hy(t)&&this.at(vy(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qv()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new qy(e,t,r):"array-contains"===t?new Gy(e,r):"in"===t?new Zy(e,r):"not-in"===t?new $y(e,r):"array-contains-any"===t?new Qy(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Ky(e,n):new Wy(e,n)}}]),n}(function(){return jt((function e(){Ft(this,e)}))}()),qy=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){var a;return Ft(this,n),(a=t.call(this,e,r,i)).key=pm.fromName(i.referenceValue),a}return jt(n,[{key:"matches",value:function(e){var t=pm.comparator(e.key,this.key);return this.at(t)}}]),n}(zy),Ky=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this,e,"in",r)).keys=Hy("in",r),i}return jt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zy),Wy=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this,e,"not-in",r)).keys=Hy("not-in",r),i}return jt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zy);function Hy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return pm.fromName(e.referenceValue)}))}var Gy=function(e){qt(n,e);var t=Zt(n);function n(e,r){return Ft(this,n),t.call(this,e,"array-contains",r)}return jt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return wy(t)&&py(t.arrayValue,this.value)}}]),n}(zy),Zy=function(e){qt(n,e);var t=Zt(n);function n(e,r){return Ft(this,n),t.call(this,e,"in",r)}return jt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&py(this.value.arrayValue,t)}}]),n}(zy),$y=function(e){qt(n,e);var t=Zt(n);function n(e,r){return Ft(this,n),t.call(this,e,"not-in",r)}return jt(n,[{key:"matches",value:function(e){if(py(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!py(this.value.arrayValue,t)}}]),n}(zy),Qy=function(e){qt(n,e);var t=Zt(n);function n(e,r){return Ft(this,n),t.call(this,e,"array-contains-any",r)}return jt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return py(t.value.arrayValue,e)}))}}]),n}(zy),Jy=jt((function e(t,n){Ft(this,e),this.position=t,this.inclusive=n})),Yy=jt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ft(this,e),this.field=t,this.dir=n}));function Xy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function eg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?pm.comparator(pm.fromName(o.referenceValue),n.key):vy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function tg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!dy(e.position[n],t.position[n]))return!1;return!0}var ng=jt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ft(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function rg(e,t,n,r,i,a,o,u){return new ng(e,t,n,r,i,a,o,u)}function ig(e){return new ng(e)}function ag(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function og(e){var t,n=Ut(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function ug(e){return null!==e.collectionGroup}function sg(e){var t=Wv(e);if(null===t.lt){t.lt=[];var n=og(t),r=ag(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Yy(n)),t.lt.push(new Yy(dm.keyField(),"asc"));else{var i,a=!1,o=Ut(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Yy(dm.keyField(),s))}}}return t.lt}function cg(e){var t=Wv(e);if(!t.ft)if("F"===t.limitType)t.ft=Ly(t.path,t.collectionGroup,sg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ut(sg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Yy(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Jy(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Jy(t.startAt.position,t.startAt.inclusive):null;t.ft=Ly(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function lg(e,t,n){return new ng(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fg(e,t){return My(cg(e),cg(t))&&e.limitType===t.limitType}function hg(e){return"".concat(Fy(cg(e)),"|lt:").concat(e.limitType)}function dg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(yy(t.value));var t})).join(", "),"]")),uy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return yy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return yy(e)})).join(",")),"Target(".concat(t,")")}(cg(e)),"; limitType=").concat(e.limitType,")")}function pg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ut(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ut(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=eg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,sg(e),t))&&!(e.endAt&&!function(e,t,n){var r=eg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,sg(e),t))}(e,t)}function vg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function mg(e){return function(t,n){var r,i=!1,a=Ut(sg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=yg(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function yg(e,t,n){var r=e.field.isKeyField()?pm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?vy(r,i):qv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qv()}}function gg(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sy(t)?"-0":t}}function kg(e){return{integerValue:""+e}}function bg(e,t){return cy(t)?kg(t):gg(e,t)}var wg=jt((function e(){Ft(this,e),this._=void 0}));function xg(e,t,n){return e instanceof Eg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ig?Tg(e,t):e instanceof Cg?Ag(e,t):function(e,t){var n=_g(e,t),r=Og(n)+Og(e._t);return by(n)&&by(e._t)?kg(r):gg(e.wt,r)}(e,t)}function Sg(e,t,n){return e instanceof Ig?Tg(e,t):e instanceof Cg?Ag(e,t):n}function _g(e,t){return e instanceof Ng?by(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Eg=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.apply(this,arguments)}return jt(n)}(wg),Ig=function(e){qt(n,e);var t=Zt(n);function n(e){var r;return Ft(this,n),(r=t.call(this)).elements=e,r}return jt(n)}(wg);function Tg(e,t){var n,r=Dg(t),i=Ut(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return dy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Cg=function(e){qt(n,e);var t=Zt(n);function n(e){var r;return Ft(this,n),(r=t.call(this)).elements=e,r}return jt(n)}(wg);function Ag(e,t){var n,r=Dg(t),i=Ut(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!dy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ng=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this)).wt=e,i._t=r,i}return jt(n)}(wg);function Og(e){return ey(e.integerValue||e.doubleValue)}function Dg(e){return wy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Pg=jt((function e(t,n){Ft(this,e),this.field=t,this.transform=n}));var Rg=jt((function e(t,n){Ft(this,e),this.version=t,this.transformResults=n})),Lg=function(){function e(t,n){Ft(this,e),this.updateTime=t,this.exists=n}return jt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Fg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Mg=jt((function e(){Ft(this,e)}));function jg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Qg(e.key,Lg.none()):new qg(e.key,e.data,Lg.none());var n,r=e.data,i=Oy.empty(),a=new Gm(dm.comparator),o=Ut(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Kg(e.key,i,new Qm(a.toArray()),Lg.none())}function Vg(e,t,n){e instanceof qg?function(e,t,n){var r=e.value.clone(),i=Hg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Kg?function(e,t,n){if(Fg(e.precondition,t)){var r=Hg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ug(e,t,n,r){return e instanceof qg?function(e,t,n,r){if(!Fg(e.precondition,t))return n;var i=e.value.clone(),a=Gg(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Kg?function(e,t,n,r){if(!Fg(e.precondition,t))return n;var i=Gg(e.fieldTransforms,r,t),a=t.data;return a.setAll(Wg(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Fg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Bg(e,t){var n,r=null,i=Ut(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=_g(a.transform,o||null);null!=u&&(null===r&&(r=Oy.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function zg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&om(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ig&&t instanceof Ig||e instanceof Cg&&t instanceof Cg?om(e.elements,t.elements,dy):e instanceof Ng&&t instanceof Ng?dy(e._t,t._t):e instanceof Eg&&t instanceof Eg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var qg=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ft(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return jt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Mg),Kg=function(e){qt(n,e);var t=Zt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ft(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return jt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Mg);function Wg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Hg(e,t,n){var r=new Map;Kv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Sg(o,u,n[i]))}return r}function Gg(e,t,n){var r,i=new Map,a=Ut(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,xg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Zg,$g,Qg=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return jt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Mg),Jg=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return jt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Mg),Yg=jt((function e(t){Ft(this,e),this.count=t}));function Xg(e){switch(e){default:return qv();case Hv.CANCELLED:case Hv.UNKNOWN:case Hv.DEADLINE_EXCEEDED:case Hv.RESOURCE_EXHAUSTED:case Hv.INTERNAL:case Hv.UNAVAILABLE:case Hv.UNAUTHENTICATED:return!1;case Hv.INVALID_ARGUMENT:case Hv.NOT_FOUND:case Hv.ALREADY_EXISTS:case Hv.PERMISSION_DENIED:case Hv.FAILED_PRECONDITION:case Hv.ABORTED:case Hv.OUT_OF_RANGE:case Hv.UNIMPLEMENTED:case Hv.DATA_LOSS:return!0}}function ek(e){if(void 0===e)return Uv("GRPC error has no .code"),Hv.UNKNOWN;switch(e){case Zg.OK:return Hv.OK;case Zg.CANCELLED:return Hv.CANCELLED;case Zg.UNKNOWN:return Hv.UNKNOWN;case Zg.DEADLINE_EXCEEDED:return Hv.DEADLINE_EXCEEDED;case Zg.RESOURCE_EXHAUSTED:return Hv.RESOURCE_EXHAUSTED;case Zg.INTERNAL:return Hv.INTERNAL;case Zg.UNAVAILABLE:return Hv.UNAVAILABLE;case Zg.UNAUTHENTICATED:return Hv.UNAUTHENTICATED;case Zg.INVALID_ARGUMENT:return Hv.INVALID_ARGUMENT;case Zg.NOT_FOUND:return Hv.NOT_FOUND;case Zg.ALREADY_EXISTS:return Hv.ALREADY_EXISTS;case Zg.PERMISSION_DENIED:return Hv.PERMISSION_DENIED;case Zg.FAILED_PRECONDITION:return Hv.FAILED_PRECONDITION;case Zg.ABORTED:return Hv.ABORTED;case Zg.OUT_OF_RANGE:return Hv.OUT_OF_RANGE;case Zg.UNIMPLEMENTED:return Hv.UNIMPLEMENTED;case Zg.DATA_LOSS:return Hv.DATA_LOSS;default:return qv()}}($g=Zg||(Zg={}))[$g.OK=0]="OK",$g[$g.CANCELLED=1]="CANCELLED",$g[$g.UNKNOWN=2]="UNKNOWN",$g[$g.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$g[$g.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$g[$g.NOT_FOUND=5]="NOT_FOUND",$g[$g.ALREADY_EXISTS=6]="ALREADY_EXISTS",$g[$g.PERMISSION_DENIED=7]="PERMISSION_DENIED",$g[$g.UNAUTHENTICATED=16]="UNAUTHENTICATED",$g[$g.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$g[$g.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$g[$g.ABORTED=10]="ABORTED",$g[$g.OUT_OF_RANGE=11]="OUT_OF_RANGE",$g[$g.UNIMPLEMENTED=12]="UNIMPLEMENTED",$g[$g.INTERNAL=13]="INTERNAL",$g[$g.UNAVAILABLE=14]="UNAVAILABLE",$g[$g.DATA_LOSS=15]="DATA_LOSS";var tk=function(){function e(t,n){Ft(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return jt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){zm(this.inner,(function(t,n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return qm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),nk=new Km(pm.comparator);function rk(){return nk}var ik=new Km(pm.comparator);function ak(){for(var e=ik,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function ok(e){var t=ik;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function uk(){return ck()}function sk(){return ck()}function ck(){return new tk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var lk=new Km(pm.comparator),fk=new Gm(pm.comparator);function hk(){for(var e=fk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var dk=new Gm(am);function pk(){return dk}var vk=function(){function e(t,n,r,i,a){Ft(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return jt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,mk.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(cm.min(),r,pk(),rk(),hk())}}]),e}(),mk=function(){function e(t,n,r,i,a){Ft(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return jt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Jm.EMPTY_BYTE_STRING,n,hk(),hk(),hk())}}]),e}(),yk=jt((function e(t,n,r,i){Ft(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),gk=jt((function e(t,n){Ft(this,e),this.targetId=t,this.It=n})),kk=jt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ft(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),bk=function(){function e(){Ft(this,e),this.Tt=0,this.Et=Sk(),this.At=Jm.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return jt(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=hk(),t=hk(),n=hk();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qv()}})),new mk(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Sk()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),wk=function(){function e(t){Ft(this,e),this.Mt=t,this.Ft=new Map,this.$t=rk(),this.Bt=xk(),this.Lt=new Gm(am)}return jt(e,[{key:"Ut",value:function(e){var t,n=Ut(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ut(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:qv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(jy(i))if(0===n){var a=new pm(i.path);this.Kt(t,a,Py.newNoDocument(a,cm.min()))}else Kv(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&jy(a.target)){var o=new pm(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,Py.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=hk();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new vk(e,n,this.Lt,this.$t,r);return this.$t=rk(),this.Bt=xk(),this.Lt=new Gm(am),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new bk,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Gm(am),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||Vv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new bk),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function xk(){return new Km(pm.comparator)}function Sk(){return new Km(pm.comparator)}var _k={asc:"ASCENDING",desc:"DESCENDING"},Ek={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ik=jt((function e(t,n){Ft(this,e),this.databaseId=t,this.dt=n}));function Tk(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ck(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Ak(e,t){return Tk(e,t.toTimestamp())}function Nk(e){return Kv(!!e),cm.fromTimestamp(function(e){var t=Xm(e);return new sm(t.seconds,t.nanos)}(e))}function Ok(e,t){return function(e){return new fm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Dk(e){var t=fm.fromString(e);return Kv(tb(t)),t}function Pk(e,t){return Ok(e.databaseId,t.path)}function Rk(e,t){var n=Dk(t);if(n.get(1)!==e.databaseId.projectId)throw new Gv(Hv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gv(Hv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pm(jk(n))}function Lk(e,t){return Ok(e.databaseId,t)}function Fk(e){var t=Dk(e);return 4===t.length?fm.emptyPath():jk(t)}function Mk(e){return new fm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jk(e){return Kv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Vk(e,t,n){return{name:Pk(e,t),fields:n.value.mapValue.fields}}function Uk(e,t,n){var r=Rk(e,t.name),i=Nk(t.updateTime),a=new Oy({mapValue:{fields:t.fields}}),o=Py.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Bk(e,t){return"found"in t?function(e,t){Kv(!!t.found),t.found.name,t.found.updateTime;var n=Rk(e,t.found.name),r=Nk(t.found.updateTime),i=new Oy({mapValue:{fields:t.found.fields}});return Py.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Kv(!!t.missing),Kv(!!t.readTime);var n=Rk(e,t.missing),r=Nk(t.readTime);return Py.newNoDocument(n,r)}(e,t):qv()}function zk(e,t){var n;if(t instanceof qg)n={update:Vk(e,t.key,t.value)};else if(t instanceof Qg)n={delete:Pk(e,t.key)};else if(t instanceof Kg)n={update:Vk(e,t.key,t.data),updateMask:eb(t.fieldMask)};else{if(!(t instanceof Jg))return qv();n={verify:Pk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Eg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ig)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Cg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ng)return{fieldPath:t.field.canonicalString(),increment:n._t};throw qv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ak(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qv()}(e,t.precondition)),n}function qk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Lg.updateTime(Nk(e.updateTime)):void 0!==e.exists?Lg.exists(e.exists):Lg.none()}(t.currentDocument):Lg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Kv("REQUEST_TIME"===t.setToServerValue),n=new Eg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ig(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Cg(i)}else"increment"in t?n=new Ng(e,t.increment):qv();var a=dm.fromServerFormat(t.fieldPath);return new Pg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Rk(e,t.update.name),a=new Oy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Qm(t.map((function(e){return dm.fromServerFormat(e)})))}(t.updateMask);return new Kg(i,a,o,n,r)}return new qg(i,a,n,r)}if(t.delete){var u=Rk(e,t.delete);return new Qg(u,n)}if(t.verify){var s=Rk(e,t.verify);return new Jg(s,n)}return qv()}function Kk(e,t){return{documents:[Lk(e,t.path)]}}function Wk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Lk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Lk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Sy(e.value))return{unaryFilter:{field:Qk(e.field),op:"IS_NAN"}};if(xy(e.value))return{unaryFilter:{field:Qk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Sy(e.value))return{unaryFilter:{field:Qk(e.field),op:"IS_NOT_NAN"}};if(xy(e.value))return{unaryFilter:{field:Qk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qk(e.field),op:$k(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Qk(e.field),direction:Zk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||uy(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Hk(e){var t=Fk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Kv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Gk(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Yy(Jk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return uy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Jy(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Jy(n,t)}(n.endAt)),rg(t,i,u,o,s,"F",c,l)}function Gk(e){return e?void 0!==e.unaryFilter?[Xk(e)]:void 0!==e.fieldFilter?[Yk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Gk(e)})).reduce((function(e,t){return e.concat(t)})):qv():[]}function Zk(e){return _k[e]}function $k(e){return Ek[e]}function Qk(e){return{fieldPath:e.canonicalString()}}function Jk(e){return dm.fromServerFormat(e.fieldPath)}function Yk(e){return zy.create(Jk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qv()}}(e.fieldFilter.op),e.fieldFilter.value)}function Xk(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Jk(e.unaryFilter.field);return zy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Jk(e.unaryFilter.field);return zy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Jk(e.unaryFilter.field);return zy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Jk(e.unaryFilter.field);return zy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qv()}}function eb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function tb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function nb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ib(t)),t=rb(e.get(n),t);return ib(t)}function rb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ib(e){return e+"\x01\x01"}function ab(e){var t=e.length;if(Kv(t>=2),2===t)return Kv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),fm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&qv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:qv()}a=o+2}return new fm(r)}var ob=["userId","batchId"];function ub(e,t){return[e,nb(t)]}function sb(e,t,n){return[e,nb(t),n]}var cb={},lb=["prefixPath","collectionGroup","readTime","documentId"],fb=["prefixPath","collectionGroup","documentId"],hb=["collectionGroup","readTime","prefixPath","documentId"],db=["canonicalId","targetId"],pb=["targetId","path"],vb=["path","targetId"],mb=["collectionId","parent"],yb=["indexId","uid"],gb=["uid","sequenceNumber"],kb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bb=["indexId","uid","orderedDocumentKey"],wb=["userId","collectionPath","documentId"],xb=["userId","collectionPath","largestBatchId"],Sb=["userId","collectionGroup","largestBatchId"],_b=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Eb=[].concat((0,Tn.Z)(_b),["documentOverlays"]),Ib=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tb=Ib,Cb=[].concat(Tb,["indexConfiguration","indexState","indexEntries"]),Ab=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return jt(n)}(Em);function Nb(e,t){var n=Wv(e);return Nm.N(n.ee,t)}var Ob=function(){function e(t,n,r,i){Ft(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return jt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Vg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ut(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ug(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Ut(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Ug(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=sk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=jg(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(cm.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),hk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&om(this.mutations,e.mutations,(function(e,t){return zg(e,t)}))&&om(this.baseMutations,e.baseMutations,(function(e,t){return zg(e,t)}))}}]),e}(),Db=function(){function e(t,n,r,i){Ft(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return jt(e,null,[{key:"from",value:function(t,n,r){Kv(t.mutations.length===r.length);for(var i=lk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Pb=function(){function e(t,n){Ft(this,e),this.largestBatchId=t,this.mutation=n}return jt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Rb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:cm.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jm.EMPTY_BYTE_STRING;Ft(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return jt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Lb=jt((function e(t){Ft(this,e),this.ne=t}));function Fb(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Mb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Pk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Tk(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jb(t.version)};else{if(!t.isUnknownDocument())return qv();r.unknownDocument={path:n.path.toArray(),version:jb(t.version)}}return r}function Mb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Vb(e){var t=new sm(e.seconds,e.nanoseconds);return cm.fromTimestamp(t)}function Ub(e,t){for(var n=(t.baseMutations||[]).map((function(t){return qk(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return qk(e.ne,t)})),u=sm.fromMillis(t.localWriteTimeMs);return new Ob(t.batchId,u,n,o)}function Bb(e){var t,n,r=Vb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Vb(e.lastLimboFreeSnapshotVersion):cm.min();return void 0!==e.query.documents?(Kv(1===(n=e.query).documents.length),t=cg(ig(Fk(n.documents[0])))):t=function(e){return cg(Hk(e))}(e.query),new Rb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Jm.fromBase64String(e.resumeToken))}function zb(e,t){var n,r=jb(t.snapshotVersion),i=jb(t.lastLimboFreeSnapshotVersion);n=jy(t.target)?Kk(e.ne,t.target):Wk(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Fy(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function qb(e){var t=Hk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lg(t,t.limit,"L"):t}function Kb(e,t){return new Pb(t.largestBatchId,qk(e.ne,t.overlayMutation))}function Wb(e,t){var n=t.path.lastSegment();return[e,nb(t.path.popLast()),n]}function Hb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:jb(r.readTime),documentKey:nb(r.documentKey.path),largestBatchId:r.largestBatchId}}var Gb=function(){function e(){Ft(this,e)}return jt(e,[{key:"getBundleMetadata",value:function(e,t){return Zb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Vb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Zb(e).put({bundleId:(n=t).id,createTime:jb(Nk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return $b(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:qb(t.bundledQuery),readTime:Vb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return $b(e).put(function(e){return{name:e.name,readTime:jb(Nk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Zb(e){return Nb(e,"bundles")}function $b(e){return Nb(e,"namedQueries")}var Qb=function(){function e(t,n){Ft(this,e),this.wt=t,this.userId=n}return jt(e,[{key:"getOverlay",value:function(e,t){var n=this;return Jb(e).get(Wb(this.userId,t)).next((function(e){return e?Kb(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=uk();return Cm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Pb(t,a);i.push(r.ie(e,o))})),Cm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(nb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Jb(e).W("collectionPathOverlayIndex",i))})),Cm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=uk(),a=nb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Jb(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=Ut(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Kb(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=uk(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Jb(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Kb(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return Jb(e).put(function(e,t,n){var r=Wb(t,n.mutation.key),i=(0,a.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:zk(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Jb(e){return Nb(e,"documentOverlays")}var Yb=function(){function e(){Ft(this,e)}return jt(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(ey(e.integerValue));else if("doubleValue"in e){var n=ey(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),sy(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(ty(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Iy(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):qv()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),pm.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Xb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ew(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Xb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Yb.ye=new Yb;var tw=function(){function e(){Ft(this,e),this.buffer=new Uint8Array(1024),this.position=0}return jt(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Ut(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Ut(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=ew(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=ew(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),nw=function(){function e(t){Ft(this,e),this.Me=t}return jt(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),rw=function(){function e(t){Ft(this,e),this.Me=t}return jt(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),iw=function(){function e(){Ft(this,e),this.Me=new tw,this.Fe=new nw(this.Me),this.$e=new rw(this.Me)}return jt(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),aw=function(){function e(t,n,r,i){Ft(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return jt(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function ow(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=uw(e.arrayValue,t.arrayValue))?n:0!==(n=uw(e.directionalValue,t.directionalValue))?n:pm.comparator(e.documentKey,t.documentKey)}function uw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var sw=function(){function e(t){Ft(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Ut(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return jt(e,[{key:"Ge",value:function(e){var t=mm(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=ym(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Ut(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),cw=function(){function e(){Ft(this,e),this.ze=new lw}return jt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Cm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Cm.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Cm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Cm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Cm.resolve(null)}},{key:"getIndexType",value:function(e,t){return Cm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Cm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Cm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Cm.resolve(xm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Cm.resolve(xm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Cm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Cm.resolve()}}]),e}(),lw=function(){function e(){Ft(this,e),this.index={}}return jt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gm(fm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Gm(fm.comparator)).toArray()}}]),e}(),fw=new Uint8Array(0),hw=function(){function e(t,n){Ft(this,e),this.user=t,this.databaseId=n,this.He=new lw,this.Je=new tk((function(e){return Fy(e)}),(function(e,t){return My(e,t)})),this.uid=t.uid||""}return jt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:nb(i)};return dw(e).put(a)}return Cm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[um(t),""],!1,!0);return dw(e).K(r).next((function(e){var r,i=Ut(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ab(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=vw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=mw(e);return a.next((function(e){o.put(Hb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=vw(e),r=mw(e),i=pw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=pw(e),i=!0,a=new Map;return Cm.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=hk(),o=[];return Cm.forEach(a,(function(i,a){var u;Vv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Fy(t)));var s=function(e,t){var n=mm(t);if(void 0===n)return null;var r,i=Ut(Vy(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Ut(ym(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Ut(Vy(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Ut(ym(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Uy(e,o.fieldPath,e.startAt):By(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Jy(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Ut(ym(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?By(e,o.fieldPath,e.endAt):Uy(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Jy(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Cm.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=pm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Cm.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):fw,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,(0,Tn.Z)(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new aw(e,pm.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new aw(e,pm.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new sw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Ut(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Cm.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Gm(dm.comparator),r=!1,i=Ut(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Ut(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new iw,i=Ut(ym(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);Yb.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new iw;return Yb.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new iw;return Yb.ye.re(ky(this.databaseId,t),n.Be(function(e){var t=ym(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new iw);var i,a=0,o=Ut(ym(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Ut(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&wy(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);Yb.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=(0,Tn.Z)(e),a=[],o=Ut(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Ut(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new iw;f.seed(l.Oe()),Yb.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof zy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=vw(e),i=mw(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return Cm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new km(t.sequenceNumber,new xm(Vb(t.readTime),new pm(ab(t.documentKey)),t.largestBatchId)):km.empty(),r=e.fields.map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return new gm(dm.fromServerFormat(n),r)}));return new vm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:am(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=vw(e),a=mw(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Cm.forEach(t,(function(t){return a.put(Hb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Cm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Cm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Cm.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?Cm.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return pw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return pw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=pw(e),i=new Gm(ow);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new aw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new Gm(ow),r=this.on(t,e);if(null==r)return n;var i=mm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(wy(a)){var o,u=Ut(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new aw(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new aw(t.indexId,e.key,fw,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Vv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=$m(a),s=$m(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=$m(o)):l?(i(u),u=$m(a)):(u=$m(a),s=$m(o))}}(r,i,ow,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),Cm.waitFor(o)}},{key:"ln",value:function(e){var t=1;return mw(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return ow(e,t)})).filter((function(e,t,n){return!t||0!==ow(e,n[t-1])}));var r=[];r.push(e);var i,a=Ut(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=ow(o,e),s=ow(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,fw,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,fw,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(yw)}},{key:"getMinOffset",value:function(e,t){var n=this;return Cm.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||qv()}))})).next(yw)}}]),e}();function dw(e){return Nb(e,"collectionParents")}function pw(e){return Nb(e,"indexEntries")}function vw(e){return Nb(e,"indexConfiguration")}function mw(e){return Nb(e,"indexState")}function yw(e){Kv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Sm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new xm(t.readTime,t.documentKey,n)}var gw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kw=function(){function e(t,n,r){Ft(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return jt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function bw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Kv(1===u)})));var c,l=[],f=Ut(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=sb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Cm.waitFor(a).next((function(){return l}))}function ww(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qv();t=e.noDocument}return JSON.stringify(t).length}kw.DEFAULT_COLLECTION_PERCENTILE=10,kw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kw.DEFAULT=new kw(41943040,kw.DEFAULT_COLLECTION_PERCENTILE,kw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kw.DISABLED=new kw(-1,0,0);var xw=function(){function e(t,n,r,i){Ft(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return jt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _w(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Ew(e),o=_w(e);return o.add({}).next((function(u){Kv("number"==typeof u);var s,c=new Ob(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return zk(e.ne,t)})),i=n.mutations.map((function(t){return zk(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new Gm((function(e,t){return am(e.canonicalString(),t.canonicalString())})),d=Ut(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=sb(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,cb))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),Cm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return _w(e).get(t).next((function(e){return e?(Kv(e.userId===n.userId),Ub(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?Cm.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return _w(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Kv(t.batchId>=r),a=Ub(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return _w(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _w(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ub(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ub(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ew(e).J({range:i},(function(r,i,u){var s=(0,a.Z)(r,3),c=s[0],l=s[1],f=s[2],h=ab(l);if(c===n.userId&&t.path.isEqual(h))return _w(e).get(f).next((function(e){if(!e)throw qv();Kv(e.userId===n.userId),o.push(Ub(n.wt,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Gm(am),i=[];return t.forEach((function(t){var o=ub(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=Ew(e).J({range:u},(function(e,i,o){var u=(0,a.Z)(e,3),s=u[0],c=u[1],l=u[2],f=ab(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(s)})),Cm.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=ub(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new Gm(am);return Ew(e).J({range:u},(function(e,t,o){var u=(0,a.Z)(e,3),c=u[0],l=u[1],f=u[2],h=ab(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.pn(e,s)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(_w(e).get(t).next((function(e){if(null===e)throw qv();Kv(e.userId===n.userId),r.push(Ub(n.wt,e))})))})),Cm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return bw(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),Cm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Cm.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Ew(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ab(e[1]);i.push(a)}else r.done()})).next((function(){Kv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Sw(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return Iw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return Kv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Sw(e,t,n){var r=ub(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return Ew(e).J({range:o,H:!0},(function(e,n,r){var o=(0,a.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function _w(e){return Nb(e,"mutations")}function Ew(e){return Nb(e,"documentMutations")}function Iw(e){return Nb(e,"mutationQueues")}var Tw=function(){function e(t){Ft(this,e),this.En=t}return jt(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),Cw=function(){function e(t,n){Ft(this,e),this.referenceDelegate=t,this.wt=n}return jt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new Tw(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return cm.fromTimestamp(new sm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Aw(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return Kv(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Aw(e).J((function(o,u){var s=Bb(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Cm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Aw(e).J((function(e,n){var r=Bb(n);t(r)}))}},{key:"bn",value:function(e){return Nw(e).get("targetGlobalKey").next((function(e){return Kv(null!==e),e}))}},{key:"Pn",value:function(e,t){return Nw(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return Aw(e).put(zb(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Fy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Aw(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Bb(n);My(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Ow(e);return t.forEach((function(t){var o=nb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Cm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Ow(e);return Cm.forEach(t,(function(t){var a=nb(t.path);return Cm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Ow(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ow(e),i=hk();return r.J({range:n,H:!0},(function(e,t,n){var r=ab(e[1]),a=new pm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=nb(t.path),r=IDBKeyRange.bound([n],[um(n)],!1,!0),i=0;return Ow(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=(0,a.Z)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return Aw(e).get(t).next((function(e){return e?Bb(e):null}))}}]),e}();function Aw(e){return Nb(e,"targets")}function Nw(e){return Nb(e,"targetGlobal")}function Ow(e){return Nb(e,"targetDocuments")}function Dw(e,t){var n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,a.Z)(t,2),u=o[0],s=o[1],c=am(r,u);return 0===c?am(i,s):c}var Pw=function(){function e(t){Ft(this,e),this.Sn=t,this.buffer=new Gm(Dw),this.Dn=0}return jt(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Dw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Rw=function(){function e(t,n,r){Ft(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return jt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;Vv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Pm(e.t0)){e.next=12;break}Vv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Im(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Lw=function(){function e(t,n){Ft(this,e),this.On=t,this.params=n}return jt(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Cm.resolve(Um.ot);var r=new Pw(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Vv("LruGarbageCollector","Garbage collection skipped; disabled"),Cm.resolve(gw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Vv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),gw):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Vv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),jv()<=Rn.DEBUG&&Vv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Cm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Fw=function(){function e(t,n){Ft(this,e),this.db=t,this.garbageCollector=function(e,t){return new Lw(e,t)}(this,n)}return jt(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Mw(e,n)}},{key:"removeReference",value:function(e,t,n){return Mw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Mw(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return Iw(e).Y((function(r){return Sw(e,r,t).next((function(e){return e&&(n=!0),Cm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,cm.min()),Ow(e).delete([0,nb(o.path)])}))}));i.push(s)}})).next((function(){return Cm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Mw(e,t)}},{key:"Ln",value:function(e,t){var n,r=Ow(e),i=Um.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var o=(0,a.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==Um.ot&&t(new pm(ab(n)),i),i=c,n=s):i=Um.ot})).next((function(){i!==Um.ot&&t(new pm(ab(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Mw(e,t){return Ow(e).put(function(e,t){return{targetId:0,path:nb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var jw=function(){function e(){Ft(this,e),this.changes=new tk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return jt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Py.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Cm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Vw=function(){function e(t){Ft(this,e),this.wt=t}return jt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return qw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return qw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Mb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Py.newInvalidDocument(t);return qw(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kw(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:Py.newInvalidDocument(t)};return qw(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kw(t))},(function(e,i){r={document:n.Kn(t,i),size:ww(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=rk();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=rk(),i=new Km(pm.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,ww(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return Cm.resolve();var r=new Gm(Hw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Kw(r.first()),Kw(r.last())),a=r.getIterator(),o=a.getNext();return qw(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=pm.fromSegments([].concat((0,Tn.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Hw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(Kw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Mb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qw(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=rk(),i=Ut(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(pm.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=rk(),o=Ww(t,n),u=Ww(t,xm.max());return qw(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(pm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Bw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return zw(e).get("remoteDocumentGlobalKey").next((function(e){return Kv(!!e),e}))}},{key:"qn",value:function(e,t){return zw(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Uk(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=pm.fromSegments(t.noDocument.path),i=Vb(t.noDocument.readTime);n=Py.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return qv();var a=pm.fromSegments(t.unknownDocument.path),o=Vb(t.unknownDocument.version);n=Py.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new sm(e[0],e[1]);return cm.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(cm.min()))return n}return Py.newInvalidDocument(e)}}]),e}();function Uw(e){return new Vw(e)}var Bw=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new tk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return jt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Gm((function(e,t){return am(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Fb(t.zn.wt,o);i=i.add(a.path.popLast());var c=ww(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Fb(t.zn.wt,o.convertToNoDocument(cm.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),Cm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(jw);function zw(e){return Nb(e,"remoteDocumentGlobal")}function qw(e){return Nb(e,"remoteDocumentsV14")}function Kw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ww(e,t){var n=t.documentKey.path.toArray();return[e,Mb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Hw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=am(n[a],r[a]))return i;return(i=am(n.length,r.length))||((i=am(n[n.length-2],r[r.length-2]))||am(n[n.length-1],r[r.length-1]))}var Gw=jt((function e(t,n){Ft(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Zw=function(){function e(t,n,r,i){Ft(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return jt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Ug(r.mutation,e,Qm.empty(),sm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,hk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hk(),i=uk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=ak();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=uk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,hk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=rk(),a=ck(),o=ck();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Kg)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Ug(o.mutation,t,o.mutation.getFieldMask(),sm.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Gw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=ck(),i=new Km((function(e,t){return e-t})),a=hk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Ut(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Qm.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||hk()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=sk();c.forEach((function(e){if(!a.has(e)){var n=jg(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Cm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return pm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ug(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Cm.resolve(uk()),u=-1,s=a;return o.next((function(t){return Cm.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Cm.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,hk())})).next((function(e){return{batchId:u,changes:ok(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new pm(t)).next((function(e){var t=ak();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ak();return this.indexManager.getCollectionParents(e,i).next((function(o){return Cm.forEach(o,(function(o){var u=function(e,t){return new ng(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Py.newInvalidDocument(n)))}));var n=ak();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Ug(a.mutation,i,Qm.empty(),sm.now()),pg(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Cm.resolve(Py.newInvalidDocument(t))}}]),e}(),$w=function(){function e(t){Ft(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return jt(e,[{key:"getBundleMetadata",value:function(e,t){return Cm.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Nk(n.createTime)}),Cm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Cm.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:qb(e.bundledQuery),readTime:Nk(e.readTime)}}(t)),Cm.resolve()}}]),e}(),Qw=function(){function e(){Ft(this,e),this.overlays=new Km(pm.comparator),this.Xn=new Map}return jt(e,[{key:"getOverlay",value:function(e,t){return Cm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=uk();return Cm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Cm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Cm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=uk(),i=t.length+1,a=new pm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Cm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Km((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=uk(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=uk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Cm.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Pb(t,n));var a=this.Xn.get(t);void 0===a&&(a=hk(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Jw=function(){function e(){Ft(this,e),this.Zn=new Gm(Yw.ts),this.es=new Gm(Yw.ns)}return jt(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Yw(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new Yw(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new pm(new fm([])),r=new Yw(n,e),i=new Yw(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new pm(new fm([])),n=new Yw(t,e),r=new Yw(t,e+1),i=hk();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Yw(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Yw=function(){function e(t,n){Ft(this,e),this.key=t,this.ls=n}return jt(e,null,[{key:"ts",value:function(e,t){return pm.comparator(e.key,t.key)||am(e.ls,t.ls)}},{key:"ns",value:function(e,t){return am(e.ls,t.ls)||pm.comparator(e.key,t.key)}}]),e}(),Xw=function(){function e(t,n){Ft(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Gm(Yw.ts)}return jt(e,[{key:"checkEmpty",value:function(e){return Cm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Ob(i,t,n,r);this.mutationQueue.push(a);var o,u=Ut(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new Yw(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Cm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Cm.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Cm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Cm.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Cm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Yw(t,0),i=new Yw(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Cm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Gm(am);return t.forEach((function(e){var t=new Yw(e,0),i=new Yw(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Cm.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;pm.isDocumentKey(i)||(i=i.child(""));var a=new Yw(new pm(i),0),o=new Gm(am);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Cm.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Kv(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Cm.forEach(t.mutations,(function(i){var a=new Yw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Yw(t,0),r=this.ds.firstAfterOrEqual(n);return Cm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Cm.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ex=function(){function e(t){Ft(this,e),this.ps=t,this.docs=new Km(pm.comparator),this.size=0}return jt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Cm.resolve(n?n.document.mutableCopy():Py.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=rk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Py.newInvalidDocument(e))})),Cm.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=rk(),i=new pm(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Sm(wm(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Cm.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){qv()}},{key:"Is",value:function(e,t){return Cm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new tx(this)}},{key:"getSize",value:function(e){return Cm.resolve(this.size)}}]),e}(),tx=function(e){qt(n,e);var t=Zt(n);function n(e){var r;return Ft(this,n),(r=t.call(this)).zn=e,r}return jt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Cm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(jw),nx=function(){function e(t){Ft(this,e),this.persistence=t,this.Ts=new tk((function(e){return Fy(e)}),My),this.lastRemoteSnapshotVersion=cm.min(),this.highestTargetId=0,this.Es=0,this.As=new Jw,this.targetCount=0,this.Rs=Tw.An()}return jt(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Cm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Cm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Cm.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Cm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Cm.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new Tw(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Cm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Cm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Cm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Cm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Cm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Cm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Cm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Cm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Cm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Cm.resolve(n)}},{key:"containsKey",value:function(e,t){return Cm.resolve(this.As.containsKey(t))}}]),e}(),rx=function(){function e(t,n){var r=this;Ft(this,e),this.bs={},this.overlays={},this.Ps=new Um(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new nx(this),this.indexManager=new cw,this.remoteDocumentCache=new ex((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new Lb(n),this.Ds=new $w(this.wt)}return jt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Qw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Xw(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Vv("MemoryPersistence","Starting transaction:",e);var i=new ix(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Cm.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ix=function(e){qt(n,e);var t=Zt(n);function n(e){var r;return Ft(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return jt(n)}(Em),ax=function(){function e(t){Ft(this,e),this.persistence=t,this.ks=new Jw,this.Os=null}return jt(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw qv()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Cm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Cm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Cm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cm.forEach(this.Fs,(function(r){var i=pm.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,cm.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Cm.or([function(){return Cm.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),ox=function(){function e(t){Ft(this,e),this.wt=t}return jt(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Am("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ob,{unique:!0}),e.createObjectStore("documentMutations")}(e),ux(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Cm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ux(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ob,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Cm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:wb});t.createIndex("collectionPathOverlayIndex",xb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Sb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:lb});t.createIndex("documentKeyIndex",fb),t.createIndex("collectionGroupIndex",hb)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:yb}).createIndex("sequenceNumberIndex",gb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:kb}).createIndex("documentKeyIndex",bb,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=ww(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return Cm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return Cm.forEach(r,(function(r){Kv(r.userId===n.userId);var i=Ub(t.wt,r);return bw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new fm(n),o=function(e){return[0,nb(e)]}(a);r.push(t.get(o).next((function(n){return n?Cm.resolve():function(n){return t.put({targetId:0,path:nb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Cm.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:mb});var n=t.store("collectionParents"),r=new lw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:nb(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new fm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=(0,a.Z)(e,3),r=(n[0],n[1]),o=(n[2],ab(r));return i(o.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=Bb(r),a=zb(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new pm(fm.fromString(i.document.name).popFirst(5)):i.noDocument?pm.fromSegments(i.noDocument.path):i.unknownDocument?pm.fromSegments(i.unknownDocument.path):qv()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Cm.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=Uw(this.wt),a=new rx(ax.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:hk();Ub(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Cm.forEach(r,(function(e,r){var o=new Lv(r),u=Qb.se(n.wt,o),s=a.getIndexManager(o),c=xw.se(o,n.wt,s,a.referenceDelegate);return new Zw(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Ab(t,Um.ot),e).next()}))}))}}]),e}();function ux(e){e.createObjectStore("targetDocuments",{keyPath:pb}).createIndex("documentTargetsIndex",vb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",db,{unique:!0}),e.createObjectStore("targetGlobal")}var sx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",cx=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(Ft(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new Gv(Hv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fw(this,i),this.ei=n+"main",this.wt=new Lb(s),this.ni=new Nm(this.ei,this.Hs,new ox(this.wt)),this.Vs=new Cw(this.referenceDelegate,this.wt),this.remoteDocumentCache=Uw(this.wt),this.Ds=new Gb,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&Uv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return jt(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Gv(Hv.FAILED_PRECONDITION,sx);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new Um(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=An(In().mark((function n(r){return In().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=An(In().mark((function t(n){return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return fx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(Pm(t))return Vv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Vv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return lx(e).get("owner").next((function(e){return Cm.resolve(t.di(e))}))}},{key:"_i",value:function(e){return fx(e).delete(this.clientId)}},{key:"wi",value:function(){var e=An(In().mark((function e(){var t,n,r,i,a=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Nb(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Cm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Ut(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?Cm.resolve(!0):lx(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new Gv(Hv.FAILED_PRECONDITION,sx);return!1}}return!(!t.networkEnabled||!t.inForeground)||fx(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Vv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=An(In().mark((function e(){var t=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Ab(e,Um.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return fx(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return xw.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new hw(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Qb.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Vv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?Cb:14===i?Tb:13===i?Ib:12===i?Eb:11===i?_b:void qv();return this.ni.runTransaction(e,o,u,(function(i){return a=new Ab(i,r.Ps?r.Ps.next():Um.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw Uv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new Gv(Hv.FAILED_PRECONDITION,_m);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return lx(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Gv(Hv.FAILED_PRECONDITION,sx)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lx(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=lx(e);return n.get("owner").next((function(e){return t.di(e)?(Vv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Cm.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Uv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!un()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Vv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Uv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(Lf){Uv("Failed to set zombie client id.",Lf)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(Lf){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return Nm.V()}}]),e}();function lx(e){return Nb(e,"owner")}function fx(e){return Nb(e,"clientMetadata")}function hx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var dx=function(){function e(t,n,r,i){Ft(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return jt(e,null,[{key:"Vi",value:function(t,n){var r,i=hk(),a=hk(),o=Ut(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),px=function(){function e(){Ft(this,e),this.Si=!1}return jt(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return Cm.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(cm.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(jv()<=Rn.DEBUG&&Vv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dg(t)),i.Mi(e,o,t,bm(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new Gm(mg(e));return t.forEach((function(t,r){pg(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return jv()<=Rn.DEBUG&&Vv("QueryEngine","Using full collection scan to execute query:",dg(t)),this.Di.getDocumentsMatchingQuery(e,t,xm.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),vx=function(){function e(t,n,r,i){Ft(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Km(am),this.Bi=new tk((function(e){return Fy(e)}),My),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return jt(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zw(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function mx(e,t,n,r){return new vx(e,t,n,r)}function yx(e,t){return gx.apply(this,arguments)}function gx(){return gx=An(In().mark((function e(t,n){var r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=hk(),s=Ut(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Ut(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Ut(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Ut(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function kx(e,t){var n=Wv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Cm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Kv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=hk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function bx(e){var t=Wv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function wx(e,t){var n=Wv(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Jm.EMPTY_BYTE_STRING,cm.min()).withLastLimboFreeSnapshotVersion(cm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=rk(),s=hk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(xx(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(cm.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Cm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function xx(e,t,n){var r=hk(),i=hk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=rk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(cm.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Vv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function Sx(e,t){var n=Wv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function _x(e,t){var n=Wv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Cm.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new Rb(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function Ex(e,t,n){return Ix.apply(this,arguments)}function Ix(){return Ix=An(In().mark((function e(t,n,r){var i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Wv(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Pm(e.t1)){e.next=12;break}throw e.t1;case 12:Vv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ix.apply(this,arguments)}function Tx(e,t,n){var r=Wv(e),i=cm.min(),a=hk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Wv(e),i=r.Bi.get(n);return void 0!==i?Cm.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,cg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:cm.min(),n?a:hk())})).next((function(e){return Nx(r,vg(t),e),{documents:e,ji:a}}))}))}function Cx(e,t){var n=Wv(e),r=Wv(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function Ax(e,t){var n=Wv(e),r=n.Li.get(t)||cm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,bm(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Nx(n,t,e),e}))}function Nx(e,t,n){var r=cm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function Ox(e,t,n,r){return Dx.apply(this,arguments)}function Dx(){return Dx=An(In().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Wv(t),o=hk(),u=rk(),s=Ut(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,_x(a,function(e){return cg(ig(fm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return xx(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Px(e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=An(In().mark((function e(t,n){var r,i,a,o=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:hk(),e.next=3,_x(t,cg(qb(n.bundledQuery)));case 3:return i=e.sent,a=Wv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Nk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(Jm.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}function Lx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Fx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Mx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var jx=function(){function e(t,n,r,i){Ft(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return jt(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Gv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Uv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Vx=function(){function e(t,n,r){Ft(this,e),this.targetId=t,this.state=n,this.error=r}return jt(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Gv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Uv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ux=function(){function e(t,n){Ft(this,e),this.clientId=t,this.activeTargetIds=n}return jt(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=pk(),o=0;i&&o<r.activeTargetIds.length;++o)i=cy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Uv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Bx=function(){function e(t,n){Ft(this,e),this.clientId=t,this.onlineState=n}return jt(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Uv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),zx=function(){function e(){Ft(this,e),this.activeTargetIds=pk()}return jt(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),qx=function(){function e(t,n,r,i,a){Ft(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Km(am),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Lx(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new zx),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return jt(e,[{key:"start",value:function(){var e=An(In().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Ut(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Lx(this.persistenceKey,i)))&&(o=Ux.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Ut(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Mx(this.persistenceKey,e));if(n){var r=Vx.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Mx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Vv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Vv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Vv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Vv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Uv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(An(In().mark((function e(){var r,i,a,o,u,s,c;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Um.ot;if(null!=e)try{var n=JSON.parse(e);Kv("number"==typeof n),t=n}catch(e){Uv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Um.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new jx(this.currentUser,e,t,n),i=Fx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Fx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Mx(this.persistenceKey,e),i=new Vx(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Ux.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jx.Ji(new Lv(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Vx.Ji(r,t)}},{key:"wr",value:function(e){return Bx.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Vv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=pk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Kx=function(){function e(){Ft(this,e),this.Fr=new zx,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return jt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new zx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Wx=function(){function e(){Ft(this,e)}return jt(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Hx=function(){function e(){var t=this;Ft(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return jt(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Vv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ut(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){Vv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ut(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Gx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Zx=function(){function e(t){Ft(this,e),this.jr=t.jr,this.Wr=t.Wr}return jt(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),$x=function(e){qt(n,e);var t=Zt(n);function n(e){var r;return Ft(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return jt(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Pv;o.listenOnce(Cv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Tv.NO_ERROR:var t=o.getResponseJson();Vv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Tv.TIMEOUT:Vv("Connection",'RPC "'+e+'" timed out'),a(new Gv(Hv.DEADLINE_EXCEEDED,"Request time out"));break;case Tv.HTTP_ERROR:var n=o.getStatus();if(Vv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Hv).indexOf(t)>=0?t:Hv.UNKNOWN}(r.status);a(new Gv(u,r.message))}else a(new Gv(Hv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Gv(Hv.UNAVAILABLE,"Connection failed."));break;default:qv()}}finally{Vv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ev(),a=Iv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ov({})),this.uo(o.initMessageHeaders,t,n),on()||cn()||an().indexOf("Electron/")>=0||ln()||an().indexOf("MSAppHost/")>=0||sn()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Vv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Zx({jr:function(e){l?Vv("Connection","Not sending because WebChannel is closed:",e):(c||(Vv("Connection","Opening WebChannel transport."),s.open(),c=!0),Vv("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Dv.EventType.OPEN,(function(){l||Vv("Connection","WebChannel transport opened.")})),h(s,Dv.EventType.CLOSE,(function(){l||(l=!0,Vv("Connection","WebChannel transport closed"),f.eo())})),h(s,Dv.EventType.ERROR,(function(e){l||(l=!0,Bv("Connection","WebChannel transport errored:",e),f.eo(new Gv(Hv.UNAVAILABLE,"The operation could not be completed")))})),h(s,Dv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Kv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Vv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Zg[e];if(void 0!==t)return ek(t)}(a),u=i.message;void 0===o&&(o=Hv.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Gv(o,u)),s.close()}else Vv("Connection","WebChannel received:",n),f.no(n)}})),h(a,Av.STAT_EVENT,(function(e){e.stat===Nv.PROXY?Vv("Connection","Detected buffering proxy"):e.stat===Nv.NOPROXY&&Vv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Ft(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return jt(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Vv("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return Vv("RestConnection","Received: ",e),e}),(function(t){throw Bv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=Gx[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Qx(){return"undefined"!=typeof window?window:null}function Jx(){return"undefined"!=typeof document?document:null}function Yx(e){return new Ik(e,!0)}var Xx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ft(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return jt(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Vv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),eS=function(){function e(t,n,r,i,a,o,u,s){Ft(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Xx(t,n)}return jt(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Hv.RESOURCE_EXHAUSTED?(Uv(n.toString()),Uv("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Hv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,a.Z)(t,2),i=r[0],o=r[1];e.Po===n&&e.Uo(i,o)}),(function(n){t((function(){var t=new Gv(Hv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(An(In().mark((function t(){return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Vv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(Vv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),tS=function(e){qt(n,e);var t=Zt(n);function n(e,r,i,a,o,u){var s;return Ft(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return jt(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Kv(void 0===t||"string"==typeof t),Jm.fromBase64String(t||"")):(Kv(void 0===t||t instanceof Uint8Array),Jm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Hv.UNKNOWN:ek(e.code);return new Gv(t,e.message||"")}(o);n=new kk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Rk(e,s.document.name),l=Nk(s.document.updateTime),f=new Oy({mapValue:{fields:s.document.fields}}),h=Py.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new yk(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Rk(e,v.document),y=v.readTime?Nk(v.readTime):cm.min(),g=Py.newNoDocument(m,y),k=v.removedTargetIds||[];n=new yk([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Rk(e,b.document),x=b.removedTargetIds||[];n=new yk([],x,w,null)}else{if(!("filter"in t))return qv();t.filter;var S=t.filter;S.targetId;var _=S.count||0,E=new Yg(_),I=S.targetId;n=new gk(I,E)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return cm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?cm.min():t.readTime?Nk(t.readTime):cm.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Mk(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=jy(r)?{documents:Kk(e,r)}:{query:Wk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ck(e,t.resumeToken):t.snapshotVersion.compareTo(cm.min())>0&&(n.readTime=Tk(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=Mk(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(eS),nS=function(e){qt(n,e);var t=Zt(n);function n(e,r,i,a,o,u){var s;return Ft(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return jt(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,oi(Kt(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Kv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Kv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Nk(e.updateTime):Nk(t);return n.isEqual(cm.min())&&(n=Nk(t)),new Rg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Nk(e.commitTime);return this.listener.Jo(n,t)}return Kv(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Mk(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return zk(t.wt,e)}))};this.Mo(n)}}]),n}(eS),rS=function(e){qt(n,e);var t=Zt(n);function n(e,r,i,a){var o;return Ft(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return jt(n,[{key:"tu",value:function(){if(this.Zo)throw new Gv(Hv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=(0,a.Z)(i,2),u=o[0],s=o[1];return r.bo.ro(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Hv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Gv(Hv.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=(0,a.Z)(o,2),s=u[0],c=u[1];return i.bo.ao(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Hv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Gv(Hv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return jt((function e(){Ft(this,e)}))}()),iS=function(){function e(t,n){Ft(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return jt(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Uv(t),this.su=!1):Vv("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),aS=jt((function e(t,n,r,i,a){var o=this;Ft(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=mS(o),!e.t0){e.next=5;break}return Vv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Wv(t)).lu.add(4),e.next=4,sS(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,oS(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new iS(r,i)}));function oS(e){return uS.apply(this,arguments)}function uS(){return uS=An(In().mark((function e(t){var n,r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!mS(t)){e.next=18;break}n=Ut(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),uS.apply(this,arguments)}function sS(e){return cS.apply(this,arguments)}function cS(){return cS=An(In().mark((function e(t){var n,r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ut(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),cS.apply(this,arguments)}function lS(e,t){var n=Wv(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),vS(n)?pS(n):WS(n).Co()&&hS(n,t))}function fS(e,t){var n=Wv(e),r=WS(n);n.hu.delete(t),r.Co()&&dS(n,t),0===n.hu.size&&(r.Co()?r.ko():mS(n)&&n._u.set("Unknown"))}function hS(e,t){e.wu.Nt(t.targetId),WS(e).Qo(t)}function dS(e,t){e.wu.Nt(t),WS(e).jo(t)}function pS(e){e.wu=new wk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),WS(e).start(),e._u.iu()}function vS(e){return mS(e)&&!WS(e).Do()&&e.hu.size>0}function mS(e){return 0===Wv(e).lu.size}function yS(e){e.wu=void 0}function gS(e){return kS.apply(this,arguments)}function kS(){return kS=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){hS(t,e)}));case 1:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function bS(e,t){return wS.apply(this,arguments)}function wS(){return wS=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yS(t),vS(t)?(t._u.uu(n),pS(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function xS(e,t,n){return SS.apply(this,arguments)}function SS(){return SS=An(In().mark((function e(t,n,r){var i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof kk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=An(In().mark((function e(t,n){var r,i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ut(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Vv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,_S(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof yk?t.wu.Ut(n):n instanceof gk?t.wu.zt(n):t.wu.Gt(n),r.isEqual(cm.min())){e.next=29;break}return e.prev=14,e.next=17,bx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Jm.EMPTY_BYTE_STRING,n.snapshotVersion)),dS(e,t);var r=new Rb(n.target,t,1,n.sequenceNumber);hS(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Vv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,_S(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),SS.apply(this,arguments)}function _S(e,t,n){return ES.apply(this,arguments)}function ES(){return ES=An(In().mark((function e(t,n,r){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pm(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,sS(t);case 5:t._u.set("Offline"),r||(r=function(){return bx(t.localStore)}),t.asyncQueue.enqueueRetryable(An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,oS(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}function IS(e,t){return t().catch((function(n){return _S(e,n,t)}))}function TS(e){return CS.apply(this,arguments)}function CS(){return CS=An(In().mark((function e(t){var n,r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Wv(t),r=HS(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!AS(n)){e.next=19;break}return e.prev=3,e.next=6,Sx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,NS(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,_S(n,e.t0);case 17:e.next=2;break;case 19:OS(n)&&DS(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),CS.apply(this,arguments)}function AS(e){return mS(e)&&e.au.length<10}function NS(e,t){e.au.push(t);var n=HS(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function OS(e){return mS(e)&&!HS(e).Do()&&e.au.length>0}function DS(e){HS(e).start()}function PS(e){return RS.apply(this,arguments)}function RS(){return RS=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:HS(t).Xo();case 1:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function LS(e){return FS.apply(this,arguments)}function FS(){return FS=An(In().mark((function e(t){var n,r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=HS(t),r=Ut(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function MS(e,t,n){return jS.apply(this,arguments)}function jS(){return jS=An(In().mark((function e(t,n,r){var i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=Db.from(i,n,r),e.next=3,IS(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,TS(t);case 5:case"end":return e.stop()}}),e)}))),jS.apply(this,arguments)}function VS(e,t){return US.apply(this,arguments)}function US(){return US=An(In().mark((function e(t,n){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&HS(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=An(In().mark((function e(t,n){var r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xg(i=n.code)||i===Hv.ABORTED){e.next=7;break}return r=t.au.shift(),HS(t).No(),e.next=5,IS(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,TS(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:OS(t)&&DS(t);case 5:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function BS(e,t){return zS.apply(this,arguments)}function zS(){return zS=An(In().mark((function e(t,n){var r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Wv(t)).asyncQueue.verifyOperationInProgress(),Vv("RemoteStore","RemoteStore received new credentials"),i=mS(r),r.lu.add(3),e.next=6,sS(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,oS(r);case 12:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function qS(e,t){return KS.apply(this,arguments)}function KS(){return KS=An(In().mark((function e(t,n){var r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wv(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,oS(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,sS(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function WS(e){return e.mu||(e.mu=function(e,t,n){var r=Wv(e);return r.tu(),new tS(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:gS.bind(null,e),Jr:bS.bind(null,e),Go:xS.bind(null,e)}),e.fu.push(function(){var t=An(In().mark((function t(n){return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),vS(e)?pS(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:yS(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function HS(e){return e.gu||(e.gu=function(e,t,n){var r=Wv(e);return r.tu(),new nS(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:PS.bind(null,e),Jr:VS.bind(null,e),Yo:LS.bind(null,e),Jo:MS.bind(null,e)}),e.fu.push(function(){var t=An(In().mark((function t(n){return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,TS(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(Vv("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var GS=function(){function e(t,n,r,i,a){Ft(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Zv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return jt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gv(Hv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ZS(e,t){if(Uv("AsyncQueue","".concat(t,": ").concat(e)),Pm(e))return new Gv(Hv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var $S=function(){function e(t){Ft(this,e),this.comparator=t?function(e,n){return t(e,n)||pm.comparator(e.key,n.key)}:function(e,t){return pm.comparator(e.key,t.key)},this.keyedMap=ak(),this.sortedSet=new Km(this.comparator)}return jt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),QS=function(){function e(){Ft(this,e),this.yu=new Km(pm.comparator)}return jt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):qv():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),JS=function(){function e(t,n,r,i,a,o,u,s){Ft(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return jt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,$S.emptySet(n),a,r,i,!0,!1)}}]),e}(),YS=jt((function e(){Ft(this,e),this.Iu=void 0,this.listeners=[]})),XS=jt((function e(){Ft(this,e),this.queries=new tk((function(e){return hg(e)}),fg),this.onlineState="Unknown",this.Tu=new Set}));function e_(e,t){return t_.apply(this,arguments)}function t_(){return t_=An(In().mark((function e(t,n){var r,i,a,o,u;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new YS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ZS(e.t0,"Initialization of query '".concat(dg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&o_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),t_.apply(this,arguments)}function n_(e,t){return r_.apply(this,arguments)}function r_(){return r_=An(In().mark((function e(t,n){var r,i,a,o,u;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t){var n,r=Wv(e),i=!1,a=Ut(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Ut(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&o_(r)}function a_(e,t,n){var r=Wv(e),i=r.queries.get(t);if(i){var a,o=Ut(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function o_(e){e.Tu.forEach((function(e){e.next()}))}var u_=function(){function e(t,n,r){Ft(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return jt(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ut(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new JS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=JS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),s_=function(){function e(t,n){Ft(this,e),this.payload=t,this.byteLength=n}return jt(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),c_=function(){function e(t){Ft(this,e),this.wt=t}return jt(e,[{key:"Wi",value:function(e){return Rk(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?Uk(this.wt,e.document,!1):Py.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return Nk(e)}}]),e}(),l_=function(){function e(t,n,r){Ft(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=f_(t)}return jt(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=fm.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new c_(this.wt),i=Ut(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=Ut(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||hk()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=An(In().mark((function e(){var t,n,r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ox(this.localStore,new c_(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Ut(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Px(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function f_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var h_=jt((function e(t){Ft(this,e),this.key=t})),d_=jt((function e(t){Ft(this,e),this.key=t})),p_=function(){function e(t,n){Ft(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=hk(),this.mutatedKeys=hk(),this.Lu=mg(t),this.Uu=new $S(this.Lu)}return jt(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new QS,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=pg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qv()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new JS(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new QS,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=hk(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new d_(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new h_(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=hk();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return JS.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),v_=jt((function e(t,n,r){Ft(this,e),this.query=t,this.targetId=n,this.view=r})),m_=jt((function e(t){Ft(this,e),this.key=t,this.Xu=!1})),y_=function(){function e(t,n,r,i,a,o){Ft(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new tk((function(e){return hg(e)}),fg),this.ec=new Map,this.nc=new Set,this.sc=new Km(pm.comparator),this.ic=new Map,this.rc=new Jw,this.oc={},this.uc=new Map,this.cc=Tw.Rn(),this.onlineState="Unknown",this.ac=void 0}return jt(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function g_(e,t){return k_.apply(this,arguments)}function k_(){return k_=An(In().mark((function e(t,n){var r,i,a,o,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fE(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,_x(r.localStore,cg(n));case 8:return u=e.sent,r.isPrimaryClient&&lS(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,b_(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function b_(e,t,n,r){return w_.apply(this,arguments)}function w_(){return w_=An(In().mark((function e(t,n,r,i){var a,o,u,s,c,l;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=An(In().mark((function e(t,n,r,i){var a,o,u;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,Tx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(B_(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Tx(t.localStore,n,!0);case 3:return a=e.sent,o=new p_(n,a.ji),u=o.Ku(a.documents),s=mk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),B_(t,r,c.zu),l=new v_(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function x_(e,t){return S_.apply(this,arguments)}function S_(){return S_=An(In().mark((function e(t,n){var r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wv(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!fg(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ex(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),fS(r.remoteStore,i.targetId),V_(r,i.targetId)})).catch(Im);case 9:e.next=14;break;case 11:return V_(r,i.targetId),e.next=14,Ex(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function __(e,t,n){return E_.apply(this,arguments)}function E_(){return E_=An(In().mark((function e(t,n,r){var i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hE(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Wv(e),a=sm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),hk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=rk(),s=hk();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Ut(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Bg(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Kg(c.key,l,Dy(l.value.mapValue),Lg.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:ok(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Km(am)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,K_(i,a.changes);case 9:return e.next=11,TS(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ZS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),E_.apply(this,arguments)}function I_(e,t){return T_.apply(this,arguments)}function T_(){return T_=An(In().mark((function e(t,n){var r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),e.prev=1,e.next=4,wx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Kv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Kv(n.Xu):e.removedDocuments.size>0&&(Kv(n.Xu),n.Xu=!1))})),e.next=8,K_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Im(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),T_.apply(this,arguments)}function C_(e,t,n){var r=Wv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Wv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ut(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&o_(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function A_(e,t,n){return N_.apply(this,arguments)}function N_(){return N_=An(In().mark((function e(t,n,r){var i,a,o,u,s,c;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Wv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Km(pm.comparator)).insert(o,Py.newNoDocument(o,cm.min())),s=hk().add(o),c=new vk(cm.min(),new Map,new Gm(am),u,s),e.next=9,I_(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),q_(i),e.next=16;break;case 14:return e.next=16,Ex(i.localStore,n,!1).then((function(){return V_(i,n,r)})).catch(Im);case 16:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function O_(e,t){return D_.apply(this,arguments)}function D_(){return D_=An(In().mark((function e(t,n){var r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),i=n.batch.batchId,e.prev=1,e.next=4,kx(r.localStore,n);case 4:return a=e.sent,j_(r,i,null),M_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,K_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Im(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),D_.apply(this,arguments)}function P_(e,t,n){return R_.apply(this,arguments)}function R_(){return R_=An(In().mark((function e(t,n,r){var i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wv(t),e.prev=1,e.next=4,function(e,t){var n=Wv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Kv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,j_(i,n,r),M_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,K_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Im(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),R_.apply(this,arguments)}function L_(e,t){return F_.apply(this,arguments)}function F_(){return F_=An(In().mark((function e(t,n){var r,i,a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mS((r=Wv(t)).remoteStore)||Vv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Wv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ZS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),F_.apply(this,arguments)}function M_(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function j_(e,t,n){var r=Wv(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function V_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ut(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||U_(e,t)}))}function U_(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(fS(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),q_(e))}function B_(e,t,n){var r,i=Ut(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof h_?(e.rc.addReference(a.key,t),z_(e,a)):a instanceof d_?(Vv("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||U_(e,a.key)):qv()}}catch(o){i.e(o)}finally{i.f()}}function z_(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Vv("SyncEngine","New document in limbo: "+n),e.nc.add(r),q_(e))}function q_(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new pm(fm.fromString(t)),r=e.cc.next();e.ic.set(r,new m_(n)),e.sc=e.sc.insert(n,r),lS(e.remoteStore,new Rb(cg(ig(n.path)),r,2,Um.ot))}}function K_(e,t,n){return W_.apply(this,arguments)}function W_(){return W_=An(In().mark((function e(t,n,r){var i,a,o,u;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Wv(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=dx.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=An(In().mark((function e(t,n){var r,i,a,o,u,s,c,l;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Cm.forEach(n,(function(t){return Cm.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Cm.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Pm(e.t0)){e.next=10;break}throw e.t0;case 10:Vv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ut(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}function H_(e,t){return G_.apply(this,arguments)}function G_(){return G_=An(In().mark((function e(t,n){var r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Wv(t)).currentUser.isEqual(n)){e.next=11;break}return Vv("SyncEngine","User change. New user:",n.toKey()),e.next=5,yx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new Gv(Hv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,K_(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function Z_(e,t){var n=Wv(e),r=n.ic.get(t);if(r&&r.Xu)return hk().add(r.key);var i=hk(),a=n.ec.get(t);if(!a)return i;var o,u=Ut(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function $_(e,t){return Q_.apply(this,arguments)}function Q_(){return Q_=An(In().mark((function e(t,n){var r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),e.next=3,Tx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&B_(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),Q_.apply(this,arguments)}function J_(e,t){return Y_.apply(this,arguments)}function Y_(){return Y_=An(In().mark((function e(t,n){var r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),e.abrupt("return",Ax(r.localStore,n).then((function(e){return K_(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Y_.apply(this,arguments)}function X_(e,t,n,r){return eE.apply(this,arguments)}function eE(){return eE=An(In().mark((function e(t,n,r,i){var a,o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wv(t),e.next=3,function(e,t){var n=Wv(e),r=Wv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Cm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,TS(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(j_(a,n,i||null),M_(a,n),function(e,t){Wv(Wv(e).mutationQueue).In(t)}(a.localStore,n)):qv();case 11:return e.next=13,K_(a,o);case 13:e.next=16;break;case 15:Vv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=An(In().mark((function e(t,n){var r,i,a,o,u,s,c,l;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fE(r=Wv(t)),hE(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,rE(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,qS(r.remoteStore,!0);case 9:o=Ut(a);try{for(o.s();!(u=o.n()).done;)s=u.value,lS(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return V_(r,t),Ex(r.localStore,t,!0)})),fS(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,rE(r,c);case 21:return function(e){var t=Wv(e);t.ic.forEach((function(e,n){fS(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Km(pm.comparator)}(r),r.ac=!1,e.next=25,qS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e,t,n){return iE.apply(this,arguments)}function iE(){return iE=An(In().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Wv(t),a=[],o=[],u=Ut(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,_x(i.localStore,cg(f[0]));case 11:l=e.sent,h=Ut(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,$_(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Cx(i.localStore,c);case 36:return y=e.sent,e.next=39,_x(i.localStore,y);case 39:return l=e.sent,e.next=42,b_(i,aE(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),iE.apply(this,arguments)}function aE(e){return rg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function oE(e){var t=Wv(e);return Wv(Wv(t.localStore).persistence).Ri()}function uE(e,t,n,r){return sE.apply(this,arguments)}function sE(){return sE=An(In().mark((function e(t,n,r,i){var a,o,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Wv(t)).ac){e.next=3;break}return e.abrupt("return",void Vv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Ax(a.localStore,vg(o[0]));case 10:return u=e.sent,s=vk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,K_(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ex(a.localStore,n,!0);case 17:return V_(a,n,i),e.abrupt("break",20);case 19:qv();case 20:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function cE(e,t,n){return lE.apply(this,arguments)}function lE(){return lE=An(In().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=fE(t)).ac){e.next=45;break}a=Ut(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return Vv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Cx(i.localStore,u);case 12:return s=e.sent,e.next=15,_x(i.localStore,s);case 15:return c=e.sent,e.next=18,b_(i,aE(s),c.targetId,!1);case 18:lS(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ut(r),e.prev=30,h=In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,Ex(i.localStore,t,!1).then((function(){fS(i.remoteStore,t),V_(i,t)})).catch(Im);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),lE.apply(this,arguments)}function fE(e){var t=Wv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=I_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=A_.bind(null,t),t.Zu.Go=i_.bind(null,t.eventManager),t.Zu.lc=a_.bind(null,t.eventManager),t}function hE(e){var t=Wv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=O_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=P_.bind(null,t),t}function dE(e,t,n){var r=Wv(e);(function(){var e=An(In().mark((function e(t,n,r){var i,a,o,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Wv(e),r=Nk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(f_(i)),a=new l_(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,K_(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=Wv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Bv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var pE=function(){function e(){Ft(this,e),this.synchronizeTabs=!1}return jt(e,[{key:"initialize",value:function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=Yx(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return mx(this.persistence,new px,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new rx(ax.Ms,this.wt)}},{key:"dc",value:function(e){return new Kx}},{key:"terminate",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),vE=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){var a;return Ft(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return jt(n,[{key:"initialize",value:function(){var e=An(In().mark((function e(t){var r=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(Kt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,hE(this.yc.syncEngine);case 6:return e.next=8,TS(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return mx(this.persistence,new px,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Rw(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Vm(t,this.persistence);return new jm(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=hx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?kw.withCacheSize(this.cacheSizeBytes):kw.DEFAULT;return new cx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Qx(),Jx(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new Kx}}]),n}(pE),mE=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return jt(n,[{key:"initialize",value:function(){var e=An(In().mark((function e(t){var r,i=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(Kt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof qx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:X_.bind(null,r),Or:uE.bind(null,r),Mr:cE.bind(null,r),Ri:oE.bind(null,r),Nr:J_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tE(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=Qx();if(!qx.V(t))throw new Gv(Hv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=hx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(vE),yE=function(){function e(){Ft(this,e)}return jt(e,[{key:"initialize",value:function(){var e=An(In().mark((function e(t,n){var r=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return C_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=H_.bind(null,this.syncEngine),e.next=12,qS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new XS}},{key:"createDatastore",value:function(e){var t,n=Yx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new $x(t));return function(e,t,n,r){return new rS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return C_(o.syncEngine,e,0)},a=Hx.V()?new Hx:new Wx,new aS(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new y_(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wv(t),Vv("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,sS(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function gE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return An(In().mark((function r(){var i;return In().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var kE=function(){function e(t){Ft(this,e),this.observer=t,this.muted=!1}return jt(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),bE=function(){function e(t,n){var r=this;Ft(this,e),this.Ec=t,this.wt=n,this.metadata=new Zv,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return jt(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=An(In().mark((function e(){var t,n,r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new s_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=An(In().mark((function e(){var t,n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=An(In().mark((function e(){var t,n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wE=function(){function e(t){Ft(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return jt(e,[{key:"lookup",value:function(){var e=An(In().mark((function e(t){var n,r=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Gv(Hv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=An(In().mark((function e(t,n){var r,i,a,o,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),i=Mk(r.wt)+"/documents",a={documents:n.map((function(e){return Pk(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Bk(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Kv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Qg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=An(In().mark((function e(){var t,n=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=pm.fromPath(t);n.mutations.push(new Jg(r,n.precondition(r)))})),e.next=7,function(){var e=An(In().mark((function e(t,n){var r,i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),i=Mk(r.wt)+"/documents",a={writes:n.map((function(e){return zk(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qv();t=cm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Gv(Hv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Lg.updateTime(t):Lg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(cm.min()))throw new Gv(Hv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lg.updateTime(t)}return Lg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),xE=function(){function e(t,n,r,i,a){Ft(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new Xx(this.asyncQueue,"transaction_retry")}return jt(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(An(In().mark((function t(){var n,r;return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new wE(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!uy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Xg(t)}return!1}}]),e}(),SE=function(){function e(t,n,r,i){var a=this;Ft(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lv.UNAUTHENTICATED,this.clientId=im.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Vv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return jt(e,[{key:"getConfiguration",value:function(){var e=An(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Gv(Hv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Zv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(An(In().mark((function n(){var r;return In().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ZS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function _E(e,t){return EE.apply(this,arguments)}function EE(){return EE=An(In().mark((function e(t,n){var r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Vv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,yx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function IE(e,t){return TE.apply(this,arguments)}function TE(){return TE=An(In().mark((function e(t,n){var r,i;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,CE(t);case 3:return r=e.sent,Vv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return BS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return BS(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function CE(e){return AE.apply(this,arguments)}function AE(){return AE=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Vv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,_E(t,new pE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function NE(e){return OE.apply(this,arguments)}function OE(){return OE=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Vv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,IE(t,new yE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function DE(e){return CE(e).then((function(e){return e.persistence}))}function PE(e){return CE(e).then((function(e){return e.localStore}))}function RE(e){return NE(e).then((function(e){return e.remoteStore}))}function LE(e){return NE(e).then((function(e){return e.syncEngine}))}function FE(e){return ME.apply(this,arguments)}function ME(){return ME=An(In().mark((function e(t){var n,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=g_.bind(null,n.syncEngine),r.onUnlisten=x_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function jE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Zv;return e.asyncQueue.enqueueAndForget(An(In().mark((function i(){return In().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new kE({next:function(a){t.enqueueAndForget((function(){return n_(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Gv(Hv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Gv(Hv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new u_(ig(n.path),a,{includeMetadataChanges:!0,Du:!0});return e_(e,o)},i.next=3,FE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function VE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Zv;return e.asyncQueue.enqueueAndForget(An(In().mark((function i(){return In().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new kE({next:function(n){t.enqueueAndForget((function(){return n_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Gv(Hv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new u_(n,a,{includeMetadataChanges:!0,Du:!0});return e_(e,o)},i.next=3,FE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var UE=new Map;function BE(e,t,n){if(!n)throw new Gv(Hv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function zE(e,t,n,r){if(!0===t&&!0===r)throw new Gv(Hv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function qE(e){if(!pm.isDocumentKey(e))throw new Gv(Hv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function KE(e){if(pm.isDocumentKey(e))throw new Gv(Hv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function WE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":qv()}function HE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gv(Hv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=WE(e);throw new Gv(Hv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function GE(e,t){if(t<=0)throw new Gv(Hv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ZE=function(){function e(t){var n;if(Ft(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Gv(Hv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gv(Hv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,zE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return jt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),$E=function(){function e(t,n,r){Ft(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1,t instanceof oy?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gv(Hv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oy(e.options.projectId)}(t))}return jt(e,[{key:"app",get:function(){if(!this._app)throw new Gv(Hv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Gv(Hv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qv;switch(e.type){case"gapi":var t=e.client;return Kv(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new em(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Gv(Hv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=UE.get(e);t&&(Vv("ComponentProvider","Removing Datastore"),UE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function QE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=HE(e,$E))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Bv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Lv.MOCK_USER;else{o=rn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Gv(Hv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Lv(s)}e._authCredentials=new Jv(new $v(o,u))}}var JE=function(){function e(t,n,r){Ft(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return jt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new XE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),YE=function(){function e(t,n,r){Ft(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return jt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),XE=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){var a;return Ft(this,n),(a=t.call(this,e,r,ig(i)))._path=i,a.type="collection",a}return jt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new JE(this.firestore,null,new pm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(YE);function eI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=En(e),BE("collection","path",t),e instanceof $E){var a=fm.fromString.apply(fm,[t].concat(r));return KE(a),new XE(e,null,a)}if(!(e instanceof JE||e instanceof XE))throw new Gv(Hv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(fm.fromString.apply(fm,[t].concat(r)));return KE(o),new XE(e.firestore,null,o)}function tI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=En(e),1===arguments.length&&(t=im.I()),BE("doc","path",t),e instanceof $E){var a=fm.fromString.apply(fm,[t].concat(r));return qE(a),new JE(e,null,new pm(a))}if(!(e instanceof JE||e instanceof XE))throw new Gv(Hv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(fm.fromString.apply(fm,[t].concat(r)));return qE(o),new JE(e.firestore,e instanceof XE?e.converter:null,new pm(o))}function nI(e,t){return e=En(e),t=En(t),(e instanceof JE||e instanceof XE)&&(t instanceof JE||t instanceof XE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rI(e,t){return e=En(e),t=En(t),e instanceof YE&&t instanceof YE&&e.firestore===t.firestore&&fg(e._query,t._query)&&e.converter===t.converter}var iI=function(){function e(){var t=this;Ft(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Xx(this,"async_queue_retry"),this.Kc=function(){var e=Jx();e&&Vv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Jx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return jt(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=Jx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Zv;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=An(In().mark((function e(){var t=this;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Pm(e.t0)){e.next=12;break}throw e.t0;case 12:Vv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Uv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=GS.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&qv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=An(In().mark((function e(){var t;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Ut(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ut(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function aI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ut(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var oI=function(){function e(){Ft(this,e),this._progressObserver={},this._taskCompletionResolver=new Zv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return jt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),uI=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){var a;return Ft(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new iI,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return jt(n,[{key:"_terminate",value:function(){return this._firestoreClient||cI(this),this._firestoreClient.terminate()}}]),n}($E);function sI(e){return e._firestoreClient||cI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ay(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new SE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function lI(e,t,n){var r=new Zv;return e.asyncQueue.enqueue(An(In().mark((function i(){var a;return In().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,_E(e,n);case 3:return i.next=5,IE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Hv.FAILED_PRECONDITION||e.code===Hv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function fI(e){return function(e){return e.asyncQueue.enqueue(An(In().mark((function t(){var n,r;return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,DE(e);case 2:return n=t.sent,t.next=5,RE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Wv(e);return t.lu.delete(0),oS(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sI(e=HE(e,uI)))}function hI(e){return function(e){return e.asyncQueue.enqueue(An(In().mark((function t(){var n,r;return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,DE(e);case 2:return n=t.sent,t.next=5,RE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Wv(t)).lu.add(0),e.next=4,sS(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sI(e=HE(e,uI)))}function dI(e,t){var n=sI(e=HE(e,uI)),r=new oI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new bE(e,t)}(function(e,t){if(e instanceof Uint8Array)return gE(e,t);if(e instanceof ArrayBuffer)return gE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Yx(t));e.asyncQueue.enqueueAndForget(An(In().mark((function t(){return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dE,t.next=3,LE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function pI(e,t){return function(e,t){return e.asyncQueue.enqueue(An(In().mark((function n(){return In().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Wv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,PE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sI(e=HE(e,uI)),t).then((function(t){return t?new YE(e,null,t.query):null}))}function vI(e){if(e._initialized||e._terminated)throw new Gv(Hv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mI=function(){function e(){Ft(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Gv(Hv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dm(n)}return jt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var yI=function(){function e(t){Ft(this,e),this._byteString=t}return jt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Jm.fromBase64String(t))}catch(t){throw new Gv(Hv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Jm.fromUint8Array(t))}}]),e}(),gI=jt((function e(t){Ft(this,e),this._methodName=t})),kI=function(){function e(t,n){if(Ft(this,e),!isFinite(t)||t<-90||t>90)throw new Gv(Hv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Gv(Hv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return jt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return am(this._lat,e._lat)||am(this._long,e._long)}}]),e}(),bI=/^__.*__$/,wI=function(){function e(t,n,r){Ft(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return jt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Kg(e,this.data,this.fieldMask,t,this.fieldTransforms):new qg(e,this.data,t,this.fieldTransforms)}}]),e}(),xI=function(){function e(t,n,r){Ft(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return jt(e,[{key:"toMutation",value:function(e,t){return new Kg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function SI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qv()}}var _I=function(){function e(t,n,r,i,a,o){Ft(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return jt(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return KI(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(SI(this.Zc)&&bI.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),EI=function(){function e(t,n,r){Ft(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Yx(t)}return jt(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _I({Zc:e,methodName:t,ca:n,path:dm.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function II(e){var t=e._freezeSettings(),n=Yx(e._databaseId);return new EI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function TI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);UI("Data must be an object, but it was:",o,r);var u,s,c=jI(r,o);if(a.merge)u=new Qm(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ut(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=BI(t,d,n);if(!o.contains(p))throw new Gv(Hv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));WI(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Qm(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new wI(new Oy(c),u,s)}var CI=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.apply(this,arguments)}return jt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gI);function AI(e,t,n){return new _I({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var NI=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.apply(this,arguments)}return jt(n,[{key:"_toFieldTransform",value:function(e){return new Pg(e.path,new Eg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gI),OI=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this,e)).ha=r,i}return jt(n,[{key:"_toFieldTransform",value:function(e){var t=AI(this,e,!0),n=this.ha.map((function(e){return MI(e,t)})),r=new Ig(n);return new Pg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gI),DI=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this,e)).ha=r,i}return jt(n,[{key:"_toFieldTransform",value:function(e){var t=AI(this,e,!0),n=this.ha.map((function(e){return MI(e,t)})),r=new Cg(n);return new Pg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gI),PI=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this,e)).la=r,i}return jt(n,[{key:"_toFieldTransform",value:function(e){var t=new Ng(e.wt,bg(e.wt,this.la));return new Pg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gI);function RI(e,t,n,r){var i=e.aa(1,t,n);UI("Data must be an object, but it was:",i,r);var a=[],o=Oy.empty();zm(r,(function(e,r){var u=qI(t,e,n);r=En(r);var s=i.ia(u);if(r instanceof CI)a.push(u);else{var c=MI(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Qm(a);return new xI(o,u,i.fieldTransforms)}function LI(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[BI(t,r,n)],s=[i];if(a.length%2!=0)throw new Gv(Hv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(BI(t,a[c])),s.push(a[c+1]);for(var l=[],f=Oy.empty(),h=u.length-1;h>=0;--h)if(!WI(l,u[h])){var d=u[h],p=s[h];p=En(p);var v=o.ia(d);if(p instanceof CI)l.push(d);else{var m=MI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Qm(l);return new xI(f,y,o.fieldTransforms)}function FI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return MI(n,e.aa(r?4:3,t))}function MI(e,t){if(VI(e=En(e)))return UI("Unsupported field value:",t,e),jI(e,t);if(e instanceof gI)return function(e,t){if(!SI(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ut(e);try{for(a.s();!(n=a.n()).done;){var o=MI(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=En(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bg(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=sm.fromDate(e);return{timestampValue:Tk(t.wt,n)}}if(e instanceof sm){var r=new sm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tk(t.wt,r)}}if(e instanceof kI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yI)return{bytesValue:Ck(t.wt,e._byteString)};if(e instanceof JE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Ok(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(WE(e)))}(e,t)}function jI(e,t){var n={};return qm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zm(e,(function(e,r){var i=MI(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function VI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sm||e instanceof kI||e instanceof yI||e instanceof JE||e instanceof gI)}function UI(e,t,n){if(!VI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=WE(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function BI(e,t,n){if((t=En(t))instanceof mI)return t._internalPath;if("string"==typeof t)return qI(e,t);throw KI("Field path arguments must be of type string or ",e,!1,void 0,n)}var zI=new RegExp("[~\\*/\\[\\]]");function qI(e,t,n){if(t.search(zI)>=0)throw KI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return $t(mI,(0,Tn.Z)(t.split(".")))._internalPath}catch(r){throw KI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function KI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Gv(Hv.INVALID_ARGUMENT,u+e+s)}function WI(e,t){return e.some((function(e){return e.isEqual(t)}))}var HI=function(){function e(t,n,r,i,a){Ft(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return jt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new JE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new GI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ZI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),GI=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.apply(this,arguments)}return jt(n,[{key:"data",value:function(){return oi(Kt(n.prototype),"data",this).call(this)}}]),n}(HI);function ZI(e,t){return"string"==typeof t?qI(e,t):t instanceof mI?t._internalPath:t._delegate._internalPath}var $I=function(){function e(t,n){Ft(this,e),this.hasPendingWrites=t,this.fromCache=n}return jt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),QI=function(e){qt(n,e);var t=Zt(n);function n(e,r,i,a,o,u){var s;return Ft(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return jt(n,[{key:"exists",value:function(){return oi(Kt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new JI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ZI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(HI),JI=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.apply(this,arguments)}return jt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return oi(Kt(n.prototype),"data",this).call(this,e)}}]),n}(QI),YI=function(){function e(t,n,r,i){Ft(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new $I(i.hasPendingWrites,i.fromCache),this.query=r}return jt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new JI(n._firestore,n._userDataWriter,r.key,r,new $I(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Gv(Hv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new JI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $I(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new JI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $I(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:XI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function XI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qv()}}function eT(e,t){return e instanceof QI&&t instanceof QI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof YI&&t instanceof YI&&e._firestore===t._firestore&&rI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function tT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Gv(Hv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nT=jt((function e(){Ft(this,e)}));function rT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var iT=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){var a;return Ft(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return jt(n,[{key:"_apply",value:function(e){var t=II(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Gv(Hv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){vT(o,a);var s,c=[],l=Ut(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(pT(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=pT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||vT(o,a),u=FI(n,"where",o,"in"===a||"not-in"===a);var h=zy.create(i,a,u);return function(e,t){if(t.ht()){var n=og(e);if(null!==n&&!n.isEqual(t.field))throw new Gv(Hv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=ag(e);null!==r&&mT(e,t.field,r)}var i=function(e,t){var n,r=Ut(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Gv(Hv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Gv(Hv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new YE(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ng(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(nT);var aT=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return jt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Gv(Hv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Gv(Hv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yy(t,n);return function(e,t){if(null===ag(e)){var n=og(e);null!==n&&mT(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new YE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ng(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(nT);var oT=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){var a;return Ft(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return jt(n,[{key:"_apply",value:function(e){return new YE(e.firestore,e.converter,lg(e._query,this.ma,this.ga))}}]),n}(nT);var uT=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){var a;return Ft(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return jt(n,[{key:"_apply",value:function(e){var t=dT(e,this.type,this.ya,this.pa);return new YE(e.firestore,e.converter,function(e,t){return new ng(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(nT);function sT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uT("startAt",t,!0)}function cT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uT("startAfter",t,!1)}var lT=function(e){qt(n,e);var t=Zt(n);function n(e,r,i){var a;return Ft(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return jt(n,[{key:"_apply",value:function(e){var t=dT(e,this.type,this.ya,this.pa);return new YE(e.firestore,e.converter,function(e,t){return new ng(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(nT);function fT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lT("endBefore",t,!1)}function hT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lT("endAt",t,!0)}function dT(e,t,n,r){if(n[0]=En(n[0]),n[0]instanceof HI)return function(e,t,n,r,i){if(!r)throw new Gv(Hv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Ut(sg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ky(t,r.key));else{var c=r.data.field(s.field);if(ny(c))throw new Gv(Hv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Gv(Hv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Jy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=II(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Gv(Hv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Gv(Hv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ug(e)&&-1!==c.indexOf("/"))throw new Gv(Hv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(fm.fromString(c));if(!pm.isDocumentKey(l))throw new Gv(Hv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new pm(l);u.push(ky(t,f))}else{var h=FI(n,r,c);u.push(h)}}return new Jy(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function pT(e,t,n){if("string"==typeof(n=En(n))){if(""===n)throw new Gv(Hv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ug(t)&&-1!==n.indexOf("/"))throw new Gv(Hv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(fm.fromString(n));if(!pm.isDocumentKey(r))throw new Gv(Hv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ky(e,new pm(r))}if(n instanceof JE)return ky(e,n._key);throw new Gv(Hv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(WE(n),"."))}function vT(e,t){if(!Array.isArray(e)||0===e.length)throw new Gv(Hv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Gv(Hv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function mT(e,t,n){if(!n.isEqual(t))throw new Gv(Hv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var yT={maxAttempts:5},gT=function(){function e(){Ft(this,e)}return jt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(hy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ey(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ty(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return zm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new kI(ey(e.latitude),ey(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ry(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(iy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Xm(e);return new sm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=fm.fromString(e);Kv(tb(n));var r=new oy(n.get(1),n.get(3)),i=new pm(n.popFirst(5));return r.isEqual(t)||Uv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function kT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var bT=function(e){qt(n,e);var t=Zt(n);function n(e){var r;return Ft(this,n),(r=t.call(this)).firestore=e,r}return jt(n,[{key:"convertBytes",value:function(e){return new yI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new JE(this.firestore,null,t)}}]),n}(gT),wT=function(){function e(t,n){Ft(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=II(t)}return jt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=xT(e,this._firestore),i=kT(r.converter,t,n),a=TI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Lg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=xT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=En(t))||t instanceof mI?LI(this._dataReader,"WriteBatch.update",i._key,t,n,o):RI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Lg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=xT(e,this._firestore);return this._mutations=this._mutations.concat(new Qg(t._key,Lg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Gv(Hv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function xT(e,t){if((e=En(e)).firestore!==t)throw new Gv(Hv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ST=function(e){qt(n,e);var t=Zt(n);function n(e){var r;return Ft(this,n),(r=t.call(this)).firestore=e,r}return jt(n,[{key:"convertBytes",value:function(e){return new yI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new JE(this.firestore,null,t)}}]),n}(gT);function _T(e){e=HE(e,JE);var t=HE(e.firestore,uI),n=sI(t),r=new ST(t);return function(e,t){var n=new Zv;return e.asyncQueue.enqueueAndForget(An(In().mark((function r(){return In().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=An(In().mark((function e(t,n,r){var i,a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Wv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Gv(Hv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ZS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,PE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new QI(t,r,e._key,n,new $I(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function ET(e){e=HE(e,YE);var t=HE(e.firestore,uI),n=sI(t),r=new ST(t);return function(e,t){var n=new Zv;return e.asyncQueue.enqueueAndForget(An(In().mark((function r(){return In().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=An(In().mark((function e(t,n,r){var i,a,o,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tx(t,n,!0);case 3:i=e.sent,a=new p_(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=ZS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,PE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new YI(t,r,e,n)}))}function IT(e,t,n){e=HE(e,JE);var r=HE(e.firestore,uI),i=kT(e.converter,t,n);return NT(r,[TI(II(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Lg.none())])}function TT(e,t,n){e=HE(e,JE);for(var r=HE(e.firestore,uI),i=II(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return NT(r,[("string"==typeof(t=En(t))||t instanceof mI?LI(i,"updateDoc",e._key,t,n,o):RI(i,"updateDoc",e._key,t)).toMutation(e._key,Lg.exists(!0))])}function CT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=En(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||aI(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(aI(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof JE)l=HE(e.firestore,uI),f=ig(e._key.path),c={next:function(t){n[s]&&n[s](OT(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=HE(e,YE);l=HE(p.firestore,uI),f=p._query;var v=new ST(l);c={next:function(e){n[s]&&n[s](new YI(l,v,p,e))},error:n[s+1],complete:n[s+2]},tT(e._query)}return function(e,t,n,r){var i=new kE(r),a=new u_(t,i,n);return e.asyncQueue.enqueueAndForget(An(In().mark((function t(){return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e_,t.next=3,FE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(An(In().mark((function t(){return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n_,t.next=3,FE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sI(l),f,h,c)}function AT(e,t){return function(e,t){var n=new kE(t);return e.asyncQueue.enqueueAndForget(An(In().mark((function t(){return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Wv(e).Tu.add(t),t.next()},t.next=3,FE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(An(In().mark((function t(){return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Wv(e).Tu.delete(t)},t.next=3,FE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sI(e=HE(e,uI)),aI(t)?t:{next:t})}function NT(e,t){return function(e,t){var n=new Zv;return e.asyncQueue.enqueueAndForget(An(In().mark((function r(){return In().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=__,r.next=3,LE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sI(e),t)}function OT(e,t,n){var r=n.docs.get(t._key),i=new ST(e);return new QI(e,i,t._key,r,new $I(n.hasPendingWrites,n.fromCache),t.converter)}var DT=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this,e,r))._firestore=e,i}return jt(n,[{key:"get",value:function(e){var t=this,r=xT(e,this._firestore),i=new ST(this._firestore);return oi(Kt(n.prototype),"get",this).call(this,e).then((function(e){return new QI(t._firestore,i,r._key,e._document,new $I(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ft(this,e),this._firestore=t,this._transaction=n,this._dataReader=II(t)}return jt(e,[{key:"get",value:function(e){var t=this,n=xT(e,this._firestore),r=new bT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return qv();var i=e[0];if(i.isFoundDocument())return new HI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new HI(t._firestore,r,n._key,null,n.converter);throw qv()}))}},{key:"set",value:function(e,t,n){var r=xT(e,this._firestore),i=kT(r.converter,t,n),a=TI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=xT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=En(t))||t instanceof mI?LI(this._dataReader,"Transaction.update",i._key,t,n,o):RI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=xT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function PT(e,t,n){e=HE(e,uI);var r=Object.assign(Object.assign({},yT),n);return function(e){if(e.maxAttempts<1)throw new Gv(Hv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Zv;return e.asyncQueue.enqueueAndForget(An(In().mark((function i(){var a;return In().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return NE(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new xE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(sI(e),(function(n){return t(new DT(e,n))}),r)}function RT(){return new NI("serverTimestamp")}function LT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OI("arrayUnion",t)}function FT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Fv=e}(Er),gr(new Nn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new uI(i,new Yv(e.getProvider("auth-internal")),new nm(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Or(Rv,"3.4.12",e),Or(Rv,"3.4.12","esm2017")}();function MT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Gv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function jT(){if("undefined"===typeof Uint8Array)throw new Gv("unimplemented","Uint8Arrays are not available in this environment.")}function VT(){if("undefined"==typeof atob)throw new Gv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var UT=function(){function e(t){Ft(this,e),this._delegate=t}return jt(e,[{key:"toBase64",value:function(){return VT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return jT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return VT(),new e(yI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return jT(),new e(yI.fromUint8Array(t))}}]),e}();function BT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ut(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var zT=function(){function e(){Ft(this,e)}return jt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){vI(e=HE(e,uI));var n=sI(e),r=e._freezeSettings(),i=new yE;return lI(n,i,new vE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){vI(e=HE(e,uI));var t=sI(e),n=e._freezeSettings(),r=new yE;return lI(t,r,new mE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Gv(Hv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Zv;return e._queue.enqueueAndForgetEvenWhileRestricted(An(In().mark((function n(){return In().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nm.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Nm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(hx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),qT=function(){function e(t,n,r){var i=this;Ft(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof oy||(this._appCompat=t)}return jt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Bv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};QE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return fI(this._delegate)}},{key:"disableNetwork",value:function(){return hI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&zE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Zv;return e.asyncQueue.enqueueAndForget(An(In().mark((function n(){return In().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=L_,n.next=3,LE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sI(e=HE(e,uI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return AT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Gv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new rC(this,eI(this._delegate,e))}catch(t){throw $T(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new ZT(this,tI(this._delegate,e))}catch(t){throw $T(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new eC(this,function(e,t){if(e=HE(e,$E),BE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Gv(Hv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new YE(e,null,function(e){return new ng(fm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw $T(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return PT(this._delegate,(function(n){return e(new WT(t,n))}))}},{key:"batch",value:function(){var e=this;return sI(this._delegate),new HT(new wT(this._delegate,(function(t){return NT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return dI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return pI(this._delegate,e).then((function(e){return e?new eC(t,e):null}))}}]),e}(),KT=function(e){qt(n,e);var t=Zt(n);function n(e){var r;return Ft(this,n),(r=t.call(this)).firestore=e,r}return jt(n,[{key:"convertBytes",value:function(e){return new UT(new yI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ZT.forKey(t,this.firestore,null)}}]),n}(gT);var WT=function(){function e(t,n){Ft(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new KT(t)}return jt(e,[{key:"get",value:function(e){var t=this,n=iC(e);return this._delegate.get(n).then((function(e){return new YT(t._firestore,new QI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=iC(e);return n?(MT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=iC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=iC(e);return this._delegate.delete(t),this}}]),e}(),HT=function(){function e(t){Ft(this,e),this._delegate=t}return jt(e,[{key:"set",value:function(e,t,n){var r=iC(e);return n?(MT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=iC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=iC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),GT=function(){function e(t,n,r){Ft(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return jt(e,[{key:"fromFirestore",value:function(e,t){var n=new JI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new KT(t),n),i.set(n,a)),a}}]),e}();GT.INSTANCES=new WeakMap;var ZT=function(){function e(t,n){Ft(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new KT(t)}return jt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new rC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new rC(this.firestore,eI(this._delegate,e))}catch(t){throw $T(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=En(e))instanceof JE&&nI(this._delegate,e)}},{key:"set",value:function(e,t){t=MT("DocumentReference.set",t);try{return t?IT(this._delegate,e,t):IT(this._delegate,e)}catch(n){throw $T(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?TT(this._delegate,e):TT.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw $T(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return NT(HE(e.firestore,uI),[new Qg(e._key,Lg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QT(n),a=JT(n,(function(t){return new YT(e.firestore,new QI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return CT(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_T(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=HE(e,JE);var t=HE(e.firestore,uI);return jE(sI(t),e._key,{source:"server"}).then((function(n){return OT(t,e,n)}))}(this._delegate):function(e){e=HE(e,JE);var t=HE(e.firestore,uI);return jE(sI(t),e._key).then((function(n){return OT(t,e,n)}))}(this._delegate),t.then((function(e){return new YT(n.firestore,new QI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(GT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Gv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new JE(n._delegate,r,new pm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new JE(n._delegate,r,t))}}]),e}();function $T(e,t,n){return e.message=e.message.replace(t,n),e}function QT(e){var t,n=Ut(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!BT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function JT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=BT(e[0])?e[0]:BT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var YT=function(){function e(t,n){Ft(this,e),this._firestore=t,this._delegate=n}return jt(e,[{key:"ref",get:function(){return new ZT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return eT(this._delegate,e._delegate)}}]),e}(),XT=function(e){qt(n,e);var t=Zt(n);function n(){return Ft(this,n),t.apply(this,arguments)}return jt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||qv()}(void 0!==t),t}}]),n}(YT),eC=function(){function e(t,n){Ft(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new KT(t)}return jt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,rT(this._delegate,function(e,t,n){var r=t,i=ZI("where",e);return new iT(i,r,n)}(t,n,r)))}catch(i){throw $T(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,rT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ZI("orderBy",e);return new aT(n,t)}(t,n)))}catch(r){throw $T(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,rT(this._delegate,function(e){return GE("limit",e),new oT("limit",e,"F")}(t)))}catch(n){throw $T(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,rT(this._delegate,function(e){return GE("limitToLast",e),new oT("limitToLast",e,"L")}(t)))}catch(n){throw $T(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,rT(this._delegate,sT.apply(void 0,arguments)))}catch(t){throw $T(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,rT(this._delegate,cT.apply(void 0,arguments)))}catch(t){throw $T(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,rT(this._delegate,fT.apply(void 0,arguments)))}catch(t){throw $T(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,rT(this._delegate,hT.apply(void 0,arguments)))}catch(t){throw $T(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return rI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ET(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=HE(e,YE);var t=HE(e.firestore,uI),n=sI(t),r=new ST(t);return VE(n,e._query,{source:"server"}).then((function(n){return new YI(t,r,e,n)}))}(this._delegate):function(e){e=HE(e,YE);var t=HE(e.firestore,uI),n=sI(t),r=new ST(t);return tT(e._query),VE(n,e._query).then((function(n){return new YI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new nC(n.firestore,new YI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QT(n),a=JT(n,(function(t){return new nC(e.firestore,new YI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return CT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(GT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),tC=function(){function e(t,n){Ft(this,e),this._firestore=t,this._delegate=n}return jt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new XT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),nC=function(){function e(t,n){Ft(this,e),this._firestore=t,this._delegate=n}return jt(e,[{key:"query",get:function(){return new eC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new XT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new tC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new XT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return eT(this._delegate,e._delegate)}}]),e}(),rC=function(e){qt(n,e);var t=Zt(n);function n(e,r){var i;return Ft(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return jt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new ZT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new ZT(this.firestore,void 0===e?tI(this._delegate):tI(this._delegate,e))}catch(t){throw $T(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=HE(e.firestore,uI),r=tI(e),i=kT(e.converter,t);return NT(n,[TI(II(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Lg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ZT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return nI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(GT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(eC);function iC(e){return HE(e,JE)}var aC=function(){function e(){Ft(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=$t(mI,n)}return jt(e,[{key:"isEqual",value:function(e){return(e=En(e))instanceof mI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(dm.keyField().canonicalString())}}]),e}(),oC=function(){function e(t){Ft(this,e),this._delegate=t}return jt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=RT();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new CI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=LT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=FT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new PI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),uC={Firestore:qT,GeoPoint:kI,Timestamp:sm,Blob:UT,Transaction:WT,WriteBatch:HT,DocumentReference:ZT,DocumentSnapshot:YT,Query:eC,QueryDocumentSnapshot:XT,QuerySnapshot:nC,CollectionReference:rC,FieldPath:aC,FieldValue:oC,setLogLevel:function(e){!function(e){Mv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Nn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},uC)))}(e,(function(e,t){return new qT(e,t,new zT)})),e.registerVersion("@firebase/firestore-compat","0.1.21")}(ti);var sC,cC,lC,fC,hC,dC,pC,vC,mC,yC,gC,kC,bC,wC,xC,SC,_C,EC,IC,TC,CC,AC,NC=ti.initializeApp({apiKey:"AIzaSyAiIGjxPgUYgA1bSUbXllEd5K2hpn1tg1g",authDomain:"spotifysideproject.firebaseapp.com",projectId:"spotifysideproject",storageBucket:"spotifysideproject.appspot.com",messagingSenderId:"410774068850",appId:"1:410774068850:web:7bfbb92d1bd0b2f6dd2ceb"}).firestore(),OC=_t.div(sC||(sC=Q(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n\n"]))),DC=_t.button(cC||(cC=Q(["\n    width: 30%;\n    border-radius: 2rem;\n    padding: 20px 20px;\n    background: linear-gradient(90deg, rgba(107,207,46,1) 1%, rgba(223,217,52,1) 42%, rgba(166,238,58,1) 85%);\n    color: #000000;\n    font-size: 22px;\n    font-family: 'Josefin Sans', sans-serif;\n    cursor: pointer;\n    border: 2px solid #000000;\n    transition: all 0.2s ease;\n\n    \n    &:hover {\n        transform: scale(1.05);\n        background: linear-gradient(342deg, rgba(180,58,141,1) 18%, rgba(48,110,236,1) 52%, rgba(90,199,245,1) 79%);\n\n    }\n    \n"]))),PC=function(){var e=Ot(),t=e.accessToken,n=e.setAccessToken,i=(e.refreshToken,e.setRefreshToken,e.spotifyId),a=e.setSpotifyId,o=L(),u=new(Pt());return(0,r.useEffect)((function(){if(window.location.search){var e=new URLSearchParams(window.location.search).get("access_token");e&&(n(e),u.setAccessToken(t),u.getMe().then((function(e){a(e.uri),NC.collection("userData").doc(i).set({userId:i},{merge:!0})})).catch((function(e){console.log(e)})),o("/home"))}})),(0,Tt.jsxs)(OC,{children:[(0,Tt.jsx)("img",{width:"300",height:"100",style:{marginBottom:"20px"},src:Rt}),(0,Tt.jsx)(DC,{onClick:function(){window.location="https://music-digestify.herokuapp.com"},children:"Login With Spotify"})]})},RC=n(3154),LC=n(2714),FC=_t.div(lC||(lC=Q(["\n    width: 100vw;\n    display: inline-block;\n    margin-top: 30px;\n"]))),MC=_t.div(fC||(fC=Q(["\n    width: 100%;\n    display: flex;\n    text-align: right;\n    float: left;\n    align-items: center;\n"]))),jC=_t.div(hC||(hC=Q(["\n    width: 40px;\n    background-color: #1DB954;\n    display: grid;\n    place-items: right;\n    cursor: pointer;\n    text-align: right;\n    border-radius: 3rem;\n    float: right;\n    transition: all 0.2s ease;\n    \n    &:hover {\n        transform: scale(1.10);\n"]))),VC=_t.div(dC||(dC=Q(["\n    width: 40px;\n    background-color: #1DB954;\n    display: grid;\n    place-items: right;\n    cursor: pointer;\n    text-align: right;\n    border-radius: 3rem;\n    float: right;\n    margin: auto 5px;\n    transition: all 0.2s ease;\n    \n    &:hover {\n        transform: scale(1.05);\n"]))),UC=_t.div(pC||(pC=Q(["\n    display: block;\n    text-align: left;\n    justify-content: center;\n    display: flex;\n    float: right;\n"]))),BC=_t.div(vC||(vC=Q(["\n    display: block;\n    text-align: left;\n    justify-content: center;\n    margin: auto 2px;\n"]))),zC=_t.div(mC||(mC=Q(["\n    flex: 6;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: right;\n    height: 90px;\n"]))),qC=_t.div(yC||(yC=Q(["\n    flex: 4;\n    display: block;\n    align-items: center;\n    text-align: right;\n"]))),KC=_t.div(gC||(gC=Q(["\n    flex: 2;\n    justify-content: center;\n    align-items: left;\n    text-align: left;   \n"]))),WC=_t.label(kC||(kC=Q(["\n    font-size: 56px;\n    padding: 15px 10px;\n    font-family: 'Secular One', sans-serif;\n    color: #FFFFFF;\n"]))),HC=_t.div(bC||(bC=Q(["\n    width: 100vw;\n    height: 500px;\n    justify-content: center;\n    align-items: center;\n    display: inline-block;\n"]))),GC=_t.div(wC||(wC=Q(["\n    width: 375px;\n    height: 475px;\n\n    display: inline-block;\n    margin: 20px 60px 20px 10px;\n    align-items: center;\n    justify-content: center;\n    float: left;\n    text-align:center;\n    \n\n\n"]))),ZC=_t.div(xC||(xC=Q(["\n    width: 375px;\n    height: 475px;\n    display: inline-block;\n    margin: 20px 60px 20px 10px;\n    align-items: center;\n    justify-content: center;\n    float: left;\n    text-align:center;\n\n"]))),$C=_t.div(SC||(SC=Q(["\n    width: 375px;\n    height: 475px;\n    display: inline-block;\n    margin: 20px 0px 20px 10px;\n    align-items: center;\n    justify-content: center;\n    float: left;\n    text-align:center;\n\n"]))),QC=_t.label(_C||(_C=Q(["\n    font-size: 16px;\n    padding: 5px 10px;\n    font-family: 'Karla', sans-serif;\n    font-weight: bold;\n    color: #FFFFFF;\n    display: block;\n"]))),JC=_t.label(EC||(EC=Q(["\n    font-size: 16px;\n    padding: 5px 10px;\n    font-family: 'Syne', sans-serif;\n    font-weight: bold;\n    color: #FFFFFF;\n    display: block;\n"]))),YC=_t.table(IC||(IC=Q(["\n    width: 375px;\n    border-radius: 1rem;\n    padding: 10px;\n    margin: 10px;\n    text-align:left;\n    margin: 2px auto;\n    background: linear-gradient(90deg, #d53369 0%, #daae51 100%);\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.99);\n"]))),XC=_t.tbody(TC||(TC=Q(["\n    display: block;\n    max-height: 375px;\n    overflow-y: auto;\n    border-radius: 1rem;\n    padding: 5px;\n\n"]))),eA=_t.tr(CC||(CC=Q(["\n    height: 80px;\n    cursor: pointer;\n    &:hover {\n        background-color: lightgrey;\n    }\n"]))),tA=_t.td(AC||(AC=Q(["\n    width: 375px;\n\n"]))),nA=function(){var e,t,n,i=Ot().accessToken,o=new(Pt());o.setAccessToken(i);var u=(0,r.useState)({}),s=(0,a.Z)(u,2),c=s[0],l=s[1],f=(0,r.useState)([]),h=(0,a.Z)(f,2),d=h[0],p=h[1],v=(0,r.useState)([]),m=(0,a.Z)(v,2),y=m[0],g=m[1],k=(0,r.useState)([]),b=(0,a.Z)(k,2),w=b[0],x=b[1],S=(0,r.useState)(null),_=(0,a.Z)(S,2),E=_[0],I=_[1],T=L();return(0,r.useEffect)((function(){It().get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+i}}).then((function(e){console.log(e),l(e.data)})).catch((function(e){console.log(e)})),It().get("https://api.spotify.com/v1/me/player/recently-played",{params:{limit:10},headers:{Authorization:"Bearer "+i}}).then((function(e){console.log(e),p(e.data.items)})).catch((function(e){console.log(e)})),It().get("https://api.spotify.com/v1/me/top/tracks",{params:{limit:10,time_range:"short_term"},headers:{Authorization:"Bearer "+i}}).then((function(e){console.log(e),x(e.data.items)})).catch((function(e){console.log(e)})),o.getMyTopArtists({limit:10}).then((function(e){console.log(e.items),g(e.items)})).catch((function(e){console.log(e)})),o.getMyCurrentPlayingTrack().then((function(e){console.log("current playing track"),e?(console.log("there's a respo"),console.log(e),I(e)):(I(null),console.log("no response"))}))}),[]),(0,Tt.jsxs)(FC,{children:[(0,Tt.jsxs)(MC,{children:[(0,Tt.jsxs)(zC,{className:"ProfileInfoLeft",children:[null!=E&&(0,Tt.jsxs)(UC,{children:[(0,Tt.jsx)(QC,{style:{margin:"auto 10px",padding:"0"},children:"Currently Playing:"}),(0,Tt.jsx)("img",{width:"90",height:"90",style:{borderRadius:"10px"},src:E.item.album.images[0].url,alt:"Track Photo"}),(0,Tt.jsxs)(BC,{children:[(0,Tt.jsx)(QC,{children:E.item.name}),(0,Tt.jsx)(QC,{style:{fontStyle:"italic",fontSize:"14px"},children:E.item.artists[0].name})]})]}),(0,Tt.jsx)(VC,{onClick:function(){console.log("Trying to pause the playback"),o.pause().then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:(0,Tt.jsx)(LC.Z,{style:{fontSize:"40px"}})}),(0,Tt.jsx)(jC,{onClick:function(){console.log("inside playback"),o.play().then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},className:"PlaybackControlDiv",children:(0,Tt.jsx)(RC.Z,{style:{fontSize:"40px"}})})]}),(0,Tt.jsxs)(qC,{children:[(0,Tt.jsx)(WC,{children:c.display_name}),(0,Tt.jsx)(QC,{children:c.email}),(0,Tt.jsxs)(QC,{children:["spotify followers: ",null===(e=c.followers)||void 0===e?void 0:e.total]}),(0,Tt.jsx)("a",{href:null===(t=c.external_urls)||void 0===t?void 0:t.spotify,style:{color:"#1DB954",fontSize:"16px",padding:"5px 10px",fontFamily:"Optima, sans-serif",fontWeight:"bold"},children:"my spotify account"})]}),(0,Tt.jsx)(KC,{children:null===(n=c.images)||void 0===n?void 0:n.map((function(e){return(0,Tt.jsx)("img",{style:{borderRadius:"50%",width:"150px"},src:e.url,alt:"Profile Pic"},e.url)}))})]}),(0,Tt.jsxs)(HC,{children:[(0,Tt.jsxs)(GC,{children:[(0,Tt.jsx)(WC,{style:{fontSize:"24px"},children:"recently played"}),(0,Tt.jsx)(YC,{children:(0,Tt.jsx)(XC,{children:null===d||void 0===d?void 0:d.map((function(e){return(0,Tt.jsxs)(eA,{onClick:function(){return T("/musicEntry/"+e.track.id)},children:[(0,Tt.jsx)(tA,{style:{width:"80px",height:"80px"},children:(0,Tt.jsx)("img",{style:{borderRadius:"10px"},src:e.track.album.images[0].url,alt:"Track Photo",width:"80",height:"80"})}),(0,Tt.jsxs)(tA,{children:[(0,Tt.jsx)(JC,{onClick:function(){return T("/musicEntry/"+e.track.id)},style:{cursor:"pointer",color:"#000000"},children:e.track.name}),(0,Tt.jsx)(QC,{style:{fontSize:"14px",fontStyle:"italic",color:"#FFFFFF"},children:e.track.artists[0].name})]})]},e.track.id)}))})})]}),(0,Tt.jsxs)(ZC,{children:[(0,Tt.jsx)(WC,{style:{fontSize:"24px"},children:"my top songs"}),(0,Tt.jsx)(WC,{style:{display:"inline-block",fontSize:"12px",padding:"0px"},children:"(last month)"}),(0,Tt.jsx)(YC,{style:{background:"linear-gradient(342deg, rgba(253,187,45,1) 21%, rgba(253,187,45,1) 21%, rgba(34,182,195,1) 99%)"},children:(0,Tt.jsx)(XC,{children:null===w||void 0===w?void 0:w.map((function(e){var t;return(0,Tt.jsxs)(eA,{onClick:function(){return T("/musicEntry/"+e.id)},children:[(0,Tt.jsx)(tA,{style:{width:"80px",height:"80px"},children:(0,Tt.jsx)("img",{style:{borderRadius:"10px"},src:null===(t=e.album)||void 0===t?void 0:t.images[0].url,alt:"Track Photo",width:"80",height:"80"})}),(0,Tt.jsxs)(tA,{children:[(0,Tt.jsx)(JC,{onClick:function(){return T("/musicEntry/"+e.id)},style:{cursor:"pointer",color:"#000000"},children:e.name}),(0,Tt.jsx)(QC,{style:{fontSize:"14px",fontStyle:"italic",color:"#FFFFFF"},children:e.artists[0].name})]})]},e.id)}))})})]}),(0,Tt.jsxs)($C,{children:[(0,Tt.jsx)(WC,{style:{fontSize:"24px"},children:"my top artists"}),(0,Tt.jsx)(YC,{style:{background:"linear-gradient(90deg, #f8ff00 0%, #3ad59f 100%)"},children:(0,Tt.jsx)(XC,{children:null===y||void 0===y?void 0:y.map((function(e){return(0,Tt.jsxs)(eA,{onClick:function(){return T("/artist/"+e.id)},children:[(0,Tt.jsx)(tA,{style:{width:"80px",height:"80px"},children:(0,Tt.jsx)("img",{style:{borderRadius:"10px"},src:e.images[0].url,alt:"Artist Photo",width:"80",height:"80"})}),(0,Tt.jsx)(tA,{children:(0,Tt.jsx)(JC,{onClick:function(){return T("/artist/"+e.id)},style:{cursor:"pointer",color:"#000000"},children:e.name})})]},e.id)}))})})]})]})]})},rA=n(5112),iA=n(3366);function aA(e,t){if(null==e)return{};var n,r,i=(0,iA.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oA=["name"],uA=["_f"],sA=["_f"],cA=function(e){return"checkbox"===e.type},lA=function(e){return e instanceof Date},fA=function(e){return null==e},hA=function(e){return"object"===typeof e},dA=function(e){return!fA(e)&&!Array.isArray(e)&&hA(e)&&!lA(e)},pA=function(e){return dA(e)&&e.target?cA(e.target)?e.target.checked:e.target.value:e},vA=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},mA=function(e){return Array.isArray(e)?e.filter(Boolean):[]},yA=function(e){return void 0===e},gA=function(e,t,n){if(!t||!dA(e))return n;var r=mA(t.split(/[,[\].]+?/)).reduce((function(e,t){return fA(e)?e:e[t]}),e);return yA(r)||r===e?yA(e[t])?n:e[t]:r},kA="blur",bA="focusout",wA="onBlur",xA="onChange",SA="onSubmit",_A="onTouched",EA="all",IA="max",TA="min",CA="maxLength",AA="minLength",NA="pattern",OA="required",DA="validate",PA=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t[i]!==EA&&(t[i]=!r||EA),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),RA=function(e){return dA(e)&&!Object.keys(e).length},LA=function(e,t,n){e.name;var r=aA(e,oA);return RA(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||EA)}))},FA=function(e){return Array.isArray(e)?e:[e]};function MA(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return function(){return function(e){e&&e.unsubscribe()}(n)}}),[e.disabled])}var jA=function(e){return"string"===typeof e},VA=function(e,t,n,r){var i=Array.isArray(e);return jA(e)?(r&&t.watch.add(e),gA(n,e)):i?e.map((function(e){return r&&t.watch.add(e),gA(n,e)})):(r&&(t.watchAll=!0),n)},UA=function(e){return"function"===typeof e},BA=function(e){for(var t in e)if(UA(e[t]))return!0;return!1};var zA=function(e,t,n,r,i){return t?qn(qn({},n[e]),{},{types:qn(qn({},n[e]&&n[e].types?n[e].types:{}),{},(0,Lt.Z)({},r,i||!0))}):{}},qA=function(e){return/^\w*$/.test(e)},KA=function(e){return mA(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function WA(e,t,n){for(var r=-1,i=qA(t)?[t]:KA(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=dA(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var HA=function e(t,n,r){var i,a=Ut(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=gA(t,o);if(u){var s=u._f,c=aA(u,uA);if(s&&n(s.name)){if(s.ref.focus&&yA(s.ref.focus()))break;if(s.refs){s.refs[0].focus();break}}else dA(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},GA=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||(0,Tn.Z)(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))};var ZA="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function $A(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(ZA&&(e instanceof Blob||e instanceof FileList)||!n&&!dA(e))return e;for(var r in t=n?[]:{},e){if(UA(e[r])){t=e;break}t[r]=$A(e[r])}}return t}function QA(e,t){var n,r=qA(t)?[t]:KA(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=yA(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var u=-1,s=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++u<c.length;){var f=c[u];s=s?s[f]:e[f],l===u&&(dA(s)&&RA(s)||Array.isArray(s)&&!s.filter((function(e){return!yA(e)})).length)&&(n?delete n[f]:delete e[f]),n=s}}return e}function JA(){var e=[];return{get observers(){return e},next:function(t){var n,r=Ut(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var YA=function(e){return fA(e)||!hA(e)};function XA(e,t){if(YA(e)||YA(t))return e===t;if(lA(e)&&lA(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(lA(u)&&lA(s)||dA(u)&&dA(s)||Array.isArray(u)&&Array.isArray(s)?!XA(u,s):u!==s)return!1}}return!0}var eN=function(e){return{isOnSubmit:!e||e===SA,isOnBlur:e===wA,isOnChange:e===xA,isOnAll:e===EA,isOnTouch:e===_A}},tN=function(e){return"boolean"===typeof e},nN=function(e){return"file"===e.type},rN=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},iN=function(e){return"select-multiple"===e.type},aN=function(e){return"radio"===e.type},oN=function(e){return aN(e)||cA(e)},uN=function(e){return rN(e)&&e.isConnected};function sN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(dA(e)||n)for(var r in e)Array.isArray(e[r])||dA(e[r])&&!BA(e[r])?(t[r]=Array.isArray(e[r])?[]:{},sN(e[r],t[r])):fA(e[r])||(t[r]=!0);return t}function cN(e,t,n){var r=Array.isArray(e);if(dA(e)||r)for(var i in e)Array.isArray(e[i])||dA(e[i])&&!BA(e[i])?yA(t)||YA(n[i])?n[i]=Array.isArray(e[i])?sN(e[i],[]):qn({},sN(e[i])):cN(e[i],fA(t)?{}:t[i],n[i]):n[i]=!XA(e[i],t[i]);return n}var lN=function(e,t){return cN(e,t,sN(t))},fN={value:!1,isValid:!1},hN={value:!0,isValid:!0},dN=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!yA(e[0].attributes.value)?yA(e[0].value)||""===e[0].value?hN:{value:e[0].value,isValid:!0}:hN:fN}return fN},pN=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return yA(e)?e:n?""===e||fA(e)?NaN:+e:r&&jA(e)?new Date(e):i?i(e):e},vN={isValid:!1,value:null},mN=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),vN):vN};function yN(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return nN(t)?t.files:aN(t)?mN(e.refs).value:iN(t)?(0,Tn.Z)(t.selectedOptions).map((function(e){return e.value})):cA(t)?dN(e.refs).value:pN(yA(t.value)?e.ref.value:t.value,e)}var gN=function(e,t,n,r){var i,a={},o=Ut(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=gA(t,u);s&&WA(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:(0,Tn.Z)(e),fields:a,shouldUseNativeValidation:r}},kN=function(e){return e instanceof RegExp},bN=function(e){return yA(e)?void 0:kN(e)?e.source:dA(e)?kN(e.value)?e.value.source:e.value:e},wN=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function xN(e,t,n){var r=gA(e,n);if(r||qA(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=gA(t,a),u=gA(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var SN=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},_N=function(e,t){return!mA(gA(e,t)).length&&QA(e,t)},EN=function(e){return jA(e)||r.isValidElement(e)};function IN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(EN(e)||Array.isArray(e)&&e.every(EN)||tN(e)&&!e)return{type:n,message:EN(e)?e:"",ref:t}}var TN,CN,AN=function(e){return dA(e)&&!kN(e)?e:{value:e,message:""}},NN=function(){var e=An(In().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p,v,m,y,g,k,b,w,x,S,_,E,I,T,C,A,N,O,D,P,R,L,F,M,j,V,U,B,z,q,K,W,H,G,Z;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t._f,o=a.ref,u=a.refs,s=a.required,c=a.maxLength,l=a.minLength,f=a.min,h=a.max,d=a.pattern,p=a.validate,v=a.name,m=a.valueAsNumber,y=a.mount,g=a.disabled,y&&!g){e.next=3;break}return e.abrupt("return",{});case 3:if(k=u?u[0]:o,b=function(e){i&&k.reportValidity&&(k.setCustomValidity(tN(e)?"":e||" "),k.reportValidity())},w={},x=aN(o),S=cA(o),_=x||S,E=(m||nN(o))&&!o.value||""===n||Array.isArray(n)&&!n.length,I=zA.bind(null,v,r,w),T=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:CA,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:AA,a=e?t:n;w[v]=qn({type:e?r:i,message:a,ref:o},I(e?r:i,a))},!s||!(!_&&(E||fA(n))||tN(n)&&!n||S&&!dN(u).isValid||x&&!mN(u).isValid)){e.next=19;break}if(C=EN(s)?{value:!!s,message:s}:AN(s),A=C.value,N=C.message,!A){e.next=19;break}if(w[v]=qn({type:OA,message:N,ref:k},I(OA,N)),r){e.next=19;break}return b(N),e.abrupt("return",w);case 19:if(E||fA(f)&&fA(h)){e.next=28;break}if(P=AN(h),R=AN(f),fA(n)||isNaN(n)?(F=o.valueAsDate||new Date(n),jA(P.value)&&(O=F>new Date(P.value)),jA(R.value)&&(D=F<new Date(R.value))):(L=o.valueAsNumber||+n,fA(P.value)||(O=L>P.value),fA(R.value)||(D=L<R.value)),!O&&!D){e.next=28;break}if(T(!!O,P.message,R.message,IA,TA),r){e.next=28;break}return b(w[v].message),e.abrupt("return",w);case 28:if(!c&&!l||E||!jA(n)){e.next=38;break}if(M=AN(c),j=AN(l),V=!fA(M.value)&&n.length>M.value,U=!fA(j.value)&&n.length<j.value,!V&&!U){e.next=38;break}if(T(V,M.message,j.message),r){e.next=38;break}return b(w[v].message),e.abrupt("return",w);case 38:if(!d||E||!jA(n)){e.next=45;break}if(B=AN(d),z=B.value,q=B.message,!kN(z)||n.match(z)){e.next=45;break}if(w[v]=qn({type:NA,message:q,ref:o},I(NA,q)),r){e.next=45;break}return b(q),e.abrupt("return",w);case 45:if(!p){e.next=79;break}if(!UA(p)){e.next=58;break}return e.next=49,p(n);case 49:if(K=e.sent,!(W=IN(K,k))){e.next=56;break}if(w[v]=qn(qn({},W),I(DA,W.message)),r){e.next=56;break}return b(W.message),e.abrupt("return",w);case 56:e.next=79;break;case 58:if(!dA(p)){e.next=79;break}H={},e.t0=In().keys(p);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(G=e.t1.value,RA(H)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=IN,e.next=68,p[G](n);case 68:e.t3=e.sent,e.t4=k,e.t5=G,(Z=(0,e.t2)(e.t3,e.t4,e.t5))&&(H=qn(qn({},Z),I(G,Z.message)),b(Z.message),r&&(w[v]=H)),e.next=61;break;case 75:if(RA(H)){e.next=79;break}if(w[v]=qn({ref:k},H),r){e.next=79;break}return e.abrupt("return",w);case 79:return b(!0),e.abrupt("return",w);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),ON={mode:SA,reValidateMode:xA,shouldFocusError:!0};function DN(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=qn(qn({},ON),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},a=$A(n.defaultValues)||{},o=n.shouldUnregister?{}:$A(a),u={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0,l={},f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:JA(),array:JA(),state:JA()},d=eN(n.mode),p=eN(n.reValidateMode),v=n.criteriaMode===EA,m=function(e){return function(t){clearTimeout(c),c=window.setTimeout(e,t)}},y=function(){var e=An(In().mark((function e(t){var a;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,!f.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=RA,e.next=6,S();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,E(i,!0);case 12:e.t0=e.sent;case 13:a=e.t0,t||a===r.isValid||(r.isValid=a,h.state.next({isValid:a}));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(s&&n){if(u.action=!0,l&&Array.isArray(gA(i,e))){var d=n(gA(i,e),s.argA,s.argB);c&&WA(i,e,d)}if(f.errors&&l&&Array.isArray(gA(r.errors,e))){var p=n(gA(r.errors,e),s.argA,s.argB);c&&WA(r.errors,e,p),_N(r.errors,e)}if(f.touchedFields&&l&&Array.isArray(gA(r.touchedFields,e))){var v=n(gA(r.touchedFields,e),s.argA,s.argB);c&&WA(r.touchedFields,e,v)}f.dirtyFields&&(r.dirtyFields=lN(a,o)),h.state.next({isDirty:T(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else WA(o,e,t)},k=function(e,t){WA(r.errors,e,t),h.state.next({errors:r.errors})},b=function(e,t,n,r){var s=gA(i,e);if(s){var c=gA(o,e,yA(n)?gA(a,e):n);yA(c)||r&&r.defaultChecked||t?WA(o,e,t?c:yN(s._f)):N(e,c),u.mount&&y()}},w=function(e,t,n,i,o){var u=!1,s={name:e},c=gA(r.touchedFields,e);if(f.isDirty){var l=r.isDirty;r.isDirty=s.isDirty=T(),u=l!==s.isDirty}if(f.dirtyFields&&(!n||i)){var d=gA(r.dirtyFields,e);XA(gA(a,e),t)?QA(r.dirtyFields,e):WA(r.dirtyFields,e,!0),s.dirtyFields=r.dirtyFields,u=u||d!==gA(r.dirtyFields,e)}return n&&!c&&(WA(r.touchedFields,e,n),s.touchedFields=r.touchedFields,u=u||f.touchedFields&&c!==n),u&&o&&h.state.next(s),u?s:{}},x=function(){var n=An(In().mark((function n(i,a,o,u){var s,d,p;return In().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=gA(r.errors,i),d=f.isValid&&r.isValid!==a,t.delayError&&o?(e=m((function(){return k(i,o)})))(t.delayError):(clearTimeout(c),e=null,o?WA(r.errors,i,o):QA(r.errors,i)),(o?XA(s,o):!s)&&RA(u)&&!d||(p=qn(qn(qn({},u),d?{isValid:a}:{}),{},{errors:r.errors,name:i}),r=qn(qn({},r),p),h.state.next(p)),l[i]--,f.isValidating&&!Object.values(l).some((function(e){return e}))&&(h.state.next({isValidating:!1}),l={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}(),S=function(){var e=An(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(qn({},o),n.context,gN(t||s.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=An(In().mark((function e(t){var n,i,a,o,u,s;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:if(n=e.sent,i=n.errors,t){a=Ut(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=gA(i,u))?WA(r.errors,u,s):QA(r.errors,u)}catch(c){a.e(c)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=An(In().mark((function e(t,i){var a,u,s,c,l,f,h=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=h.length>2&&void 0!==h[2]?h[2]:{valid:!0},e.t0=In().keys(t);case 2:if((e.t1=e.t0()).done){e.next=22;break}if(u=e.t1.value,!(s=t[u])){e.next=20;break}if(c=s._f,l=aA(s,sA),!c){e.next=16;break}return e.next=10,NN(s,gA(o,c.name),v,n.shouldUseNativeValidation);case 10:if(!(f=e.sent)[c.name]){e.next=15;break}if(a.valid=!1,!i){e.next=15;break}return e.abrupt("break",22);case 15:i||(f[c.name]?WA(r.errors,c.name,f[c.name]):QA(r.errors,c.name));case 16:if(e.t2=l,!e.t2){e.next=20;break}return e.next=20,E(l,i,a);case 20:e.next=2;break;case 22:return e.abrupt("return",a.valid);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e,t=Ut(s.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=gA(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!uN(e)})):!uN(r._f.ref))&&U(n)}}catch(a){t.e(a)}finally{t.f()}s.unMount=new Set},T=function(e,t){return e&&t&&WA(o,e,t),!XA(L(),a)},C=function(e,t,n){var r=qn({},u.mount?o:yA(t)?a:jA(e)?(0,Lt.Z)({},e,t):t);return VA(e,s,r,n)},A=function(e){return mA(gA(u.mount?o:a,e,t.shouldUnregister?gA(a,e,[]):[]))},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=gA(i,e),a=t;if(r){var u=r._f;u&&(!u.disabled&&WA(o,e,pN(t,u)),a=ZA&&rN(u.ref)&&fA(t)?"":t,iN(u.ref)?(0,Tn.Z)(u.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):u.refs?cA(u.ref)?u.refs.length>1?u.refs.forEach((function(e){return!e.disabled&&(e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value)})):u.refs[0]&&(u.refs[0].checked=!!a):u.refs.forEach((function(e){return e.checked=e.value===a})):nN(u.ref)?u.ref.value="":(u.ref.value=a,u.ref.type||h.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&w(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&R(e)},O=function e(t,n,r){for(var a in n){var o=n[a],u="".concat(t,".").concat(a),c=gA(i,u);!s.array.has(t)&&YA(o)&&(!c||c._f)||lA(o)?N(u,o,r):e(u,o,r)}},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=gA(i,e),c=s.array.has(e),l=$A(t);WA(o,e,l),c?(h.array.next({name:e,values:o}),(f.isDirty||f.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=lN(a,o),h.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:T(e,l)}))):!u||u._f||fA(l)?N(e,l,n):O(e,l,n),GA(e,s)&&h.state.next({}),h.watch.next({name:e})},P=function(){var t=An(In().mark((function t(a){var u,c,f,m,g,k,b,_,E,I,T,C,A,N,O;return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=a.target,c=u.name,!(f=gA(i,c))){t.next=39;break}if(k=u.type?yN(f._f):pA(a),b=a.type===kA||a.type===bA,_=!wN(f._f)&&!n.resolver&&!gA(r.errors,c)&&!f._f.deps||SN(b,gA(r.touchedFields,c),r.isSubmitted,p,d),E=GA(c,s,b),WA(o,c,k),b?(f._f.onBlur&&f._f.onBlur(a),e&&e(0)):f._f.onChange&&f._f.onChange(a),I=w(c,k,b,!1),T=!RA(I)||E,!b&&h.watch.next({name:c,type:a.type}),!_){t.next=15;break}return t.abrupt("return",T&&h.state.next(qn({name:c},E?{}:I)));case 15:if(!b&&E&&h.state.next({}),l[c]=(l[c],1),h.state.next({isValidating:!0}),!n.resolver){t.next=30;break}return t.next=21,S([c]);case 21:C=t.sent,A=C.errors,N=xN(r.errors,i,c),O=xN(A,i,N.name||c),m=O.error,c=O.name,g=RA(A),t.next=37;break;case 30:return t.next=32,NN(f,gA(o,c),v,n.shouldUseNativeValidation);case 32:return t.t0=c,m=t.sent[t.t0],t.next=36,y(!0);case 36:g=t.sent;case 37:f._f.deps&&R(f._f.deps),x(c,g,m,I);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var e=An(In().mark((function e(t){var a,o,u,c,l,d=arguments;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:{},c=FA(t),h.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,_(yA(t)?t:c);case 6:l=e.sent,o=RA(l),u=t?!c.some((function(e){return gA(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=An(In().mark((function e(t){var n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gA(i,t),e.next=3,E(n&&n._f?(0,Lt.Z)({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||r.isValid)&&y(),e.next=21;break;case 18:return e.next=20,E(i);case 20:u=o=e.sent;case 21:return h.state.next(qn(qn(qn({},!jA(t)||f.isValid&&o!==r.isValid?{}:{name:t}),n.resolver?{isValid:o}:{}),{},{errors:r.errors,isValidating:!1})),a.shouldFocus&&!u&&HA(i,(function(e){return gA(r.errors,e)}),t?c:s.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){var t=qn(qn({},a),u.mount?o:{});return yA(e)?t:jA(e)?gA(t,e):e.map((function(e){return gA(t,e)}))},F=function(e,t){return{invalid:!!gA((t||r).errors,e),isDirty:!!gA((t||r).dirtyFields,e),isTouched:!!gA((t||r).touchedFields,e),error:gA((t||r).errors,e)}},M=function(e){e?FA(e).forEach((function(e){return QA(r.errors,e)})):r.errors={},h.state.next({errors:r.errors})},j=function(e,t,n){var a=(gA(i,e,{_f:{}})._f||{}).ref;WA(r.errors,e,qn(qn({},t),{},{ref:a})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},V=function(e,t){return UA(e)?h.watch.subscribe({next:function(n){return e(C(void 0,t),n)}}):C(e,t,!0)},U=function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Ut(e?FA(e):s.mount);try{for(c.s();!(t=c.n()).done;){var l=t.value;s.mount.delete(l),s.array.delete(l),gA(i,l)&&(u.keepValue||(QA(i,l),QA(o,l)),!u.keepError&&QA(r.errors,l),!u.keepDirty&&QA(r.dirtyFields,l),!u.keepTouched&&QA(r.touchedFields,l),!n.shouldUnregister&&!u.keepDefaultValue&&QA(a,l))}}catch(f){c.e(f)}finally{c.f()}h.watch.next({}),h.state.next(qn(qn({},r),u.keepDirty?{isDirty:T()}:{})),!u.keepIsValid&&y()},B=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=gA(i,t),l=tN(r.disabled);return WA(i,t,{_f:qn(qn({},c&&c._f?c._f:{ref:{name:t}}),{},{name:t,mount:!0},r)}),s.mount.add(t),c?l&&WA(o,t,r.disabled?void 0:gA(o,t,yN(c._f))):b(t,!0,r.value),qn(qn(qn({},l?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:bN(r.min),max:bN(r.max),minLength:bN(r.minLength),maxLength:bN(r.maxLength),pattern:bN(r.pattern)}:{}),{},{name:t,onChange:P,onBlur:P,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(o){if(o){e(t,r),c=gA(i,t);var l=yA(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,f=oN(l),h=c._f.refs||[];if(f?h.find((function(e){return e===l})):l===c._f.ref)return;WA(i,t,{_f:qn(qn({},c._f),f?{refs:[].concat((0,Tn.Z)(h.filter(uN)),[l],(0,Tn.Z)(Array.isArray(gA(a,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),b(t,!1,void 0,l)}else(c=gA(i,t,{}))._f&&(c._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!vA(s.array,t)||!u.action)&&s.unMount.add(t)}))})},z=function(e,t){return function(){var a=An(In().mark((function a(u){var c,l,f,d,p;return In().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist()),c=!0,l=$A(o),h.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,S();case 8:f=a.sent,d=f.errors,p=f.values,r.errors=d,l=p,a.next=17;break;case 15:return a.next=17,E(i);case 17:if(!RA(r.errors)){a.next=23;break}return h.state.next({errors:{},isSubmitting:!0}),a.next=21,e(l,u);case 21:a.next=27;break;case 23:if(!t){a.next=26;break}return a.next=26,t(qn({},r.errors),u);case 26:n.shouldFocusError&&HA(i,(function(e){return gA(r.errors,e)}),s.mount);case 27:a.next=33;break;case 29:throw a.prev=29,a.t0=a.catch(4),c=!1,a.t0;case 33:return a.prev=33,r.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:RA(r.errors)&&c,submitCount:r.submitCount+1,errors:r.errors}),a.finish(33);case 37:case"end":return a.stop()}}),a,null,[[4,29,33,37]])})));return function(e){return a.apply(this,arguments)}}()},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gA(i,e)&&(yA(t.defaultValue)?D(e,gA(a,e)):(D(e,t.defaultValue),WA(a,e,t.defaultValue)),t.keepTouched||QA(r.touchedFields,e),t.keepDirty||(QA(r.dirtyFields,e),r.isDirty=t.defaultValue?T(e,gA(a,e)):T()),t.keepError||(QA(r.errors,e),f.isValid&&y()),h.state.next(qn({},r)))},K=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=e||a,l=$A(c),d=e&&!RA(e)?l:a;if(n.keepDefaultValues||(a=c),!n.keepValues){if(n.keepDirtyValues){var p,v=Ut(s.mount);try{for(v.s();!(p=v.n()).done;){var m=p.value;gA(r.dirtyFields,m)?WA(d,m,gA(o,m)):D(m,gA(d,m))}}catch(x){v.e(x)}finally{v.f()}}else{if(ZA&&yA(e)){var y,g=Ut(s.mount);try{for(g.s();!(y=g.n()).done;){var k=y.value,b=gA(i,k);if(b&&b._f){var w=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;try{rN(w)&&w.closest("form").reset();break}catch(UE){}}}}catch(x){g.e(x)}finally{g.f()}}i={}}o=t.shouldUnregister?n.keepDefaultValues?$A(a):{}:l,h.array.next({values:d}),h.watch.next({values:d})}s={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!f.isValid||!!n.keepIsValid,u.watch=!!t.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||XA(e,a)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?lN(a,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=gA(i,e)._f,r=n.refs?n.refs[0]:n.ref;r.focus(),t.shouldSelect&&r.select()};return{control:{register:B,unregister:U,getFieldState:F,_executeSchema:S,_getWatch:C,_getDirty:T,_updateValid:y,_removeUnmounted:I,_updateFieldArray:g,_getFieldArray:A,_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _stateFlags(){return u},set _stateFlags(e){u=e},get _defaultValues(){return a},get _names(){return s},set _names(e){s=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=qn(qn({},n),e)}},trigger:R,register:B,handleSubmit:z,watch:V,setValue:D,getValues:L,reset:K,resetField:q,clearErrors:M,unregister:U,setError:j,setFocus:W,getFieldState:F}}function PN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=r.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),i=(0,a.Z)(n,2),o=i[0],u=i[1];t.current?t.current.control._options=e:t.current=qn(qn({},DN(e)),{},{formState:o});var s=t.current.control,c=r.useCallback((function(e){LA(e,s._proxyFormState,!0)&&(s._formState=qn(qn({},s._formState),e),u(qn({},s._formState)))}),[s]);return MA({subject:s._subjects.state,callback:c}),r.useEffect((function(){s._stateFlags.mount||(s._proxyFormState.isValid&&s._updateValid(),s._stateFlags.mount=!0),s._stateFlags.watch&&(s._stateFlags.watch=!1,s._subjects.state.next({})),s._removeUnmounted()})),t.current.formState=PA(o,s._proxyFormState),t.current}_t.div(TN||(TN=Q(["\n    width: 40px;\n    background-color: #1DB954;\n    display: grid;\n    place-items: right;\n    cursor: pointer;\n    border-radius: 3rem;\n    transition: all 0.2s ease;\n    margin: auto 5px;\n    float: left;\n    \n    &:hover {\n        transform: scale(1.10);\n"]))),_t.div(CN||(CN=Q(["\n    width: 40px;\n    background-color: #1DB954;\n    display: grid;\n    place-items: right;\n    cursor: pointer;\n    border-radius: 3rem;\n    margin: auto 5px;\n    transition: all 0.2s ease;\n    float: left;\n    \n    &:hover {\n        transform: scale(1.05);\n"])));var RN,LN,FN,MN,jN,VN,UN,BN,zN,qN,KN,WN,HN,GN,ZN,$N,QN,JN,YN,XN,eO,tO,nO,rO,iO,aO,oO,uO,sO,cO,lO,fO,hO,dO,pO,vO,mO,yO,gO,kO,bO,wO,xO,SO,_O,EO,IO,TO,CO,AO,NO,OO,DO,PO,RO,LO,FO,MO,jO,VO,UO,BO,zO,qO,KO,WO,HO=function(){var e,t,n=Ot(),i=n.accessToken,o=n.spotifyId,u=F(),s=new(Pt());s.setAccessToken(i);var c=(0,r.useState)(""),l=(0,a.Z)(c,2),f=(l[0],l[1]),h=(0,r.useState)({}),d=(0,a.Z)(h,2),p=d[0],v=d[1],m=(0,r.useState)(0),y=(0,a.Z)(m,2),g=y[0],k=y[1],b=PN(),w=b.register,x=b.getValues,S=b.handleSubmit;return(0,r.useEffect)((function(){s.getTrack(u.id).then((function(e){console.log(e),v(e),e})),NC.collection("userData").doc(o).collection("musicEntries").doc(u.id).get().then((function(e){var t=e.get("musicEntry");if(void 0==t)console.log("There was no saved musicEntry");else{document.getElementById("textArea").value=t||"",console.log("There was a saved music entry: "+t);var n=e.get("rating");console.log("song rating",JSON.stringify(n)),k(n||0)}})).catch((function(e){console.log(e),console.log("spotify id not working ????")}))}),[]),(0,Tt.jsxs)("div",{className:"musicEntryDiv",children:[(0,Tt.jsxs)("div",{className:"musicTrackDiv",children:[(0,Tt.jsx)("img",{className:"musicImage",alt:"Track Photo",src:null===(e=p.album)||void 0===e?void 0:e.images[0].url}),(0,Tt.jsx)("div",{className:"musicTrackInfoDiv",children:(0,Tt.jsxs)("div",{className:"musicTrackTitleAndArtist",children:[(0,Tt.jsx)("label",{className:"musicTrackTitle",style:{display:"block"},children:p.name}),(0,Tt.jsx)("label",{className:"musicTrackArtist",children:null===(t=p.album)||void 0===t?void 0:t.artists[0].name}),(0,Tt.jsx)(rA.Z,{value:Math.max(0,g),char:"\u266b",count:5,onChange:function(e){k(e),NC.collection("userData").doc(o).collection("musicEntries").doc(u.id).set({rating:e},{merge:!0})},size:30,isHalf:!0,emptyIcon:(0,Tt.jsx)("i",{className:"far fa-star"}),halfIcon:(0,Tt.jsx)("i",{className:"fa fa-star-half-alt"}),fullIcon:(0,Tt.jsx)("i",{className:"fa fa-star"}),activeColor:"#ffd700"},"stars_".concat(g)),(0,Tt.jsxs)("div",{className:"playpauseDiv",children:[(0,Tt.jsx)("div",{className:"pauseIconDiv",onClick:function(){console.log("Trying to pause the playback"),s.pause().then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:(0,Tt.jsx)(LC.Z,{style:{fontSize:"40px"}})}),(0,Tt.jsx)("div",{onClick:function(){console.log("inside playback"),s.play({uris:[p.uri]}).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},className:"playIconDiv",children:(0,Tt.jsx)(RC.Z,{style:{fontSize:"40px"}})})]})]})})]}),(0,Tt.jsxs)("div",{style:{display:"block"},className:"btnGroup",children:[(0,Tt.jsx)("textarea",qn(qn({},w("musicEntry")),{},{spellCheck:"false",id:"textArea",className:"musicEntry",placeholder:"This song speaks to me...",type:"text"})),(0,Tt.jsxs)("div",{className:"btnGroup",children:[(0,Tt.jsx)("button",{onClick:S((function(){f(""),k(0),document.getElementById("textArea").value="",NC.collection("userData").doc(o).collection("musicEntries").doc(u.id).delete()})),className:"musicEntryButton",style:{backgroundColor:"#b4b4b4"},children:"clear"}),(0,Tt.jsx)("button",{onClick:S((function(){var e=x("musicEntry");f(e),NC.collection("userData").doc(o).collection("musicEntries").doc(u.id).set({musicEntry:e,timestamp:RT()},{merge:!0})})),className:"musicEntryButton",children:"save"})]})]})]})},GO=n(5403),ZO=_t.div(RN||(RN=Q(["\n    width: 100%;\n    display: block;  \n"]))),$O=_t.div(LN||(LN=Q(["\n    width: 100%;\n    align-items: center;\n    justify-content: center;\n    display: flex;\n    \n"]))),QO=_t.div(FN||(FN=Q(["\n    padding-top : 40px;\n    display: flex;\n\n"]))),JO=_t.input(MN||(MN=Q(["\n    width: 300px;\n    height: 20px;\n    font-size: 16px;\n    font-family: 'Karla', sans-serif;\n\n    padding: 10px;\n    border-radius: 4px;\n    border: 0;\n    \n    &:focus {\n        outline: none;\n        background-color: white;\n    }\n"]))),YO=_t.div(jN||(jN=Q(["\n    width: 50px;\n    height: 40px;\n    background-color: #1DB954;\n    display: grid;\n    place-items: center;\n    border-radius: 6px;\n    cursor: pointer;\n\n"]))),XO=_t.div(VN||(VN=Q(["\n    width: 100%:\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden:\n    overflow-y: auto;\n\n"]))),eD=_t.div(UN||(UN=Q(["\n    width: 500px;\n    height: 425px;\n    float: left;\n    overflow: hidden;\n    overflow-y: auto;\n    margin-bottom: 0px;\n    padding: 0px;\n"]))),tD=_t.table(BN||(BN=Q(["\n    width: 450px;\n    border-radius: 1rem;\n    padding: 5px;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.99);\n"]))),nD=_t.tbody(zN||(zN=Q(["\n    display: block;\n    height: 300px;\n    overflow: hidden;\n    overflow-y: auto;\n    \n"]))),rD=_t.tr(qN||(qN=Q(["\n    width: 100%;\n    &:hover {\n        background-color: lightgrey;\n    }\n"]))),iD=_t.td(KN||(KN=Q(["\n    width: 100%;\n"]))),aD=_t.p(WN||(WN=Q(["\n    color: #FFFFFF;\n    font-weight: 'bold';\n    font-family: 'Cantarell', sans-serif;\n    font-size: 20px;\n    \n    \n"]))),oD=_t.label(HN||(HN=Q(["\n    font-size: 16px;\n    padding: 5px 10px;\n    font-family: 'Syne', sans-serif;\n    font-weight: bold;\n    color: #FFFFFF;\n    display: block;\n"]))),uD=function(){var e=Ot().accessToken,t=new(Pt());t.setAccessToken(e);var n=(0,r.useState)(""),i=(0,a.Z)(n,2),o=i[0],u=i[1],s=L(),c=PN(),l=c.register,f=c.getValues,h=c.handleSubmit,d=["album","artist","track","playlist"],p=function(){var e=f("search");t.search(e,d,{limit:20}).then((function(e){console.log(e),u(e)})).catch((function(e){console.error(e)}))},v=function(){var e=o.tracks.items,t=o.artists.items,n=o.albums.items,i=o.playlists.items;return(0,Tt.jsxs)(r.Fragment,{children:[(0,Tt.jsxs)(XO,{className:"SearchResultsDiv",children:[(0,Tt.jsxs)(eD,{children:[(0,Tt.jsx)(aD,{children:"tracks"}),e&&(0,Tt.jsx)(tD,{style:{background:"linear-gradient(342deg, rgba(253,187,45,1) 13%, rgba(253,187,45,1) 29%, rgba(250,253,45,1) 58%)"},children:(0,Tt.jsx)(nD,{children:null===e||void 0===e?void 0:e.map((function(e){var t;return(0,Tt.jsxs)(rD,{onClick:function(){return s("/musicEntry/"+e.id)},children:[(0,Tt.jsx)("td",{children:(0,Tt.jsx)("img",{style:{borderRadius:"10px"},src:null===(t=e.album.images[0])||void 0===t?void 0:t.url,alt:"Track Photo",width:"80",height:"80"})}),(0,Tt.jsxs)(iD,{children:[(0,Tt.jsx)(oD,{onClick:function(){return s("/musicEntry/"+e.id)},style:{cursor:"pointer",color:"#000000"},children:e.name}),(0,Tt.jsx)(oD,{style:{fontSize:"14px",fontStyle:"italic",color:"#696969"},children:e.artists[0].name})]})]},e.id)}))})})]}),(0,Tt.jsxs)(eD,{children:[(0,Tt.jsx)(aD,{style:{color:"white"},children:"artists"}),t&&(0,Tt.jsx)(tD,{style:{background:"linear-gradient(90deg, rgba(107,207,46,1) 1%, rgba(221,223,52,1) 42%, rgba(166,238,58,1) 85%)"},children:(0,Tt.jsx)(nD,{children:null===t||void 0===t?void 0:t.map((function(e){var t;return(0,Tt.jsxs)(rD,{onClick:function(){return s("/artist/"+e.id)},children:[(0,Tt.jsx)("td",{children:(0,Tt.jsx)("img",{style:{borderRadius:"10px"},src:null===(t=e.images[0])||void 0===t?void 0:t.url,alt:"Artist Photo",width:"80",height:"80"})}),(0,Tt.jsx)(iD,{children:(0,Tt.jsx)(oD,{onClick:function(){return s("/artist/"+e.id)},style:{cursor:"pointer",color:"#000000"},children:e.name})})]},e.id)}))})})]})]}),(0,Tt.jsxs)(XO,{className:"SearchResultsDiv",children:[(0,Tt.jsxs)(eD,{children:[(0,Tt.jsx)(aD,{style:{color:"white"},children:"albums"}),n&&(0,Tt.jsx)(tD,{style:{background:"linear-gradient(342deg, rgba(180,58,135,1) 0%, rgba(175,48,236,1) 59%, rgba(241,68,151,1) 82%)"},children:(0,Tt.jsx)(nD,{children:null===n||void 0===n?void 0:n.map((function(e){var t;return(0,Tt.jsxs)(rD,{onClick:function(){return s("/album/"+e.id)},children:[(0,Tt.jsx)("td",{children:(0,Tt.jsx)("img",{style:{borderRadius:"10px"},src:null===(t=e.images[0])||void 0===t?void 0:t.url,alt:"Album Photo",width:"80",height:"80"})}),(0,Tt.jsx)(iD,{children:(0,Tt.jsx)(oD,{onClick:function(){return s("/album/"+e.id)},style:{cursor:"pointer",color:"#000000"},children:e.name})})]},e.id)}))})})]}),(0,Tt.jsxs)(eD,{children:[(0,Tt.jsx)(aD,{style:{color:"white"},children:"playlists"}),i&&(0,Tt.jsx)(tD,{style:{background:"linear-gradient(342deg, rgba(180,58,141,1) 18%, rgba(48,110,236,1) 52%, rgba(90,199,245,1) 79%)"},children:(0,Tt.jsx)(nD,{children:null===i||void 0===i?void 0:i.map((function(e){var t;return(0,Tt.jsxs)(rD,{onClick:function(){return s("/playlist/"+e.id)},children:[(0,Tt.jsx)("td",{children:(0,Tt.jsx)("img",{style:{borderRadius:"10px"},src:null===(t=e.images[0])||void 0===t?void 0:t.url,alt:"Album Photo",width:"80",height:"80"})}),(0,Tt.jsx)(iD,{children:(0,Tt.jsx)(oD,{onClick:function(){return s("/playlist/"+e.id)},style:{cursor:"pointer",color:"#000000"},children:e.name})})]},e.id)}))})})]})]})]})},m=function(){return(0,Tt.jsx)($O,{className:"searchbarDiv",children:(0,Tt.jsxs)(QO,{children:[(0,Tt.jsx)(JO,qn(qn({},l("search")),{},{placeholder:"Tracks, Albums, Artists, Playlists ...",type:"text"})),(0,Tt.jsx)(YO,{onClick:h(p),children:(0,Tt.jsx)(GO.Z,{style:{fontSize:"35px"}})})]})})};return(0,Tt.jsxs)(ZO,{className:"SearchPageDiv",children:[(0,Tt.jsx)(m,{}),o?(0,Tt.jsx)(v,{}):(0,Tt.jsx)("div",{})]})},sD=_t.div(GN||(GN=Q(["\n    padding-top: 50px;\n    display: flex;\n    flex-direction: column;\n"]))),cD=_t.div(ZN||(ZN=Q(["\n    height: 700px;\n    overflow: hidden;\n"]))),lD=_t.label($N||($N=Q(["\n    font-size: 24px;\n    color: white;\n    font-family: 'Josefin Sans', sans-serif;\n"]))),fD=_t.label(QN||(QN=Q(["\n    font-size: 16px;\n    padding: 5px 10px;\n    font-family: 'Syne', sans-serif;\n    font-weight: bold;\n    color: #FFFFFF;\n    display: block;\n"]))),hD=_t.table(JN||(JN=Q(["\n    margin-top: 15px;\n    width: 400px;\n    background-color: #808080;\n    border-radius: 1rem;\n    padding: 10px;\n    margin: 10px;\n    text-align:left;\n    margin: 10px auto;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.99);\n\n"]))),dD=_t.tbody(YN||(YN=Q(["\n    display: block;\n    max-height: 600px;\n    overflow-y: auto;\n    \n"]))),pD=_t.tr(XN||(XN=Q(["\n    cursor: pointer;\n    &:hover {\n        background-color: #DCDCDC;\n    }\n"]))),vD=function(){var e=(0,r.useState)([]),t=(0,a.Z)(e,2),n=(t[0],t[1]),i=(0,r.useState)({}),o=(0,a.Z)(i,2),u=o[0],s=o[1],c=Ot(),l=c.accessToken,f=c.spotifyId,h=L(),d=new(Pt());return d.setAccessToken(l),(0,r.useEffect)((function(){var e=[],t=[];NC.collection("userData").doc(f).collection("musicEntries").orderBy("timestamp","desc").get().then((function(r){r&&(r.forEach((function(n){e.push(qn(qn({},n.data()),{},{key:n.id})),t.push(n.id)})),n(e),console.log(e.length),console.log(e),d.getTracks(t).then((function(e){console.log(e.tracks),s(e.tracks)})))})).catch((function(e){console.log(e),console.log("spotify id not working ????")}))}),[]),(0,Tt.jsxs)(sD,{children:[(0,Tt.jsx)(lD,{children:"Music Entries"}),u.length>0?(0,Tt.jsx)(cD,{children:(0,Tt.jsx)(hD,{children:(0,Tt.jsx)(dD,{children:u.map((function(e){var t;return(0,Tt.jsxs)(pD,{onClick:function(){return h("/musicEntry/"+e.id)},children:[(0,Tt.jsx)("td",{style:{width:"100px",height:"100px"},children:(0,Tt.jsx)("img",{src:null===(t=e.album)||void 0===t?void 0:t.images[0].url,alt:"Track Photo",width:"100",height:"100"})}),(0,Tt.jsxs)("td",{children:[(0,Tt.jsx)(fD,{onClick:function(){return h("/musicEntry/"+e.id)},style:{cursor:"pointer",color:"#FFFFFF"},children:e.name}),(0,Tt.jsx)(lD,{style:{padding:"0px 10px",fontSize:"14px",fontStyle:"italic",color:"#F5FFFA"},children:e.artists[0].name})]})]},e.id)}))})})}):(0,Tt.jsx)(lD,{children:"You have no music entries yet!"})]})},mD=_t.div(eO||(eO=Q(["\n    width: 100vw;\n    display: block;\n    margin-top: 30px;\n"]))),yD=_t.div(tO||(tO=Q(["\n    display: flex;\n    float: left;\n    align-items: center;\n    width: 100vw;\n    margin-top: 10px;\n    margin-left: 20px;\n"]))),gD=_t.div(nO||(nO=Q(["\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    margin: 0px 10px;\n"]))),kD=_t.div(rO||(rO=Q(["\n    display: block;\n    align-items: left;\n    text-align: left;\n    justify-content: center;\n"]))),bD=_t.label(iO||(iO=Q(["\n    font-size: 46px;\n    color: white;\n    font-family: 'Cantarell', sans-serif;   \n"]))),wD=_t.label(aO||(aO=Q(["\n    font-size: 16px;\n    padding: 5px 10px;\n    font-family: 'Syne', sans-serif;\n    font-weight: bold;\n    color: #FFFFFF;\n    display: block;\n"]))),xD=_t.div(oO||(oO=Q(["\n    margin-left: 100px;\n    margin-top: 25px;\n    height: 600px;\n    width: 100vw;\n    float: left;\n"]))),SD=_t.div(uO||(uO=Q(["\n    width: 400px;\n    display: block;\n    float: left;\n    margin-right: 25px;\n    text-align: right;\n"]))),_D=_t.table(sO||(sO=Q(["\n    margin-top: 5px;\n    margin-right: 50px;\n    border-radius: 1rem;\n    padding: 10px;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.99);\n    float: left;\n    width: 375px;\n"]))),ED=_t.tbody(cO||(cO=Q(["\n    display: block;\n    max-height: 360px;\n    overflow-y: auto;\n    \n"]))),ID=_t.tr(lO||(lO=Q(["\n    &:hover {\n        background-color: lightgrey;\n    }\n"]))),TD=_t.td(fO||(fO=Q(["\n    width: 375px;\n"]))),CD=function(){var e=Ot(),t=e.accessToken,n=(e.spotifyId,F()),i=L(),o=new(Pt());o.setAccessToken(t);var u=(0,r.useState)(),s=(0,a.Z)(u,2),c=s[0],l=s[1],f=(0,r.useState)([]),h=(0,a.Z)(f,2),d=h[0],p=h[1],v=(0,r.useState)(),m=(0,a.Z)(v,2),y=m[0],g=m[1],k=(0,r.useState)(),b=(0,a.Z)(k,2),w=b[0],x=b[1];return(0,r.useEffect)((function(){o.getArtist(n.id).then((function(e){console.log(e),l(e)})),o.getArtistTopTracks(n.id,"US").then((function(e){console.log(e.tracks),p(e.tracks)})),o.getArtistAlbums(n.id,{limit:15}).then((function(e){console.log(e.items),g(e.items)})),o.getArtistRelatedArtists(n.id,{limit:15}).then((function(e){console.log(e.artists),x(e.artists)}))}),[]),(0,Tt.jsxs)(mD,{className:"ArtistPageDiv",children:[(0,Tt.jsxs)(yD,{className:"ArtistInfoDiv",children:[(0,Tt.jsx)(gD,{children:(0,Tt.jsx)("img",{style:{borderRadius:"10px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.39)"},src:null===c||void 0===c?void 0:c.images[0].url,width:"225",height:"225"})}),(0,Tt.jsxs)(kD,{children:[(0,Tt.jsx)(bD,{style:{fontWeight:"bold"},children:null===c||void 0===c?void 0:c.name}),(0,Tt.jsx)(bD,{style:{display:"block",fontSize:"18px",fontStyle:"italic",marginTop:"5px",marginLeft:"7px"},children:"artist"}),(0,Tt.jsxs)(bD,{style:{marginTop:"3px",marginLeft:"7px",display:"block",fontSize:"18px"},children:["Followers: ",null===c||void 0===c?void 0:c.followers.total.toLocaleString()," | Popularity: ",null===c||void 0===c?void 0:c.popularity]})]})]}),(0,Tt.jsxs)(xD,{className:"ArtistContentDiv",children:[(0,Tt.jsxs)(SD,{children:[(0,Tt.jsx)(bD,{style:{fontSize:"18px",marginRight:"50px"},children:"top tracks"}),(0,Tt.jsx)(_D,{children:(0,Tt.jsx)(ED,{children:null===d||void 0===d?void 0:d.map((function(e){var t;return(0,Tt.jsxs)(ID,{onClick:function(){return i("/musicEntry/"+e.id)},children:[(0,Tt.jsx)(TD,{style:{width:"80px",height:"80px"},children:(0,Tt.jsx)("img",{src:null===(t=e.album)||void 0===t?void 0:t.images[0].url,alt:"Track Photo",width:"80",height:"80"})}),(0,Tt.jsxs)(TD,{children:[(0,Tt.jsx)(wD,{onClick:function(){return i("/musicEntry/"+e.id)},style:{cursor:"pointer",color:"#FFFFFF"},children:e.name}),(0,Tt.jsx)(bD,{style:{padding:"0px 10px",fontSize:"14px",fontStyle:"italic",color:"#F5FFFA"},children:e.artists[0].name})]})]},e.id)}))})})]}),(0,Tt.jsxs)(SD,{children:[(0,Tt.jsx)(bD,{style:{fontSize:"18px",marginRight:"50px"},children:"albums"}),(0,Tt.jsx)(_D,{children:(0,Tt.jsx)(ED,{children:null===y||void 0===y?void 0:y.map((function(e){return(0,Tt.jsxs)(ID,{onClick:function(){return i("/album/"+e.id)},children:[(0,Tt.jsx)(TD,{style:{width:"80px",height:"80px"},children:(0,Tt.jsx)("img",{src:null===e||void 0===e?void 0:e.images[0].url,alt:"Album Photo",width:"80",height:"80"})}),(0,Tt.jsxs)(TD,{children:[(0,Tt.jsx)(wD,{onClick:function(){return i("/album/"+e.id)},style:{cursor:"pointer",color:"#FFFFFF"},children:e.name}),(0,Tt.jsx)(bD,{style:{padding:"0px 10px",fontSize:"14px",fontStyle:"italic",color:"#F5FFFA"},children:e.artists[0].name})]})]},e.id)}))})})]}),(0,Tt.jsxs)(SD,{children:[(0,Tt.jsx)(bD,{style:{fontSize:"18px",marginRight:"50px"},children:"related artists"}),(0,Tt.jsx)(_D,{children:(0,Tt.jsx)(ED,{children:null===w||void 0===w?void 0:w.map((function(e){return(0,Tt.jsxs)(ID,{onClick:function(){i("/artist/"+e.id),window.location.reload()},children:[(0,Tt.jsx)(TD,{style:{width:"80px",height:"80px"},children:(0,Tt.jsx)("img",{src:null===e||void 0===e?void 0:e.images[0].url,alt:"Artist Photo",width:"80",height:"80"})}),(0,Tt.jsx)(TD,{children:(0,Tt.jsx)(wD,{onClick:function(){return i("/artist/"+e.id)},style:{cursor:"pointer",color:"#FFFFFF"},children:e.name})})]},e.id)}))})})]})]})]})},AD=_t.div(hO||(hO=Q(["\n    width: 100vw;\n    display: block;\n    margin-top: 30px;\n\n"]))),ND=_t.div(dO||(dO=Q(["\n    display: flex;\n    float: left;\n    align-items: center;\n    width: 100vw;\n    padding-top: 20px;\n    margin-left: 20px;\n\n"]))),OD=_t.div(pO||(pO=Q(["\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    margin: 0px 10px;\n"]))),DD=_t.div(vO||(vO=Q(["\n    display: block;\n    text-align: left;\n    justify-content: center;\n    align-content: center;\n"]))),PD=_t.div(mO||(mO=Q(["\n    width: 90%;\n    height: 90%;\n    padding: 2%;\n    display: flex;\n    flex-wrap: wrap;\n    overflow-y: auto;\n    justify-content: space-between;\n    \n   \n"]))),RD=_t.div(yO||(yO=Q(["\n    display: flex;\n    flex-direction: column;\n    width: 120px;\n    height: 120px;\n    line-height: 120px;\n\n    border-radius: 50%;\n    background-color: rgb(30,42,62);\n    border: 1px solid rgba(54, 69, 98, 0.98);\n    \n    text-align: center;\n    align-content: center;\n    justify-content: center;\n    padding: 1%;\n    margin: 5px;\n    background: rgb(34,182,195);\n    background: linear-gradient(342deg, rgba(34,182,195,1) 0%, rgba(253,187,45,1) 100%);\n    cursor: pointer;\n    \n    transition: all 0.2s ease;\n    \n    &:hover {\n        transform: scale(1.25);\n    \n"]))),LD=_t.div(gO||(gO=Q(["\n    margin: auto;\n    font-family: 'Karla', sans-serif;\n    width: 120px;\n    white-space: no-wrap;\n    display: block;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    \n"]))),FD=_t.div(kO||(kO=Q(["\n    height: 15px;\n    font-size: 14px;\n    color: black;\n    margin: 0px;\n    \n"]))),MD=_t.div(bO||(bO=Q(["\n    padding-top: 3px;\n    font-size: 20px;\n    color: white;\n    margin: 0px;\n"]))),jD=_t.label(wO||(wO=Q(["\n    font-size: 46px;\n    color: white;\n    font-family: 'Cantarell', sans-serif;   \n"]))),VD=(_t.label(xO||(xO=Q(["\n    font-size: 16px;\n    padding: 5px 10px;\n    font-family: 'Syne', sans-serif;\n    font-weight: bold;\n    color: #FFFFFF;\n    display: block;\n"]))),function(){var e=L(),t=Ot(),n=t.accessToken,i=(t.spotifyId,F()),o=new(Pt());o.setAccessToken(n);var u=(0,r.useState)(null),s=(0,a.Z)(u,2),c=s[0],l=s[1],f=(0,r.useState)(null),h=(0,a.Z)(f,2),d=h[0],p=h[1];return(0,r.useEffect)((function(){o.getAlbum(i.id).then((function(e){console.log(e),l(e)})),o.getAlbumTracks(i.id).then((function(e){console.log(e),p(e.items)}))}),[]),(0,Tt.jsxs)(AD,{children:[(0,Tt.jsxs)(ND,{children:[(0,Tt.jsx)(OD,{children:(0,Tt.jsx)("img",{src:null===c||void 0===c?void 0:c.images[0].url,alt:"Album Cover",style:{borderRadius:"10px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.39)"},width:"225",height:"225"})}),(0,Tt.jsx)(DD,{style:{position:"relative",display:"inline-block",width:"600px",height:"215px"},children:(0,Tt.jsxs)(DD,{style:{position:"absolute",bottom:"0"},children:[(0,Tt.jsx)(jD,{style:{fontWeight:"bold"},children:null===c||void 0===c?void 0:c.name}),(0,Tt.jsx)(jD,{style:{display:"block",fontSize:"18px",fontStyle:"italic",marginTop:"5px",marginLeft:"7px"},children:"album"}),(0,Tt.jsxs)(jD,{style:{marginTop:"3px",marginLeft:"7px",fontStyle:"italic",display:"block",fontSize:"18px"},children:[null===c||void 0===c?void 0:c.label," | ",null===c||void 0===c?void 0:c.release_date]}),(0,Tt.jsxs)(jD,{style:{marginTop:"3px",marginLeft:"7px",display:"block",fontSize:"18px"},children:[null===c||void 0===c?void 0:c.total_tracks," tracks"]})]})})]}),(0,Tt.jsx)(PD,{children:null===d||void 0===d?void 0:d.map((function(t){return(0,Tt.jsx)(RD,{onClick:function(){return e("/musicEntry/"+t.id)},children:(0,Tt.jsxs)(LD,{children:[(0,Tt.jsx)(FD,{className:"SongName",style:{margin:"0",padding:"0"},children:t.name}),(0,Tt.jsx)(MD,{children:t.track_number})]})})}))})]})}),UD=_t.div(SO||(SO=Q(["\n    width: 100vw;\n    display: block;\n    margin-top: 40px;\n\n"]))),BD=_t.div(_O||(_O=Q(["\n    width: 90%;\n    height: 90%;\n    padding: 1%;\n    display: flex;\n    flex-wrap: wrap;\n    overflow-y: auto;\n    justify-content: space-between;\n"]))),zD=_t.div(EO||(EO=Q(["\n    width: 140px;\n    height: 220px;\n    border-radius: 10px;\n    background-color: rgb(30,42,62);\n    border: 1px solid rgba(54, 69, 98, 0.98);\n    \n    overflow: hidden;\n    overflow-y: scroll;\n    \n    text-align: left;\n    align-content: center;\n    justify-content: center;\n    padding: 1%;\n    margin: 10px;\n    background: rgb(131,58,180);\n    background: linear-gradient(342deg, rgba(131,58,180,1) 0%, rgba(253,29,29,1) 50%, rgba(252,176,69,1) 100%);\n    cursor: pointer;\n    \n    transition: all 0.2s ease;\n    \n    &:hover {\n        transform: scale(1.10);\n    \n"]))),qD=(_t.div(IO||(IO=Q(["\n    margin: auto;\n    font-family: 'Karla', sans-serif;\n    width: 140px;\n    white-space: no-wrap;\n    display: block;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    \n"]))),_t.p(TO||(TO=Q(["\n    padding-top: 5px;\n    padding-bottom: 0;\n    margin-bottom: 4px;\n    font-size: 14px;\n    color: white;\nfont-family: 'Josefin Sans', sans-serif;\n    font-weight: 600;\n    \n"])))),KD=_t.p(CO||(CO=Q(["\n    font-size: 12px;\n    font-family: 'Karla', sans-serif;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    \n"]))),WD=_t.label(AO||(AO=Q(["\n    font-size: 32px;\n    color: white;\nfont-family: 'Josefin Sans', sans-serif;\n"]))),HD=(_t.label(NO||(NO=Q(["\n    font-size: 16px;\n    padding: 5px 10px;\n    font-family: 'Syne', sans-serif;\n    font-weight: bold;\n    color: #FFFFFF;\n    display: block;\n"]))),function(){var e,t=Ot(),n=t.accessToken,i=(t.spotifyId,L()),o=(0,r.useState)(null),u=(0,a.Z)(o,2),s=u[0],c=u[1],l=new(Pt());return l.setAccessToken(n),(0,r.useEffect)((function(){l.getUserPlaylists({limit:50}).then((function(e){console.log(e),c(e)})).catch((function(e){console.log(e)}))}),[]),(0,Tt.jsx)(UD,{className:"PlaylistScreenContainer",children:s&&(0,Tt.jsxs)(r.Fragment,{children:[(0,Tt.jsxs)(WD,{style:{paddingLeft:"20px"},children:[null===s||void 0===s?void 0:s.total," Playlists"]}),(0,Tt.jsx)(BD,{className:"PlaylistDiv",children:null===(e=s.items)||void 0===e?void 0:e.map((function(e){var t;return(0,Tt.jsxs)(zD,{onClick:function(){return i("/playlist/"+e.id)},children:[(0,Tt.jsx)("img",{style:{aspectRatio:"1",width:"100%",borderRadius:"10px"},src:e.images[0].url}),(0,Tt.jsx)(qD,{children:e.name}),(0,Tt.jsxs)(KD,{style:{margin:"0"},children:[null===(t=e.tracks)||void 0===t?void 0:t.total," songs"]})]})}))})]})})}),GD=_t.div(OO||(OO=Q(["\n    width: 100vw;\n    display: block;\n    margin-top: 40px;\n\n"]))),ZD=_t.div(DO||(DO=Q(["\n    display: flex;\n    float: left;\n    align-items: center;\n    width: 100vw;\n    margin-top: 0px;\n    margin-left: 20px;\n\n"]))),$D=_t.div(PO||(PO=Q(["\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    margin: 0px 10px;\n"]))),QD=_t.div(RO||(RO=Q(["\n    display: block;\n    text-align: left;\n    justify-content: center;\n    align-content: center;\n"]))),JD=_t.div(LO||(LO=Q(["\n    width: 90%;\n    height: 90%;\n    padding: 2%;\n    display: flex;\n    flex-wrap: wrap;\n    overflow-y: auto;\n    justify-content: space-between;  \n"]))),YD=_t.div(FO||(FO=Q(["\n    width: 120px;\n    height: 140px;\n    border-radius: 10px;\n    border: 1px solid rgba(54, 69, 98, 0.98);\n    overflow: hidden;\n    overflow-y: scroll;\n    text-align: center;\n    align-content: center;\n    justify-content: center;\n    padding: 1%;\n    margin: 5px;\n    cursor: pointer;\n    background: linear-gradient(90deg, #efd5ff 0%, #515ada 100%);\n    transition: all 0.2s ease;\n    &:hover {\n        transform: scale(1.25);\n    \n"]))),XD=_t.img(MO||(MO=Q(["\n    height: 100px;\n    width: 100px;\n    border-radius: 50%;\n"]))),eP=_t.p(jO||(jO=Q(["\n    padding: 5px 0 0 0;\n    margin: 0;\n    font-size: 14px;\n    color: white;\n    font-family: 'Josefin Sans', sans-serif;\n    font-weight: 600;\n    \n"]))),tP=_t.p(VO||(VO=Q(["\n    padding: 0;\n    margin: 0;\n    font-size: 12px;\n    font-family: 'Karla', sans-serif;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    \n"]))),nP=_t.label(UO||(UO=Q(["\n    font-size: 36px;\n    color: white;\n    font-family: 'Cantarell', sans-serif;   \n"]))),rP=_t.p(BO||(BO=Q(["\n    font-size: 14px;\n    padding: 0px 5px;\n    font-family: 'Sarabun', sans-serif;\n    color: #FFFFFF;\n"]))),iP=function(){var e=L(),t=Ot(),n=t.accessToken,i=(t.spotifyId,F()),o=new(Pt());o.setAccessToken(n);var u=(0,r.useState)(null),s=(0,a.Z)(u,2),c=s[0],l=s[1],f=(0,r.useState)(null),h=(0,a.Z)(f,2),d=h[0],p=h[1];return(0,r.useEffect)((function(){o.getPlaylist(i.id).then((function(e){console.log(e),l(e),console.log(e.tracks.items),p(e.tracks.items)}))}),[]),(0,Tt.jsx)(GD,{children:c&&(0,Tt.jsxs)(r.Fragment,{children:[(0,Tt.jsxs)(ZD,{children:[(0,Tt.jsx)($D,{children:(0,Tt.jsx)("img",{src:c.images[0].url,alt:"Playlist Cover",style:{borderRadius:"10px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.39)"},width:"225",height:"225"})}),(0,Tt.jsx)(QD,{style:{position:"relative",display:"inline-block",width:"600px",height:"215px"},children:(0,Tt.jsxs)(QD,{style:{position:"absolute",bottom:"0"},children:[(0,Tt.jsx)(nP,{style:{fontWeight:"bold"},children:null===c||void 0===c?void 0:c.name}),(0,Tt.jsxs)(nP,{style:{display:"block",fontSize:"18px",fontStyle:"italic",marginTop:"5px",marginLeft:"7px"},children:["playlist",(0,Tt.jsxs)("span",{style:{fontStyle:"normal"},children:[" | ",c.followers.total," likes"]})]}),(0,Tt.jsxs)(nP,{style:{marginTop:"3px",marginLeft:"7px",display:"block",fontSize:"18px"},children:[c.tracks.total," tracks"]}),""!=c.description&&(0,Tt.jsx)(r.Fragment,{children:(0,Tt.jsx)(rP,{children:c.description})})]})})]}),(0,Tt.jsx)(JD,{children:null===d||void 0===d?void 0:d.map((function(t){return(0,Tt.jsxs)(YD,{onClick:function(){return e("/musicEntry/"+t.track.id)},children:[(0,Tt.jsx)(XD,{src:t.track.album.images[0].url,alt:"Album Photo"}),(0,Tt.jsx)(eP,{children:t.track.name}),(0,Tt.jsx)(tP,{children:t.track.artists[0].name})]},t.track.id)}))})]})})},aP=_t.div(zO||(zO=Q(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  padding: 25px;\n  background-color: #191414;\n"]))),oP=function(){return(0,Tt.jsx)(aP,{children:(0,Tt.jsxs)(B,{children:[(0,Tt.jsx)(V,{path:"",element:(0,Tt.jsx)(PC,{})}),(0,Tt.jsx)(V,{path:"/home",element:(0,Tt.jsx)(nA,{})}),(0,Tt.jsx)(V,{path:"/musicEntry/:id",element:(0,Tt.jsx)(HO,{})}),(0,Tt.jsx)(V,{path:"/artist/:id",element:(0,Tt.jsx)(CD,{})}),(0,Tt.jsx)(V,{path:"/album/:id",element:(0,Tt.jsx)(VD,{})}),(0,Tt.jsx)(V,{path:"/search",element:(0,Tt.jsx)(uD,{})}),(0,Tt.jsx)(V,{path:"/history",element:(0,Tt.jsx)(vD,{})}),(0,Tt.jsx)(V,{path:"/playlist/:id",element:(0,Tt.jsx)(iP,{})}),(0,Tt.jsx)(V,{path:"/myPlaylists",element:(0,Tt.jsx)(HD,{})})]})})},uP=_t.nav(qO||(qO=Q(["\n  display: flex;\n  justify-content: center;\n  height: 40px;\n  width: 100%;\n  padding: 5px;\n  background-color: #1DB954;\n  align-items: center;\n  z-index: 500;\n  position: sticky;\n  top: 0;\n"]))),sP=_t($)(KO||(KO=Q(["\n  padding: 10px;\n  font-size: 22px;\n  color: #FFFFFF;\n  text-decoration: none;\n  font-family: 'Josefin Sans', sans-serif; \n"]))),cP=function(){return(0,Tt.jsxs)(uP,{children:[(0,Tt.jsx)(sP,{to:"/home",children:"Home"}),(0,Tt.jsx)(sP,{to:"/search",children:"Search"}),(0,Tt.jsx)(sP,{to:"/myPlaylists",children:"MyPlaylists"}),(0,Tt.jsx)(sP,{to:"/history",children:"History"}),(0,Tt.jsx)(sP,{to:"",children:"Login"})]})},lP=_t.div(WO||(WO=Q(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100vw;\n  height: 100vh;\n"]))),fP=function(){return(0,Tt.jsx)(Nt,{children:(0,Tt.jsxs)(lP,{children:[(0,Tt.jsx)(cP,{}),(0,Tt.jsx)(oP,{})]})})};i.createRoot(document.getElementById("root")).render((0,Tt.jsx)(G,{children:(0,Tt.jsx)(fP,{})}))}()}();
//# sourceMappingURL=main.0a0a1bdb.js.map